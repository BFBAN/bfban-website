(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f993b7a"],{"02bc":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t._v(" 404 不存在 ")])},i=[],r={name:"Empty"},o=r,n=a("2877"),l=Object(n["a"])(o,s,i,!1,null,"6a8016fe",null);e["a"]=l.exports},"0cb2":function(t,e,a){var s=a("e330"),i=a("7b0b"),r=Math.floor,o=s("".charAt),n=s("".replace),l=s("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,s,p,h){var u=a+t.length,m=s.length,f=d;return void 0!==p&&(p=i(p),f=c),n(h,f,(function(i,n){var c;switch(o(n,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,a);case"'":return l(e,u);case"<":c=p[l(n,1,-1)];break;default:var d=+n;if(0===d)return i;if(d>m){var h=r(d/10);return 0===h?i:h<=m?void 0===s[h-1]?o(n,1):s[h-1]+o(n,1):i}c=s[d-1]}return void 0===c?"":c}))}},"20aa":function(t,e,a){"use strict";a("525c")},2387:function(t,e,a){},"2b11":function(t,e,a){},"3f58":function(t,e,a){"use strict";a("c970")},"44e7":function(t,e,a){var s=a("861d"),i=a("c6b6"),r=a("b622"),o=r("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"525c":function(t,e,a){},"56bc":function(t,e,a){"use strict";a("2387")},"5b81":function(t,e,a){"use strict";var s=a("23e7"),i=a("c65b"),r=a("e330"),o=a("1d80"),n=a("1626"),l=a("7234"),c=a("44e7"),d=a("577e"),p=a("dc4a"),h=a("90d8"),u=a("0cb2"),m=a("b622"),f=a("c430"),v=m("replace"),g=TypeError,y=r("".indexOf),b=r("".replace),_=r("".slice),w=Math.max,$=function(t,e,a){return a>t.length?-1:""===e?a:y(t,e,a)};s({target:"String",proto:!0},{replaceAll:function(t,e){var a,s,r,m,C,I,x,k,T,M=o(this),S=0,R=0,L="";if(!l(t)){if(a=c(t),a&&(s=d(o(h(t))),!~y(s,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(r=p(t,v),r)return i(r,t,M,e);if(f&&a)return b(d(M),t,e)}m=d(M),C=d(t),I=n(e),I||(e=d(e)),x=C.length,k=w(1,x),S=$(m,C,0);while(-1!==S)T=I?d(e(C,S,m)):u(C,m,S,[],void 0,e),L+=_(m,R,S)+T,R=S+x,S=$(m,C,S+k);return R<m.length&&(L+=_(m,R)),L}})},"6ea1":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("Poptip",{attrs:{padding:t.padding,width:t.width,trigger:"hover",placement:"bottom",transfer:!0},on:{"on-popper-show":t.getUserInfo}},[t._t("default"),e("div",{staticClass:"business",attrs:{slot:"content"},slot:"content"},[t.loadErr?[e("Row",[e("Col",{attrs:{align:"center"}},[e("Icon",{attrs:{type:"md-alert",size:"40",color:"red"}})],1)],1)]:[e("div",{staticClass:"business-img"},[e("img",{attrs:{src:a("e124")}})]),e("Row",[e("Col",{attrs:{flex:"1"}},[e("h2",[t._v(" "+t._s(t.userInfo.username)+" ")]),t.userInfo.privilege?e("PrivilegesTag",{attrs:{data:t.userInfo.privilege}}):t._e()],1),e("Col",[t._v(" # "+t._s(t.userInfo.id)+" ")])],1),e("br"),e("Card",{attrs:{"dis-hover":""}},[e("p",{domProps:{innerHTML:t._s(t.userInfo.introduction||"(✿◡‿◡)")}})]),e("br"),e("Row",[e("Col",{attrs:{flex:"auto"}}),e("Col",[e("router-link",{attrs:{to:{path:"/account/"+t.userInfo.id,query:{repeat:!0}}}},[e("Button",[e("Icon",{attrs:{type:"ios-send",size:"20"}})],1)],1)],1)],1)],e("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}},[e("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}}),e("p",[t._v("ヾ(◍°∇°◍)ﾉﾞ load...")])],1)],2)],2)},i=[],r=a("e4b4"),o=a("d78a"),n={props:{width:{type:Number,default:400},id:Number,padding:{type:String,default:"0"}},data(){return{localBusinessMap:{},userInfo:{},spinShow:!1,loadErr:!1,type:"user"}},components:{PrivilegesTag:o["a"]},methods:{getUserInfo(){const t="business";let e=r["f"].session().get(t);if(0==e.code&&(this.localBusinessMap=e.data.value,this.localBusinessMap[this.id]&&(this.userInfo=this.localBusinessMap[this.id])),!(Object.keys(this.userInfo).length>0))switch(this.spinShow=!0,this.type){case"user":r["c"].get(r["b"]["user_info"],{params:{id:this.id}}).then(e=>{const a=e.data;1==a.success?(this.userInfo=a.data,this.localBusinessMap[this.userInfo.id]=this.userInfo,r["f"].session().set(t,this.localBusinessMap)):this.catch()}).catch(()=>{this.loadErr=!0}).finally(()=>{this.spinShow=!1});break}}}},l=n,c=(a("20aa"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,null,null);e["a"]=d.exports},"90d8":function(t,e,a){var s=a("c65b"),i=a("1a2d"),r=a("3a9b"),o=a("ad6d"),n=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in n||i(t,"flags")||!r(n,t)?e:s(o,t)}},ad6d:function(t,e,a){"use strict";var s=a("825a");t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},c72a:function(t,e,a){"use strict";a("2b11")},c84b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.detailLoad?e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[t.isFull?t._e():[e("br"),e("Row",[e("Col",{attrs:{xs:{push:1},lg:{push:0}}},[e("Breadcrumb",[e("BreadcrumbItem",{attrs:{to:{name:"home"}}},[t._v(t._s(t.$t("header.index")))]),e("BreadcrumbItem",{attrs:{to:{name:"player_list"}}},[t._v(t._s(t.$t("list.title")))]),e("BreadcrumbItem",[t._v(t._s(t.$t("detail.info.cheatersInfo")))])],1)],1)],1),e("br")],t.isCheaterExist?e("Card",{attrs:{id:"getSharePicture","dis-hover":""}},[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{xs:{span:22,pull:1,push:1},lg:{span:3,pull:0,push:0}}},[e("div",{attrs:{align:"center"}},[t.cheater.avatarLink?e("Avatar",{attrs:{shape:"square",src:t.cheater.avatarLink,size:180,title:t.$t("detail.info.originAvatar",{msg:"originAvatar"})},on:{"on-error":t.onAvatarError}}):[e("Avatar",{staticStyle:{"background-color":"rgba(255,0,0,0.37)"},attrs:{shape:"square",icon:"ios-person",size:"180"}})]],2)]),e("Col",{attrs:{xs:{span:22,pull:1,push:1},lg:{span:19,push:2}}},[e("Row",{attrs:{gutter:10,type:"flex",justify:"space-between",align:"top"}},[e("Col",{attrs:{flex:"1"}},[e("Tag",{attrs:{color:"error"}},[t._v(" "+t._s(t.$t("basic.status."+t.cheater.status))+" ")]),t.cheater.games?e("router-link",{attrs:{to:{name:"player_list",query:{game:t.cheater.games}}}},t._l(t.cheater.games,(function(a,s){return e("Tag",{key:s,attrs:{color:"gold",alt:t.$t("detail.info.reportedGames")}},[t._v(" "+t._s(t.$t("basic.games."+a,{game:a}))+" ")])})),1):t._e(),t.cheater.cheatMethods&&t.cheater.cheatMethods.length>0?t._l(t.cheater.cheatMethods,(function(a,s){return e("Tag",{key:s,attrs:{color:"warning"}},[t._v(" "+t._s(t.$t("cheatMethods."+a+".title"))+" ")])})):t._e(),e("h1",{style:"font-size: 1.6rem;"+(""==t.cheater.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"")},[t._v(" "+t._s(t.cheater.originName||"user id")+" ")])],2),t.isFull?t._e():[e("Col",{staticClass:"mobile-hide html2canvas-ignore"},[e("router-link",{attrs:{to:{name:"cheater_app"}}},[e("Button",[e("Icon",{attrs:{type:"md-qr-scanner",size:"20",color:"#535353"}}),t._v(" "+t._s(t.$t("detail.info.app_qr.title"))+" ")],1)],1),t.isLogin?[e("Divider",{attrs:{type:"vertical"}}),e("Dropdown",{attrs:{placement:"bottom-end"}},[e("ButtonGroup",{attrs:{type:"button"}},[e("Button",{attrs:{loading:t.subscribes.load},on:{click:t.onSubscribes}},[t.subscribes.static?[e("Icon",{attrs:{type:"md-notifications-off",size:"20"}}),t._v("取消跟踪")]:[e("Icon",{attrs:{type:"md-notifications-outline",size:"20"}}),t._v("跟踪")]],2),e("Button",[e("Icon",{attrs:{type:"ios-arrow-down"}})],1)],1),e("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e("DropdownItem",{attrs:{selected:!t.subscribes.static}},[e("h4",[e("Icon",{attrs:{type:"md-notifications-outline"}}),t._v(" "+t._s(t.$t("detail.subscribes.tracking")))],1),e("p",[t._v(t._s(t.$t("detail.subscribes.trackingDescribe")))])]),e("DropdownItem",{attrs:{selected:t.subscribes.static}},[e("h4",[e("Icon",{attrs:{type:"md-notifications-off"}}),t._v(t._s(t.$t("detail.subscribes.cancelTrack")))],1),e("p",[t._v(t._s(t.$t("detail.subscribes.cancelTrackDescribe")))])])],1)],1)]:t._e(),e("Divider",{attrs:{type:"vertical"}}),e("router-link",{attrs:{to:{name:"cheater_share"}}},[e("Button",{attrs:{type:"primary"}},[e("Icon",{attrs:{type:"md-share"}})],1)],1)],2)]],2),e("Row",[e("Col",[e("span",[t._v("id: "+t._s(t.cheater.originUserId||"id"))]),t.isFull?t._e():[e("Divider",{attrs:{type:"vertical"}}),e("Dropdown",[e("a",{attrs:{href:"javascript:void(0)"}},[t._v(" "+t._s(t.$t("detail.info.historyID",{msg:"historyID"}))+" "),e("Icon",{attrs:{type:"ios-arrow-down"}})],1),t.cheater&&t.cheater.history&&t.cheater.history.length>=0?e("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.cheater.history,(function(a){return e("DropdownItem",{key:a.originName},[a.fromTime?e("Time",{attrs:{time:a.fromTime}}):t._e(),e("Divider",{attrs:{type:"vertical"}}),t._v(" "+t._s(a.originName)+" ")],1)})),1):t._e()],1),e("Divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){t.updateCheaterModal=!0}}},[e("Icon",{attrs:{type:"md-cloud"}}),t._v(" "+t._s(t.$t("detail.info.updateButton")))],1),e("Modal",{model:{value:t.updateCheaterModal,callback:function(e){t.updateCheaterModal=e},expression:"updateCheaterModal"}},[e("div",{attrs:{sort:"title"}},[e("PrivilegesTag",{attrs:{data:["admin","super","root","dev","bot"]}})],1),e("div",[e("Card",{staticStyle:{margin:"2.5rem 0 1rem 0"},attrs:{"dis-hover":""}},[e("Row",{attrs:{gutter:16,type:"flex",justify:"center",align:"middle"}},[e("Col",[e("Icon",{attrs:{type:"md-cloud",color:"#535353",size:"40"}})],1),e("Col",[e("Icon",{attrs:{type:"md-code-working",color:"#aaa",size:"20"}})],1),e("Col",[e("Icon",{attrs:{type:"ios-albums",color:"#535353",size:"40"}})],1)],1)],1),e("br"),e("p",{staticClass:"hint"},[t._v(" "+t._s(t.$t("detail.info.discription1"))+"， "),e("Tag",[t._v(t._s(t.$t("detail.info.updateButton")))]),e("span",[t._v(t._s(t.$t("detail.info.discription2")))])],1),e("p",{staticClass:"hint"},[t._v(" "+t._s(t.$t("detail.info.discription3"))+" ")]),e("p",{staticClass:"hint"},[t._v(" "+t._s(t.$t("detail.info.discription4"))+" ")])],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Row",{attrs:{gutter:16}},[e("Col",[e("Button",{attrs:{type:"dashed",size:"large",long:""},on:{click:function(e){e.preventDefault(),t.updateCheaterModal=!1}}},[t._v(" "+t._s(t.$t("basic.button.cancel"))+" ")])],1),e("Col",{attrs:{flex:"1"}},[e("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:function(e){return e.preventDefault(),t.updateCheaterInfo.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("detail.info.updateButton"))+" ")])],1)],1)],1)])]],2)],1),e("br"),e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{xs:{span:12},lg:{span:6}}},[e("Card",[e("h3",[t._v(t._s(t.cheater.viewNum||0))]),e("span",[t._v(t._s(t.$t("detail.info.viewTimes",{msg:"viewTimes"})))])])],1),e("Col",{attrs:{xs:{span:12},lg:{span:6}}},[e("Card",[e("h3",[t._v(t._s(t.cheater.commentsNum||0))]),e("span",[t._v(t._s(t.$t("detail.info.reply",{msg:"reply"})))])])],1),e("Col",{attrs:{xs:{span:12},lg:{span:6}}},[e("Card",[e("h3",[t.cheater.createTime?e("Time",{attrs:{time:t.cheater.createTime}}):t._e()],1),e("span",[t._v(t._s(t.$t("detail.info.firstReportTime",{msg:"firstReportTime"})))])])],1),e("Col",{attrs:{xs:{span:12},lg:{span:6}}},[e("Card",[e("h3",[t.cheater.updateTime?e("Time",{attrs:{time:t.cheater.updateTime}}):t._e()],1),e("span",[t._v(t._s(t.$t("detail.info.recentUpdateTime",{msg:"recentUpdateTime"})))])])],1)],1)],1)],1)],1):t._e(),t.isFull?t._e():[e("br"),e("Card",{attrs:{"dis-hover":""}},[e("h2",[t._v("# "+t._s(t.$t("detail.info.gameScores")))]),e("br"),e("RecordLink",{directives:[{name:"show",rawName:"v-show",value:t.cheater.originUserId,expression:"cheater.originUserId"}],attrs:{cheater:t.cheater}})],1),e("br"),e("Card",{staticStyle:{overflow:"hidden"},attrs:{"dis-hover":""}},[e("Row",{attrs:{slot:"title",gutter:20,type:"flex",justify:"center",align:"middle"},slot:"title"},[e("Col",{staticClass:"mobile-hide",attrs:{xs:{span:23,push:1},lg:{span:8,push:0}}},[t._v(" "+t._s(t.$t("detail.info.assistPppeal"))+" ")]),e("Col",{staticClass:"mobile-hide",attrs:{flex:"auto"}},[t._v(" "+t._s(t.$t("detail.info.timeLine"))+" ")]),e("Col",[e("ButtonGroup",{attrs:{type:"button"}},[e("Select",{attrs:{size:"small"},model:{value:t.timeline.seeType,callback:function(e){t.$set(t.timeline,"seeType",e)},expression:"timeline.seeType"}},t._l(t.timeline.seeTypeList,(function(a,s){return e("Option",{key:s,attrs:{value:a.value}},[t._v(" "+t._s(t.$t("detail.timeline."+a.label))+" ")])})),1)],1),e("Divider",{attrs:{type:"vertical"}}),e("RadioGroup",{attrs:{type:"button",size:"small"},on:{"on-change":t.onTimeLineSort},model:{value:t.timeline.sort,callback:function(e){t.$set(t.timeline,"sort",e)},expression:"timeline.sort"}},[e("Radio",{attrs:{label:"1"}},[e("Icon",{attrs:{type:"ios-funnel"}})],1),e("Radio",{attrs:{label:"2"}},[e("Icon",{attrs:{type:"ios-funnel-outline"}})],1)],1),e("Divider",{attrs:{type:"vertical"}}),e("Button",{attrs:{size:"small",type:"dashed"},on:{click:t.getTimeline}},[e("Icon",{attrs:{type:"md-refresh"}})],1)],1)],1),e("Row",{attrs:{gutter:20,type:"flex"}},[e("Col",{staticClass:"tabs-style",attrs:{xs:{span:22,push:1,pull:1},lg:{span:17,push:1},order:"2"}},[e("div",{staticClass:"content"},[t._l(t.timelineList,(function(a,s){return e("TimelineItem",{directives:[{name:"show",rawName:"v-show",value:t.isSeeType(s),expression:"isSeeType(index)"}],key:s,staticClass:"timeline-time-line",attrs:{id:"floor-"+a.index,pending:"",color:"admin"===a.privilege?"red":"green"}},["report"===a.type?e("div",{staticClass:"timeline-time-dot ivu-tag-warning hand",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{attrs:{type:"ios-hand",size:"20"}})],1):"reply"===a.type?e("div",{staticClass:"timeline-time-dot ivu-tag-geekblue reply",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{staticClass:"ivu-tag-text",attrs:{type:"ios-text",size:"20"}})],1):"banAppeal"===a.type?e("div",{staticClass:"timeline-time-dot ivu-tag-magenta ban_appeal",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{staticClass:"ivu-tag-text",attrs:{type:"md-bookmark",size:"20"}})],1):"judgement"===a.type?e("div",{staticClass:"timeline-time-dot ivu-tag-primary ban_appeal",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{attrs:{type:"ios-medical",size:"20"}})],1):"verify"===a.type?e("div",{staticClass:"timeline-time-dot trophy",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{attrs:{type:"ios-share-alt",size:"20"}})],1):e("div",{staticClass:"timeline-time-dot ivu-tag-border ivu-tag-text out",attrs:{slot:"dot"},slot:"dot"},[e("Icon",{attrs:{type:"ios",size:"20"}})],1),"report"===a.type?e("div",{staticClass:"timeline-content",attrs:{id:"floor-"+a.id}},[e("div",{staticClass:"timeline-time"},[e("Row",[e("Col",{attrs:{flex:"1"}},[e("router-link",{attrs:{to:{name:"account",params:{uId:""+a.byUserId}}}},[e("BusinessCard",{attrs:{id:a.byUserId}},[e("u",[e("b",[t._v(t._s(a.username||a.byUserId))])])])],1),t._v(" "+t._s(t.$t("detail.info.report"))+" "),e("a",[e("u",[e("b",[t._v(t._s(a.toOriginName))])])]),t._v(" "+t._s(t.$t("detail.info.inGame"))+" "),e("router-link",{attrs:{to:{name:"player",query:{game:""+a.cheatGame}}}},[t._v(" "+t._s(a.cheatGame)+" ")]),t._v(" "+t._s(t.$t("detail.info.gaming"))+" "),t._l(a.cheatMethods,(function(a,s){return e("Tag",{key:s,attrs:{type:"border",color:"orange"}},[t._v(" "+t._s(t.$t("cheatMethods."+a+".title"))+" ")])}))],2),e("Col",{attrs:{align:"right"}},[a.createTime?e("Time",{attrs:{time:a.createTime}}):t._e()],1)],1)],1),[a.videoLink?e("p",t._l(a.videoLink.split(","),(function(s,i){return e("span",{key:i,attrs:{size:"large",href:s,target:"_blank"}},[e("Tag",{attrs:{size:"default",color:"geekblue"}},[t._v(t._s(t.$t("detail.info.videoLink")))]),e("a",{attrs:{href:s,target:"_blank"}},[t._v(t._s(s.substr(0,20))+t._s(s.length>=20?"...":""))]),i<a.videoLink.split(",").length-1?e("Divider",{attrs:{type:"vertical"}}):t._e()],1)})),0):t._e()],e("div",{staticClass:"description ivu-card ivu-card-bordered ivu-card-dis-hover"},[a.content?[e("div",{domProps:{innerHTML:t._s(a.content)}})]:t._e()],2),t.isLogin?e("p",[e("Button",{attrs:{type:"dashed"},on:{click:function(e){return t.handleReply(a.floor||s,a.byUserId)}}},[t._v(" "+t._s(t.$t("detail.info.reply",{msg:"reply"}))+" ")])],1):t._e()],2):t._e(),"banAppeal"===a.type?e("div",{staticClass:"timeline-content",attrs:{id:"floor-"+a.id}},[e("div",{staticClass:"timeline-time"},[e("Row",[e("Col",{attrs:{flex:"auto"}},[e("router-link",{attrs:{to:{name:"account",params:{uId:""+a.byUserId}}}},[e("BusinessCard",{attrs:{id:a.byUserId}},[e("u",[e("b",[t._v(t._s(a.username||a.byUserId))])])])],1),e("BusinessCard",{attrs:{id:a.originUserId}},[e("router-link",{attrs:{to:{name:"cheater",ouid:""+a.originUserId}}},[e("u",[t._v(t._s(a.cheaterGameName))])])],1),e("router-link",{attrs:{to:{name:"cheater",query:{game:""+a.cheatGame}}}},[t._v(" "+t._s(a.cheatGame)+" ")])],1),e("Col",[a.createTime?e("Time",{attrs:{time:a.createTime}}):t._e(),e("Divider",{attrs:{type:"vertical"}}),e("Tag",[t._v(t._s(a.appealStatus))])],1)],1)],1),a.content?e("div",{staticClass:"description ivu-card ivu-card-bordered ivu-card-dis-hover",domProps:{innerHTML:t._s(a.content)}}):t._e(),t.isLogin?e("p",[e("Button",{attrs:{type:"dashed"},on:{click:function(e){return t.handleReply(a.floor||s,a.byUserId)}}},[t._v(" "+t._s(t.$t("detail.info.reply",{msg:"reply"}))+" ")]),e("Divider",{attrs:{type:"vertical"}}),t.isAdmin?e("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.handAdminAppeal}},[e("a",{attrs:{href:"javascript:void(0)"}},[e("Button",{attrs:{type:"dashed"}},[t._v(" 申诉操作 "),e("Icon",{attrs:{type:"ios-arrow-down"}})],1)],1),e("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e("DropdownItem",{attrs:{name:a.id+",0"}},[t._v("打开")]),e("DropdownItem",{attrs:{name:a.id+",1"}},[t._v("关闭")]),e("DropdownItem",{attrs:{name:a.id+",2"}},[t._v("锁定")])],1)],1):t._e()],1):t._e()]):t._e(),"verify"===a.type||"judgement"===a.type?e("div",{staticClass:"timeline-content bookmark",attrs:{id:"floor-"+a.id}},[e("div",{staticClass:"timeline-time"},[e("Row",[e("Col",{attrs:{flex:"1"}},[e("router-link",{attrs:{to:{name:"account",params:{uId:""+a.byUserId}}}},[e("BusinessCard",{attrs:{id:a.byUserId}},[e("u",[e("b",[t._v(t._s(a.username||a.byUserId))])])])],1),t._v(" "+t._s(t.$t("detail.info.judge"))+" "),e("Poptip",{attrs:{trigger:"hover",transfer:!0,"word-wrap":"",width:"200",content:t.$t(`basic.action.${a.judgeAction}.describe`)}},[e("Tag",{attrs:{color:"warning"}},[t._v(" "+t._s(t.getCheaterStatusLabel(a.judgeAction))+" ")])],1),a.cheatMethods&&a.cheatMethods.length>0?[t._v(" "+t._s(t.$t("detail.info.cheatMethod"))+" "),t._l(a.cheatMethods,(function(a,s){return e("Tag",{key:s,attrs:{type:"border",color:"orange"}},[t._v(" "+t._s(t.$t("cheatMethods."+a+".title"))+" ")])}))]:t._e()],2),e("Col",{attrs:{align:"right"}},[a.createTime?e("Time",{attrs:{time:a.createTime}}):t._e()],1)],1)],1),a.content?e("div",{staticClass:"description ivu-card ivu-card-bordered ivu-card-dis-hover",domProps:{innerHTML:t._s(a.content)}}):t._e(),t.isLogin?e("p",[e("Button",{attrs:{type:"dashed"},on:{click:function(e){return t.handleReply(a.floor||s,a.byUserId)}}},[t._v(" "+t._s(t.$t("detail.info.reply",{msg:"reply"}))+" ")])],1):t._e()]):t._e(),"reply"===a.type?e("div",{staticClass:"timeline-content",attrs:{id:"floor-"+a.id}},[e("div",{staticClass:"timeline-time"},[e("Row",[e("Col",{attrs:{flex:"1"}},[e("router-link",{attrs:{to:{name:"account",params:{uId:""+a.byUserId}}}},[e("BusinessCard",{attrs:{id:a.byUserId}},[e("u",[e("b",[t._v(t._s(a.username||a.byUserId))])])])],1),t._v(" "+t._s(t.$t("detail.info.reply",{msg:"reply"}))+" ")],1),e("Col",{attrs:{align:"right"}},[a.createTime?e("Time",{attrs:{time:a.createTime}}):t._e()],1)],1)],1),e("div",{staticClass:"description ivu-card ivu-card-bordered ivu-card-dis-hover"},[a.quote?[e("a",{attrs:{href:"#floor-"+a.quote.id}},[e("div",{staticClass:"description ivu-card ivu-card-bordered ivu-card-dis-hover"},[e("b",[t._v(t._s(a.quote.username))]),t._v(" : "),e("div",{domProps:{innerHTML:t._s(a.quote.content.substr(0,80))}}),t._v(" ... ")])])]:t._e(),a.content?e("div",{domProps:{innerHTML:t._s(a.content)}}):t._e()],2),t.isLogin?e("p",[e("Button",{attrs:{type:"dashed"},on:{click:function(e){return t.handleReply(a.floor||s,a.byUserId)}}},[t._v(" "+t._s(t.$t("detail.info.reply",{msg:"reply"}))+" ")])],1):t._e()]):t._e(),e("Row",{staticClass:"timeline-content"},[e("Col",{attrs:{flex:"auto"}}),e("Col",{attrs:{align:"right"}},[t._v(" # "+t._s(a.index)+" ")])],1),s<t.timelineList.length-1?e("Divider"):t._e()],1)})),e("br")],2),t.isLogin?e("Card",{attrs:{"dis-hover":"",padding:0,id:"reply"}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{flex:"1 150px"}},[t._v(" "+t._s(t.$t("detail.info.appealManual1"))+" ")]),e("Col",{attrs:{flex:"150px"}},[e("Poptip",{attrs:{"word-wrap":"",width:"280",trigger:"hover",transfer:""}},[e("Button",{staticStyle:{width:"150px"},attrs:{type:"primary",size:"large",long:"",loading:t.replySpinShow,disabled:!t.reply.content},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.doReply.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("detail.info.reply"))+" ")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("span",[t._v(t._s(t.$t("detail.info.replyManual1")))]),e("b",[e("a",{attrs:{href:"https://sm.ms/",target:"_blank"}},[t._v(t._s(t.$t("detail.info.uploadPicButton")))])]),t._v("， "),e("span",[t._v(t._s(t.$t("detail.info.replyManual2")))])])],1)],1)],1)],1),e("Textarea",{attrs:{height:"120px",placeholder:t.$t("detail.info.giveOpinion")},model:{value:t.reply.content,callback:function(e){t.$set(t.reply,"content",e)},expression:"reply.content"}})],1):e("Alert",{attrs:{type:"warning","show-icon":""}},[e("template",{slot:"desc"},[t._v(" "+t._s(t.$t("detail.info.replyManual3"))+" ")])],2)],1),e("Col",{staticClass:"mobile-hide",attrs:{xs:{span:23,push:1},lg:{span:6,push:0},order:"1"}},[e("Button",{attrs:{type:"primary",disabled:!t.isLogin||1!=t.cheater.status},on:{click:function(e){t.appeal.show=!0}}},[t._v(" "+t._s(t.$t("detail.info.appeal"))+" ")]),e("p",[e("br"),t._v(t._s(t.$t("detail.appeal.describe")))])],1)],1),"1"===t.cheater.status?e("div",[e("Divider")],1):t._e(),e("br"),e("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}},[e("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}}),e("p",[t._v("ヾ(◍°∇°◍)ﾉﾞ load...")])],1)],1),t.isAdmin?e("br"):t._e(),t.isAdmin?e("Card",{attrs:{"dis-hover":""}},[e("div",{attrs:{label:t.$t("detail.info.adminConsole",{msg:"adminConsole"})}},[e("h2",{staticStyle:{margin:"1rem 0"}},[e("Row",[e("Col",{attrs:{flex:"1"}},[t._v(" # "+t._s(t.$t("detail.info.judgement",{msg:"judgement"}))+" ")]),e("Col",[e("PrivilegesTag",{attrs:{data:["admin","super","root","dev","bot"]}})],1)],1)],1),e("Form",{ref:"verifyForm",attrs:{"label-position":"top"}},[e("Row",{attrs:{gutter:30}},[e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:t.$t("detail.judgement.behavior")}},[e("Select",{model:{value:t.verify.status,callback:function(e){t.$set(t.verify,"status",e)},expression:"verify.status"}},t._l(t.verify.choice,(function(a){return e("Option",{key:a.value,attrs:{value:a.value,label:t.$t(`basic.action.${a.value}.text`)}},[e("Row",[e("Col",{attrs:{flex:"1"}},[t._v(" "+t._s(t.$t(`basic.action.${a.value}.text`))+" ")]),e("Col",[e("Poptip",{attrs:{trigger:"hover",transfer:!0,"word-wrap":"",width:"200",content:t.$t(`basic.action.${a.value}.describe`)}},[e("Icon",{attrs:{type:"md-help-circle",size:"20"}})],1)],1)],1),e("PrivilegesTag",{attrs:{data:a.privilege}})],1)})),1)],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{directives:[{name:"show",rawName:"v-show",value:["kill","guilt"].includes(t.verify.status),expression:"['kill','guilt'].includes(verify.status)"}],attrs:{label:t.$t("detail.judgement.methods")}},[e("Select",{attrs:{multiple:""},model:{value:t.verify.checkbox,callback:function(e){t.$set(t.verify,"checkbox",e)},expression:"verify.checkbox"}},t._l(t.cheatMethodsGlossary,(function(a){return e("Option",{key:a.value,attrs:{value:a.value,label:t.$t(`cheatMethods.${a.value}.title`)}},[e("Tag",[t._v(t._s(t.$t(`cheatMethods.${a.value}.title`)))]),e("Divider",{attrs:{type:"vertical"}}),t._v(" "+t._s(t.$t(`cheatMethods.${a.value}.describe`))+" ")],1)})),1)],1)],1),e("Col",{attrs:{span:"24"}},[e("FormItem",[e("div",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("detail.judgement.content"))+" "),e("Poptip",{attrs:{trigger:"hover","word-wrap":"",placement:"right-end",padding:"20px 30px"}},[e("Button",{attrs:{type:"dashed",size:"small"}},[e("Icon",{attrs:{type:"ios-help-buoy"}})],1),e("div",{attrs:{slot:"content",span:"24"},slot:"content"},[e("Row",{attrs:{gutter:60}},[e("Col",{attrs:{flex:"1"}},[e("h3",[e("Icon",{attrs:{type:"md-done-all",color:"#19be6b"}}),t._v(" "+t._s(t.$t("detail.judgement.appropriateVerdict.title"))+" ")],1),e("ol",[e("li",[t._v(t._s(t.$t("detail.judgement.appropriateVerdict.1")))]),e("li",[t._v(t._s(t.$t("detail.judgement.appropriateVerdict.2")))])])]),e("Col",{attrs:{flex:"1"}},[e("h3",[e("Icon",{attrs:{type:"ios-alert-outline",color:"red"}}),t._v(" "+t._s(t.$t("detail.judgement.inappropriateRuling.title"))+" ")],1),e("ol",[e("li",[t._v(t._s(t.$t("detail.judgement.inappropriateRuling.1")))]),e("li",[t._v(t._s(t.$t("detail.judgement.inappropriateRuling.2")))]),e("li",[t._v(t._s(t.$t("detail.judgement.inappropriateRuling.3")))])])])],1)],1)],1)],1),e("Row",{attrs:{gutter:15}},[e("Col",{attrs:{span:"24"}},[e("Card",{attrs:{padding:0,"dis-hover":""}},[e("Textarea",{attrs:{height:"250px",placeholder:t.$t("detail.info.giveOpinion")},model:{value:t.verify.suggestion,callback:function(e){t.$set(t.verify,"suggestion",e)},expression:"verify.suggestion"}})],1)],1),e("Col",{attrs:{span:"24"}},[e("Alert",[e("template",{slot:"desc"},[e("p",{staticClass:"hint"},[t._v(t._s(t.$t("detail.info.adminManual1",{msg:"adminManual1"})))]),e("p",{staticClass:"hint"},[t._v(t._s(t.$t("detail.info.adminManual2",{msg:"adminManual2"})))])])],2)],1)],1)],1)],1)],1),e("FormItem",{directives:[{name:"show",rawName:"v-show",value:"1"===t.verify.status,expression:"verify.status === '1'"}],attrs:{label:"fastReply"}},[e("CheckboxGroup",{model:{value:t.fastReply.selected,callback:function(e){t.$set(t.fastReply,"selected",e)},expression:"fastReply.selected"}},t._l(t.fastReply.content,(function(a){return e("Checkbox",{key:a,attrs:{label:a}},[t._v(" "+t._s(t.$t("detail.info.fastReplies."+a))+" ")])})),1)],1),e("FormItem",{attrs:{label:t.$t("captcha.title")}},[e("Row",[e("Col",[e("Input",{attrs:{type:"text",size:"large",maxlength:"4",placeholder:t.$t("captcha.title")},model:{value:t.reply.captcha,callback:function(e){t.$set(t.reply,"captcha",e)},expression:"reply.captcha"}},[e("div",{staticClass:"captcha-input-append",attrs:{slot:"append",alt:t.$t("captcha.get")},slot:"append"},[e("Captcha",{ref:"captcha"})],1)])],1),e("Col",{attrs:{flex:"1",align:"right"}},[e("Button",{attrs:{type:"primary",size:"large",loading:t.verifySpinShow},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.doVerify.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("basic.button.submit"))+" ")])],1)],1)],1)],1)],1)]):t._e(),t.isCheaterExist?t._e():e("div",[e("Empty")],1)]],2),t.isFull?t._e():[e("Affix",{attrs:{top:100}},[e("Card",{staticClass:"detila-affix mobile-hide",attrs:{"dis-show":""}},[e("a",{attrs:{href:"#up"}},[e("Icon",{attrs:{type:"md-arrow-round-up",size:"30"}})],1),e("a",{attrs:{href:"#reply"}},[e("Icon",{attrs:{type:"md-chatboxes",size:"30"}})],1)])],1),e("Modal",{attrs:{title:`${t.$t("detail.info.reply")} #${t.reply.toFloor}`},on:{"on-ok":t.doReply,"on-cancel":t.cancelReply},model:{value:t.replyModal,callback:function(e){t.replyModal=e},expression:"replyModal"}},[t.isLogin?e("div",[e("Form",{ref:"replyForm",staticStyle:{position:"relative"},attrs:{"label-width":80}},[t.timelineList[t.reply.toFloor]?e("FormItem",[e("Tag",[e("BusinessCard",{attrs:{id:t.timelineList[t.reply.toFloor].byUserId}},[t._v(" @"+t._s(t.timelineList[t.reply.toFloor].username)+" ")])],1)],1):t._e(),t.timelineList[t.reply.toFloor]?e("FormItem",[e("Card",[t.timelineList[t.reply.toFloor].content?e("div",{domProps:{innerHTML:t._s(t.timelineList[t.reply.toFloor].content)}}):t._e()])],1):t._e(),e("FormItem",[e("Input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:t.$t("detail.info.giveOpinion")},on:{"on-keydown":function(e){return t.handleCmdEnter(e,"reply")}},model:{value:t.reply.content,callback:function(e){t.$set(t.reply,"content",e)},expression:"reply.content"}})],1),e("FormItem",{attrs:{label:t.$t("captcha.title")}},[e("Input",{attrs:{type:"text",size:"large",maxlength:"4",placeholder:t.$t("captcha.title")},model:{value:t.reply.captcha,callback:function(e){t.$set(t.reply,"captcha",e)},expression:"reply.captcha"}},[e("div",{staticClass:"captcha-input-append",attrs:{slot:"append",alt:t.$t("captcha.get")},slot:"append"},[e("Captcha",{ref:"captcha"})],1)])],1)],1)],1):e("div",[t._v(t._s(t.$t("detail.info.replyManual4",{msg:"replyManual4"})))])]),e("Modal",{attrs:{width:"80%",loading:t.appeal.load},on:{"on-ok":t.handleAppeal},model:{value:t.appeal.show,callback:function(e){t.$set(t.appeal,"show",e)},expression:"appeal.show"}},[e("Row",{attrs:{gutter:30}},[e("Col",{attrs:{flex:"1"}},[e("h2",[t._v(" "+t._s(t.$t("detail.appeal.modal.modalTitle"))+" ")]),e("br"),e("h3",[t._v(" "+t._s(t.$t("detail.appeal.modal.describe"))+" ")]),e("br"),e("Row",{staticStyle:{padding:"0 30px"},attrs:{gutter:60}},[e("Col",{attrs:{flex:"1"}},[e("ul",[e("li",[e("h3",[e("Icon",{attrs:{type:"md-done-all",color:"#19be6b"}}),t._v(" "+t._s(t.$t("detail.appeal.modal.effectiveEvidence.title"))+" ")],1),e("ol",[e("li",[t._v(t._s(t.$t("detail.appeal.modal.effectiveEvidence.1")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.effectiveEvidence.2")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.effectiveEvidence.3")))])])]),e("br"),e("li",[e("h3",[e("Icon",{attrs:{type:"md-done-all",color:"#19be6b"}}),t._v(" "+t._s(t.$t("detail.appeal.modal.auxiliaryProof.title"))+" ")],1),e("ol",[e("li",[t._v(t._s(t.$t("detail.appeal.modal.auxiliaryProof.1")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.auxiliaryProof.2")))])])])])]),e("Col",{attrs:{flex:"1"}},[e("ul",[e("li",[e("h3",[e("Icon",{attrs:{type:"ios-alert-outline",color:"red"}}),t._v(" "+t._s(t.$t("detail.appeal.modal.evidenceInvalid.title"))+" ")],1),e("ol",[e("li",[t._v(t._s(t.$t("detail.appeal.modal.evidenceInvalid.1")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.evidenceInvalid.2")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.evidenceInvalid.3")))]),e("li",[t._v(t._s(t.$t("detail.appeal.modal.evidenceInvalid.4")))])])])])])],1),e("br")],1),e("Col",{attrs:{flex:"1"}},[e("Form",[e("Row",{attrs:{gutter:30}},[e("Col",{attrs:{flex:"1"}},[e("FormItem",{attrs:{label:t.$t("detail.appeal.info.player")}},[e("Input",{attrs:{type:"text",value:t.cheater.id,disabled:"",size:"large",placeholder:t.$t("detail.placeholder.player")}})],1)],1),e("Col",{attrs:{flex:"1"}},[e("FormItem",{attrs:{label:t.$t("detail.appeal.info.originName")}},[e("Input",{attrs:{type:"text",value:t.cheater.originName,disabled:"",size:"large"}})],1)],1)],1),e("FormItem",{attrs:{label:t.$t("detail.appeal.info.content")}},[e("br"),e("Edit",{attrs:{content:t.appeal.content,editorContent:t.$t("detail.appeal.placeholder.content")},on:{change:t.handleMiscChange}})],1)],1)],1)],1)],1),e("br")]],2):t._e()},i=[],r=a("890e"),o=(a("bce8"),a("e4b4")),n=a("02bc"),l=a("6411"),c=a("5d71"),d=a("6ea1"),p=function(){var t=this,e=t._self._c;return e("div",[e("Table",{attrs:{"row-key":"name","span-method":t.handleSpan,"show-header":!1,columns:t.detailLink.th,data:t.getData,border:""}})],1)},h=[],u=(a("5b81"),{props:{cheater:Object},data(){return{site:{"Battlefield Tracker":{webSite:"https://battlefieldtracker.com",icon:"https://battlefieldtracker.com/public/icons/icon192.png",platform:{origin:{bf1:"/bf1/profile/origin/{name}",bfv:"/bfv/profile/origin/{name}",bf6:"/bf2042/profile/origin/{name}"},xbox:{bf1:"/bf1/profile/xbl/{name}",bfv:"/bfv/profile/xbl/{name}",bf6:"/bf2042/profile/xbl/{name}"},psn:{bf1:"/bf1/profile/psn/{name}",bfv:"/bfv/profile/psn/{name}",bf6:"/bf2042/profile/psn/{name}"}}},"Gametools Network":{webSite:"https://gametools.network",icon:"https://gametools.network/favicon.ico",platform:{origin:{bf1:"/stats/pc/playerid/{id}?name={name}&game=bf1",bfv:"/stats/pc/playerid/{id}?name={name}&game=bfv"},xboxone:{bf1:"/stats/xboxone/name/{name}?game=bf1",bfv:"/stats/xboxone/name/{name}?game=bfv"},xbox:{bf1:"/stats/xbox/name/{name}?game=bf1",bfv:"/stats/xbox/name/{name}?game=bfv"}}},"247 Fairplay":{webSite:"https://www.247fairplay.com",icon:"https://endof.p-stats.com/favicon.ico",platform:{origin:{bf1:"https://bf1stats.com/pc/{id}"}}}},links:{bf1:["Battlefield Tracker","Gametools Network","247 Fairplay"],bfv:["Battlefield Tracker","Gametools Network"],bf6:["Battlefield Tracker"],"*":[]},detailLink:{th:[{title:"name",key:"name",minWidth:100,maxWidth:300,tree:!0,render:(t,e)=>e.row.platform?t("Row",{props:{gutter:10,type:"flex",align:"middle"}},[t("Col",{},[t("Avatar",{props:{shape:"square",src:this.site[e.row.name].icon}})]),t("Col",{props:{flex:1}},[t("p",{},""+e.row.name)])]):t("Tag",{props:{color:"primary"}},e.row.name)},{title:"platform",key:"platform",flex:1,render:(t,e)=>{let a=[];if(e.row.platform)return e.row.platform&&e.row.platform.forEach(e=>{a.push(t("Col",{},[t("Button",{props:{type:["origin"].includes(e.title)?"primary":null,size:"small"},on:{click:()=>{window.open(e.url)}}},e.title)]))}),t("Row",{props:{gutter:10}},a)}}],data:[]}}},created(){},methods:{push(t=[],e){const a="origin";if(this.cheater)return this.links[e].forEach(s=>{if(this.site[s].platform&&this.site[s].platform[a]&&this.site[s].platform[a][e]){let i=this.site[s].webSite+this.site[s].platform[a][e],r=[];for(const t in this.site[s].platform)this.site[s].platform[t][e]&&r.push({title:this.$i18n.t("basic.gamePlatforms."+t),url:i.replaceAll("{id}",this.cheater.originUserId).replaceAll("{name}",this.cheater.originName)});t.push({name:s,platform:r})}}),t},handleSpan({row:t,column:e,rowIndex:a,columnIndex:s}){if(""==t.link)return{colspan:2}}},computed:{getData(){if(!(this.cheater.length<=0))return this.cheater.games?(this.cheater.games.forEach(t=>{let e=[];e=this.push(e,t),this.detailLink.data.push({name:this.$i18n.t("basic.games."+t),link:"",children:e})}),this.detailLink.data):[]}}}),m=u,f=a("2877"),v=Object(f["a"])(m,p,h,!1,null,null,null),g=v.exports,y=a("e7f8"),b=a("d78a"),_=a("872c"),w=new r["a"]({data(){return{getGameLabel:o["g"].getGameLabel,detailLoad:!0,privileges:[],appeal:{load:!1,show:!1,toPlayerId:0,content:""},subscribes:{load:!1,static:!1},cheater:{originId:""},reply:{cheaterId:"",userId:"",content:"",toFloor:"",toUserId:"",captcha:"",captchaUrl:{}},games:[],timelineList:[],timeline:{sort:"1",seeType:1,skip:0,limit:100,seeTypeList:[{label:"all",value:1,item:["report","reply","ban_appeal","judgement","verify","banAppeal"]},{label:"verify",value:2,item:["judgement","verify"]},{label:"banAppeal",value:3,item:["banAppeal"]}]},verify:{status:0,checkbox:[],choice:[],suggestion:""},spinShow:!0,verifySpinShow:!1,replySpinShow:!1,isCheaterExist:!0,replyModal:!1,updateUserInfospinShow:!1,updateCheaterModal:!1,cheatMethodsGlossary:null,fastReply:{content:["stats","evidencePic","evidenceVid"],selected:[]}}},components:{Empty:n["a"],Edit:l["a"],Textarea:c["a"],BusinessCard:d["a"],RecordLink:g,Captcha:y["a"],PrivilegesTag:b["a"]},watch:{$route:"loadData","fastReply.selected":function(){this.verify.suggestion=""+this.fastReply.selected.map(t=>this.$t("detail.info.fastReplies."+t))}},created(){this.http=o["d"].call(this),this.loadData(),this.getCheatersInfo(),this.getTimeline()},methods:{getCheaterStatusLabel:o["g"].getCheaterStatusLabel,async loadData(){this.http=o["d"].call(this);const t=await Promise.resolve().then(a.t.bind(null,"7292",3));this.privileges=this.privileges.concat(t.child),await o["g"].initUtil().then(t=>{this.cheaterStatus=t.cheaterStatus,this.cheatMethodsGlossary=t.cheatMethodsGlossary,this.verify.choice=t.action,this.verify.status=this.verify.choice[0].value})},onAvatarError(){this.cheater.avatarLink=""},onSubscribes(){let t=o["f"].get("user.subscribes"),e=[],a=!1;t.code<0&&(t={data:{value:[]}});let s=t.data.value;e=e.concat(s),0==t.code&&s&&s.includes(this.cheater.id)?(console.log("rem",this.cheater.id),a=!1,s.splice(s.indexOf(this.cheater.id),1)):(console.log("add",this.cheater.id),a=!0,e.push(this.cheater.id)),this.http.post(o["b"]["user_me"],{data:{data:{subscribes:e}}}).then(t=>{const a=t.data;1==a.success&&o["f"].set("user.subscribes",e)}).finally(()=>{this.subscribes.static=a})},checkPlayerSubscribes(){const t=o["f"].get("user.subscribes");if(t.code<0)return!1;t.data.value.filter(t=>{t==this.cheater.id&&(this.subscribes.static=!0)})},onViewed(){let t=o["f"].get("viewed");const e=this.cheater.id;e&&(t&&t.data&&t.data.value[e]||(t&&t.data&&t.data.value||(t={data:{value:{}}}),o["c"].post(o["b"]["player_viewed"],{data:{data:{id:e}}}).then(a=>{o["f"].set("viewed",{...t.data.value,[e]:!0})})))},getParamsIds(t){const e=this.$route.params.ouid.split("."),a={userId:e[1],personaId:e[0],dbId:e[2]};return t?a[t]:a},getCheatersInfo(){this.cheater={},this.http.get(o["b"]["cheaters"],{params:Object.assign({history:!0},{personaId:this.getParamsIds("personaId")})}).then(t=>{const e=t.data;1===e.success?(this.cheater=e.data,this.cheater.games.forEach(t=>{this.games.push({game:t})})):(this.$Message.info(this.$t("basic.tip.notFound")),this.$router.push({name:"player_list"}),this.catch(t))}).finally(()=>{this.onViewed(),this.checkPlayerSubscribes(),this.spinShow=!1})},getTimeline(){this.spinShow=!0,this.http.get(""+o["b"]["account_timeline"],{params:Object.assign({skip:this.timeline.skip,limit:this.timeline.limit},{personaId:this.getParamsIds("personaId")})}).then(t=>{let e=t.data;1==e.success&&(e.data.result.forEach((t,e)=>{t.index=e,t.show=!1}),this.timelineList=e.data.result,this.onTimeLineSort())}).finally(()=>{this.spinShow=!1})},onTimeLineSort(){switch(Number(this.timeline.sort)){case 1:this.timelineList=this.timelineList.sort((function(t,e){return t.index>e.index?1:-1}));break;case 2:this.timelineList=this.timelineList.sort((function(t,e){return t.index<e.index?1:-1}));break}},isSeeType(t){const e=this,a=this.timeline.seeTypeList;return a.filter(t=>Number(e.timeline.seeType)==t.value)[0].item.indexOf(this.timelineList[t].type)>=0},jumpToBookmark(t){let e=t.target.dataset.hash,a=document.querySelector(e),s=a.offsetParent.offsetTop+a.offsetParent.offsetParent.offsetTop+a.offsetParent.offsetParent.offsetParent.offsetTop-document.querySelector("header").offsetHeight;document.documentElement.scrollTop=s,a.setAttribute("style","background: rgba(255, 153, 1, 0.15)"),setTimeout((function(){a.setAttribute("style","transition: background 1s ease .5s;")}),100)},async doVerify(){const{status:t}=this.verify;let{suggestion:e}=this.verify;const a=this.verify.checkbox;return["kill","guilt"].includes(t)&&""==a||""===e.trim()?(this.$Message.warning(this.$i18n.t("detail.messages.fillEverything")),!1):-1!="0123456789abcedfghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,-_".split("").indexOf(e.trim())?(this.$Message.warning(this.$i18n.t("detail.messages.dontDoIt")+e),!1):(this.verifySpinShow=!0,void this.http.post(o["b"]["player_judgement"],{data:{data:{toPlayerId:this.cheater.id,cheatMethods:["kill","guilt"].includes(this.verify.status)?a:null,action:this.verify.status,content:Object(_["b"])(e)},encryptCaptcha:this.reply.captchaUrl.hash,captcha:this.reply.captcha}}).then(e=>{const a=e.data;1==a.success?(this.verify.status="",this.verify.suggestion="",this.verify.checkbox=[],this.reply.captcha="",this.cheater.status=t,this.$Message.success(this.$i18n.t("detail.messages.submitSuccess"))):this.$Message.error("failed "+a.msg)}).finally(()=>{this.getCheatersInfo(),this.getTimeline(),this.verifySpinShow=!1}))},handleMiscChange(t){this.appeal.content=t},handleAppeal(){const{content:t=""}=this.appeal;this.appeal.load=!0,this.http.post(o["b"]["player_banAppeal"],{data:{data:{toPlayerId:this.cheater.id,content:t}}}).then(t=>{const e=t.data;1!=e.success?this.$Message.error(e.message):this.$Message.success(e.message)}).finally(()=>{this.appeal.load=!1,this.getTimeline()})},handAdminAppeal(t){if(!t)return;const e=t.split(",");this.http.post(o["b"]["player_viewBanAppeal"],{data:{data:{id:e[0],status:["open","close","lock"][e[1]]}}}).then(t=>{const e=t.data;1==e.success?this.$Message.success(e.message):this.$Message.error(e.message),this.getTimeline()})},handleReply(t,e){this.reply.toFloor="undefined"===t?"":t,this.reply.toUserId="undefined"===e?"":e,this.replyModal=!0},cancelReply(){this.reply={content:"",captchaUrl:{content:"",hash:""}}},doReply(){var t;this.replySpinShow=!0;const e=this.cheater.id,{toFloor:a,toUserId:s}=this.reply;let{content:i=""}=this.reply;i=Object(_["b"])(i);let r={data:{toPlayerId:e,toCommentId:null!==(t=this.timelineList[this.reply.toFloor].id)&&void 0!==t?t:null,content:i}};a&&(r.data["toFloor"]=a),s&&(r.data["toUserId"]=s),this.http.post(o["b"]["player_reply"],{data:r}).then(t=>{const e=t.data;if(1==e.success){const{createDatetime:t,content:a,status:s}=e.data;this.$Message.success(this.$i18n.t("detail.messages.replySuccess")),this.cancelReply(),this.cheater.status=s,this.reply.toFloor="",this.reply=""}else this.$Message.error(e.message)}).finally(()=>{this.replySpinShow=!1,this.getCheatersInfo(),this.getTimeline()})},handleCmdEnter(t,e){if(console.log(t,e),(t.metaKey||t.ctrlKey)&&13==t.keyCode)switch(e){case"reply":this.doReply();break;case"verify":this.doVerify();break}},updateCheaterInfo(t){if(_["d"].call(t.target,60),!this.$store.state.user)return this.$Message.error(this.$i18n.t("detail.messages.signIn")),!1;this.updateUserInfospinShow=!0,this.http.post(o["b"]["player_update"],{data:this.getParamsIds()}).then(t=>{this.updateUserInfospinShow=!1;const e=t.data;if(0===e.error){const{cheaterGameName:t,originUserId:a,avatarLink:s}=e.data.origin;this.cheater.originId=t,this.cheater.originUserId=a,this.cheater.avatarLink=s,this.$Message.success(this.$i18n.t("detail.messages.updateComplete"))}else this.$Message.error(e.msg)})}},computed:{isAdmin(){const t=this.$store.state.user,e=!!t&&t.userinfo.privilege.concat("").includes("admin");return Boolean(e)},isLogin(){return Boolean(this.$store.state.user)},isFull(){return Boolean(this.$route.query.full||!1)},currentUser(){return this.$store.state.user},currentLan(){return this.$root&&this.$root.$i18n&&this.$root.$i18n.locale||"zh-CN"}}}),$=w,C=(a("3f58"),a("56bc"),Object(f["a"])($,s,i,!1,null,null,null));e["default"]=C.exports},c970:function(t,e,a){},e7f8:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"captcha-view",style:`cursor: ${t.captchaTime.count<=0?"pointer":"not-allowed"};height: ${t.height}`,on:{click:t.refreshCaptcha}},[t.content?e("div",{class:""+(t.captchaTime.count<=0?"disable":""),domProps:{innerHTML:t._s(t.content)}}):e("span",{staticClass:"tip"},[t.disable?e("div",{staticStyle:{"min-width":"80px"}},[e("Icon",{attrs:{type:"md-close",size:"20"}})],1):[t._v(" "+t._s(t.$t("captcha.get"))+" ")]],2),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.content&&t.captchaTime.count<=0,expression:"content && captchaTime.count <= 0"}],staticClass:"captcha-view-icon"},[t.disable?e("Icon",{attrs:{type:"md-close",size:"20"}}):e("Icon",{attrs:{type:"md-refresh",size:"20"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.captchaTime.count>0,expression:"captchaTime.count > 0"}],staticClass:"count"},[t._v(t._s(t.captchaTime.count)+"s")])],1)},i=[],r=a("e4b4"),o={name:"Captcha",props:{id:{type:String,default:"0"},disable:{type:Boolean,default:!1},seconds:{type:Number,default:60},height:{type:String,default:"40px"}},data(){return{postload:!1,hash:"",content:"",capthcaHash:{},captchaTime:{fun:null,count:0,lock:!1}}},created(){let t=r["f"].session().get("captcha");t?this.capthcaHash=t.data:r["f"].session().set("captcha",{[`${this.id}_${this.$route.name}`]:this.seconds})},destroyed(){clearInterval(this.captchaTime.fun),this.captchaTime.fun=null},methods:{async refreshCaptcha(){let t=await r["f"].session().get("captcha"),e=this;t.code<=0&&(t={data:{value:this.seconds}}),this.disable||this.postload||this.captchaTime.count>0||(this.postload=!0,r["c"].get(r["b"]["captcha"],{params:{t:Math.random()}}).then(t=>{1===t.data.success&&(e.capthcaHash=Object.assign({[e.$route.name]:0}),this.hash=t.data.data["hash"],this.content=t.data.data["content"])}).finally(a=>{setTimeout((function(){e.postload=!1}),800),Object.keys(t.data.value).indexOf(this.$route.name)>=0&&(this.captchaTime.count=t.data.value[this.$route.name]),this.capthcaTimeout(this.captchaTime.count||this.seconds)}))},capthcaTimeout(t){const e=this;let a;e.captchaTime.lock||(e.captchaTime.count=t,a=setInterval((function(){if(e.captchaTime.count<=0)return clearInterval(a),void(e.captchaTime.lock=!1);e.captchaTime.count-=1,e.capthcaHash=Object.assign({[`${e.id}_${e.$route.name}`]:e.captchaTime.count}),r["f"].session().set("captcha",e.capthcaHash)}),1e3),e.captchaTime.lock=!0)}},computed:{isCaptcha(){return this.hash&&this.content}}},n=o,l=(a("c72a"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-8f993b7a.2.0.2.js.map