{"version":3,"sources":["webpack:///./src/views/SignupComplete.vue","webpack:///src/views/SignupComplete.vue","webpack:///./src/views/SignupComplete.vue?b23a","webpack:///./src/views/SignupComplete.vue?05af"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","push","name","_v","_s","$t","isMobile","_e","stepsIndex","slot","verify","state","msg","directives","rawName","value","isLogin","expression","staticRenderFns","BFBAN","data","load","created","registerVerify","methods","code","$route","query","undefined","$Message","info","$i18n","t","http","get","api","params","lang","mail","exchangeLangField","$root","locale","then","res","d","success","callbackMessage","catch","err","finally","that","error","message","indexOf","captcha_code","split","captcha_text","content","duration","backServiceMsg","component"],"mappings":"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","file":"assets/js/chunk-2d2308ee.2.9.6.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"container\"},[_c('br'),_c('Row',[_c('Col',{attrs:{\"xs\":{push: 1},\"lg\":{push: 0}}},[_c('Breadcrumb',[_c('BreadcrumbItem',{attrs:{\"to\":{name: 'home'}}},[_vm._v(_vm._s(_vm.$t(\"header.index\")))]),_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.$t(\"signup.registerVerification.title\")))])],1)],1)],1),_c('br'),_c('div',{staticClass:\"content\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[(!_vm.isMobile)?_c('Steps',{attrs:{\"slot\":\"title\",\"current\":_vm.stepsIndex},slot:\"title\"},[_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[0].title'),\"content\":_vm.$t('signup.steps[0].supplement')}}),_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[1].title'),\"content\":_vm.$t('signup.steps[1].title')}}),_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[2].title'),\"content\":_vm.$t('signup.steps[2].title')}}),_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[3].title'),\"content\":_vm.$t('signup.steps[3].title')}}),_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[4].title'),\"content\":_vm.$t('signup.steps[4].title')}})],1):_vm._e(),_c('div',[_c('div',{attrs:{\"align\":\"center\"}},[(_vm.verify.state == 0)?[_c('Icon',{attrs:{\"type\":\"md-refresh spin-icon-load\",\"size\":\"180\"}}),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"signup.registerVerification.validation\")))])]:(_vm.verify.state == -1)?[_c('Icon',{attrs:{\"type\":\"md-alert\",\"size\":\"180\",\"color\":\"red\"}}),_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t(\"signup.registerVerification.error\")))])]),_c('p',[_vm._v(_vm._s(_vm.$t(\"signup.registerVerification.failure\"))+_vm._s(_vm.verify.msg))]),_c('br'),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('Col',[_c('Button',{attrs:{\"to\":{name: 'signup'}}},[_vm._v(_vm._s(_vm.$t('basic.button.reset')))])],1)],1)]:(_vm.verify.state == 1)?[_c('Icon',{attrs:{\"type\":\"md-checkmark-circle-outline\",\"size\":\"180\",\"color\":\"#42b983\"}}),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"signup.registerVerification.successful\"))+\" \"),_c('router-link',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLogin),expression:\"!isLogin\"}],staticClass:\"mobile-hide\",attrs:{\"to\":{name: 'signin'}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"header.signin\"))+\" \")])],1)]:_vm._e()],2)])],1)],1),_c('br')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <br>\n    <Row>\n      <Col :xs=\"{push: 1}\" :lg=\"{push: 0}\">\n        <Breadcrumb>\n          <BreadcrumbItem :to=\"{name: 'home'}\">{{ $t(\"header.index\") }}</BreadcrumbItem>\n          <BreadcrumbItem>{{ $t(\"signup.registerVerification.title\") }}</BreadcrumbItem>\n        </Breadcrumb>\n      </Col>\n    </Row>\n    <br>\n\n    <div class=\"content\">\n      <Card dis-hover>\n        <Steps :current=\"stepsIndex\" slot=\"title\" v-if=\"!isMobile\">\n          <Step :title=\"$t('signup.steps[0].title')\" :content=\"$t('signup.steps[0].supplement')\"></Step>\n          <Step :title=\"$t('signup.steps[1].title')\" :content=\"$t('signup.steps[1].title')\"></Step>\n          <Step :title=\"$t('signup.steps[2].title')\" :content=\"$t('signup.steps[2].title')\"></Step>\n          <Step :title=\"$t('signup.steps[3].title')\" :content=\"$t('signup.steps[3].title')\"></Step>\n          <Step :title=\"$t('signup.steps[4].title')\" :content=\"$t('signup.steps[4].title')\"></Step>\n        </Steps>\n\n        <div>\n          <div align=\"center\">\n            <template v-if=\"verify.state == 0\">\n              <Icon type=\"md-refresh spin-icon-load\" size=\"180\"/>\n              <p> {{ $t(\"signup.registerVerification.validation\") }}</p>\n            </template>\n            <template v-else-if=\"verify.state == -1\">\n              <Icon type=\"md-alert\" size=\"180\" color=\"red\"/>\n              <p><b>{{ $t(\"signup.registerVerification.error\") }}</b></p>\n              <p>{{ $t(\"signup.registerVerification.failure\") }}{{ verify.msg }}</p>\n              <br>\n              <Row type=\"flex\" justify=\"center\">\n                <Col>\n                  <Button :to=\"{name: 'signup'}\">{{ $t('basic.button.reset') }}</Button>\n                </Col>\n              </Row>\n            </template>\n            <template v-else-if=\"verify.state == 1\">\n              <Icon type=\"md-checkmark-circle-outline\" size=\"180\" color=\"#42b983\"/>\n              <p>\n                {{ $t(\"signup.registerVerification.successful\") }}\n                <router-link v-show=\"!isLogin\" class=\"mobile-hide\" :to=\"{name: 'signin'}\">\n                  {{ $t(\"header.signin\") }}\n                </router-link>\n              </p>\n            </template>\n          </div>\n        </div>\n      </Card>\n    </div>\n    <br>\n  </div>\n</template>\n\n<script>\nimport BFBAN from \"../assets/js/bfban\";\n\nimport {http, api, conf, mail} from '../assets/js/index'\n\nexport default new BFBAN({\n  data() {\n    return {\n      stepsIndex: 4,\n      verify: {\n        load: false,\n        state: 0,\n      }\n    }\n  },\n  created() {\n    this.registerVerify();\n  },\n  methods: {\n    // 注册验证账户\n    registerVerify() {\n      const {code} = this.$route.query;\n\n      if (code == '' || code == undefined || code == null) {\n        this.$Message.info(this.$i18n.t('signup.failed'));\n        this.verify.load = false;\n        this.verify.state = -1;\n        return;\n      }\n\n      this.verify.load = true;\n\n      http.get(api[\"account_signupVerify\"], {\n        params: {\n          code,\n          lang: mail.exchangeLangField(this.$root.$i18n.locale)\n        }\n      }).then(res => {\n        const d = res.data;\n\n        if (d.success === 1) {\n          this.verify.state = 1;\n\n          // setInterval(function () {\n          //   // dispatch 异步的\n          //   this.$store.dispatch('signin', d.data)\n          //     .then(() => {\n          //       // redirect\n          //       this.$router.push('/')\n          //     })\n          // }, 10000);\n\n          return;\n        }\n\n        this.verify.state = -1;\n        this.callbackMessage(d);\n      }).catch(err => {\n        this.verify.state = -1;\n      }).finally(() => {\n        this.verify.load = false;\n      })\n    },\n    // 注册[SignupVerify]类请求回调\n    // 消息国际化\n    callbackMessage(data) {\n      const that = this;\n\n      // 基础\n      switch (data.code) {\n        case \"signup.notFound\": // 验证账户\n          that.$Message.info(this.$i18n.t('signup.notFound'));\n          break;\n        case \"signup.bad\":\n        case \"signup.error\":\n        default:\n          this.$Message.error(data.message || data.code);\n          this.verify.load = -1;\n          this.verify.msg = data.message || data.code;\n          break;\n      }\n\n      // 验证码\n      if (data.code.indexOf('captcha') >= 0) {\n        let captcha_code = data.code.split('.')[1];\n        let captcha_text = this.$i18n.t(`captcha.messages.${captcha_code}`);\n        if (captcha_code == 'gan') return;\n        that.$Message.error({content: captcha_text, duration: 6});\n        that.backServiceMsg += `,${captcha_text}`;\n      }\n    }\n  }\n});\n</script>\n\n<style lang=\"less\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignupComplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignupComplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignupComplete.vue?vue&type=template&id=14c94f1c&\"\nimport script from \"./SignupComplete.vue?vue&type=script&lang=js&\"\nexport * from \"./SignupComplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}