{"version":3,"sources":["webpack:///./src/views/Signup.vue","webpack:///src/views/Signup.vue","webpack:///./src/views/Signup.vue?e9bc","webpack:///./src/views/Signup.vue?9f49","webpack:///./src/components/EmailTip.vue","webpack:///src/components/EmailTip.vue","webpack:///./src/components/EmailTip.vue?f94a","webpack:///./src/components/EmailTip.vue?3e5f","webpack:///./src/mixins/common.js"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","push","name","_v","_s","$t","slot","isMobile","_e","stepsIndex","directives","rawName","value","isOneStepToTheStomach","expression","domProps","serverReturnMessage","ref","signup","ruleValidate","model","username","callback","$$v","$set","password","originEmail","originName","captcha","on","$event","preventDefault","stopPropagation","spinShow","onSignup","staticRenderFns","Application","data","required","min","max","trigger","validator","rule","regular","check","code","message","type","len","components","EmailTip","Captcha","created","http","http_token","call","methods","that","$refs","validate","valid","post","api","language","mail","exchangeLangField","$root","$i18n","locale","encryptCaptcha","hash","then","res","d","success","$Message","content","duration","error","catch","err","toString","finally","refreshCaptcha","info","t","onCleanSignupForm","component","$","props","email","String","formatNewLine","str","replace","formatLink","url","test","hostname","URL","indexOf","formatTextarea","val"],"mappings":"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","file":"assets/js/chunk-76a98aa8.2.9.10.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"content\"},[_c('br'),_c('Row',[_c('Col',{attrs:{\"xs\":{push: 1},\"lg\":{push: 0}}},[_c('Breadcrumb',[_c('BreadcrumbItem',{attrs:{\"to\":{name: 'home'}}},[_vm._v(_vm._s(_vm.$t(\"header.index\")))]),_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.$t(\"signup.title\")))])],1)],1)],1),_c('br'),_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[(!_vm.isMobile)?_c('Steps',{attrs:{\"current\":_vm.stepsIndex}},[_c('Step',{attrs:{\"title\":_vm.$t('signup.steps[0].title'),\"content\":_vm.$t('signup.steps[0].supplement')}}),_c('Step',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOneStepToTheStomach),expression:\"!isOneStepToTheStomach\"}],attrs:{\"title\":_vm.$t('signup.steps[1].title'),\"content\":_vm.$t('signup.steps[1].title')}}),_c('Step',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOneStepToTheStomach),expression:\"!isOneStepToTheStomach\"}],attrs:{\"title\":_vm.$t('signup.steps[2].title'),\"content\":_vm.$t('signup.steps[2].title')}}),_c('Step',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOneStepToTheStomach),expression:\"!isOneStepToTheStomach\"}],attrs:{\"title\":_vm.$t('signup.steps[3].title'),\"content\":_vm.$t('signup.steps[3].title')}})],1):_vm._e()],1),_c('Row',{attrs:{\"gutter\":_vm.isMobile ? 0 : 30}},[_c('Col',{attrs:{\"span\":\"24\"}},[(_vm.stepsIndex == 0)?[_c('Alert',{attrs:{\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.$t('signup.eaPrivacy'))}}),_vm._v(\" \"+_vm._s(_vm.$t('signup.checkAllEmail'))+\" \")]),_c('br')]:_vm._e(),(_vm.serverReturnMessage)?_c('Alert',{attrs:{\"type\":\"error\",\"show-icon\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.$t('signup.failed'))+\" :\")]),_vm._v(\" \"+_vm._s(_vm.serverReturnMessage)+\" \")]):_vm._e(),_c('Form',{ref:\"formValidate\",attrs:{\"label-position\":\"top\",\"model\":_vm.signup,\"rules\":_vm.ruleValidate}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOneStepToTheStomach || _vm.stepsIndex == 0),expression:\"isOneStepToTheStomach || stepsIndex == 0\"}]},[_c('FormItem',{attrs:{\"label\":_vm.$t('signup.form.username'),\"prop\":\"username\"}},[_c('Input',{attrs:{\"maxlength\":\"40\",\"size\":\"large\",\"placeholder\":_vm.$t('signup.placeholder.username')},model:{value:(_vm.signup.username),callback:function ($$v) {_vm.$set(_vm.signup, \"username\", $$v)},expression:\"signup.username\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.$t('signup.form.password'),\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"password\":\"\",\"minlength\":\"6\",\"size\":\"large\",\"placeholder\":_vm.$t('signup.placeholder.password')},model:{value:(_vm.signup.password),callback:function ($$v) {_vm.$set(_vm.signup, \"password\", $$v)},expression:\"signup.password\"}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOneStepToTheStomach || _vm.stepsIndex === 1),expression:\"isOneStepToTheStomach || stepsIndex === 1\"}]},[_c('FormItem',{attrs:{\"label\":_vm.$t('signup.form.originEmail'),\"prop\":\"originEmail\"}},[_c('Input',{attrs:{\"size\":\"large\",\"placeholder\":_vm.$t('signup.placeholder.originEmail')},model:{value:(_vm.signup.originEmail),callback:function ($$v) {_vm.$set(_vm.signup, \"originEmail\", $$v)},expression:\"signup.originEmail\"}})],1),_c('FormItem',{attrs:{\"label\":_vm.$t('signup.form.originName'),\"prop\":\"originName\"}},[_c('Input',{attrs:{\"size\":\"large\",\"placeholder\":_vm.$t('signup.placeholder.originName')},model:{value:(_vm.signup.originName),callback:function ($$v) {_vm.$set(_vm.signup, \"originName\", $$v)},expression:\"signup.originName\"}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOneStepToTheStomach || _vm.stepsIndex === 2),expression:\"isOneStepToTheStomach || stepsIndex === 2\"}]},[_c('FormItem',{attrs:{\"label\":_vm.$t('captcha.title'),\"prop\":\"captcha\"}},[_c('Input',{attrs:{\"type\":\"text\",\"size\":\"large\",\"maxlength\":\"4\",\"placeholder\":_vm.$t('captcha.title')},model:{value:(_vm.signup.captcha),callback:function ($$v) {_vm.$set(_vm.signup, \"captcha\", $$v)},expression:\"signup.captcha\"}},[_c('div',{staticClass:\"captcha-input-append\",attrs:{\"slot\":\"append\",\"alt\":_vm.$t('captcha.get')},slot:\"append\"},[_c('Captcha',{ref:\"captcha\",attrs:{\"seconds\":15}})],1)])],1)],1),_c('FormItem',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsIndex <= 2),expression:\"stepsIndex <= 2\"}]},[_c('checkbox',{attrs:{\"size\":'small'},model:{value:(_vm.isOneStepToTheStomach),callback:function ($$v) {_vm.isOneStepToTheStomach=$$v},expression:\"isOneStepToTheStomach\"}},[_vm._v(\"\\\"One step to the stomach\\\" Mode\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsIndex === 3),expression:\"stepsIndex === 3\"}]},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('Row',{attrs:{\"gutter\":16,\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',[_c('Icon',{attrs:{\"type\":\"md-cloud\",\"color\":\"#535353\",\"size\":\"80\"}})],1),_c('Col',[_c('Icon',{attrs:{\"type\":\"md-return-right\",\"color\":\"#aaa\",\"size\":\"30\"}})],1),_c('Col',[_c('Icon',{attrs:{\"type\":\"md-mail\",\"color\":\"#535353\",\"size\":\"80\"}})],1)],1)],1),_c('br'),_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\"}},[_vm._v(_vm._s(_vm.$t('signup.needVerify')))])],1),_c('Row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stepsIndex <= 2),expression:\"stepsIndex <= 2\"}]},[_c('Col',{attrs:{\"flex\":\"auto\"}},[(!_vm.isOneStepToTheStomach && _vm.stepsIndex >= 0 && _vm.stepsIndex <= 2)?_c('Button',{attrs:{\"disabled\":_vm.stepsIndex == 0,\"size\":\"large\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.stepsIndex--}}},[_vm._v(_vm._s(_vm.$t('basic.button.prev'))+\" \")]):_vm._e(),(!_vm.isOneStepToTheStomach)?_c('Divider',{attrs:{\"type\":\"vertical\"}}):_vm._e(),(!_vm.isOneStepToTheStomach && _vm.stepsIndex != 2 && _vm.stepsIndex >= 0 && _vm.stepsIndex <= 2)?_c('Button',{attrs:{\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.stepsIndex++}}},[_vm._v(\" \"+_vm._s(_vm.$t('basic.button.next'))+\" \")]):_vm._e()],1),_c('Col',{attrs:{\"flex\":\"auto\",\"align\":\"right\",\"type\":\"flex\"}},[(_vm.isOneStepToTheStomach || _vm.stepsIndex == 2)?[_c('Button',{attrs:{\"disabled\":!_vm.signup.captcha,\"loading\":_vm.spinShow,\"long\":\"\",\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":_vm.onSignup}},[_vm._v(\" \"+_vm._s(_vm.$t('basic.button.submit'))+\" \")])]:_vm._e()],2)],1)],1)],2)],1),(_vm.stepsIndex <= 2)?[_c('br'),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',[_c('router-link',{attrs:{\"to\":{name: 'signin'}}},[_vm._v(_vm._s(_vm.$t('signup.form.submitHint')))])],1),_c('Divider',{attrs:{\"type\":\"vertical\"}}),_c('Col',[_c('router-link',{attrs:{\"to\":{name: 'forgetPassword'}}},[_vm._v(_vm._s(_vm.$t('signup.form.forgetPasswordHint')))])],1)],1)]:_vm._e()],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"content\">\n      <br>\n      <Row>\n        <Col :xs=\"{push: 1}\" :lg=\"{push: 0}\">\n          <Breadcrumb>\n            <BreadcrumbItem :to=\"{name: 'home'}\">{{ $t(\"header.index\") }}</BreadcrumbItem>\n            <BreadcrumbItem>{{ $t(\"signup.title\") }}</BreadcrumbItem>\n          </Breadcrumb>\n        </Col>\n      </Row>\n      <br>\n\n      <Card dis-hover>\n        <div slot=\"title\">\n          <Steps :current=\"stepsIndex\" v-if=\"!isMobile\">\n            <Step :title=\"$t('signup.steps[0].title')\" :content=\"$t('signup.steps[0].supplement')\"></Step>\n            <Step v-show=\"!isOneStepToTheStomach\" :title=\"$t('signup.steps[1].title')\"\n                  :content=\"$t('signup.steps[1].title')\"></Step>\n            <Step v-show=\"!isOneStepToTheStomach\" :title=\"$t('signup.steps[2].title')\"\n                  :content=\"$t('signup.steps[2].title')\"></Step>\n            <Step v-show=\"!isOneStepToTheStomach\" :title=\"$t('signup.steps[3].title')\"\n                  :content=\"$t('signup.steps[3].title')\"></Step>\n          </Steps>\n        </div>\n\n        <Row :gutter=\"isMobile ? 0 : 30\">\n          <Col span=\"24\">\n            <template v-if=\"stepsIndex == 0\">\n              <Alert type=\"info\" show-icon>\n                <div v-html=\"$t('signup.eaPrivacy')\"></div>\n                {{ $t('signup.checkAllEmail') }}\n              </Alert>\n              <br>\n            </template>\n            <Alert type=\"error\" show-icon v-if=\"serverReturnMessage\">\n              <b>{{ $t('signup.failed') }} :</b>\n              {{ serverReturnMessage }}\n            </Alert>\n\n            <Form ref=\"formValidate\" label-position=\"top\" :model=\"signup\" :rules=\"ruleValidate\">\n              <div v-show=\"isOneStepToTheStomach || stepsIndex == 0\">\n                <FormItem :label=\"$t('signup.form.username')\" prop=\"username\">\n                  <Input v-model=\"signup.username\" maxlength=\"40\" size=\"large\"\n                         :placeholder=\"$t('signup.placeholder.username')\"/>\n                </FormItem>\n                <FormItem :label=\"$t('signup.form.password')\" prop=\"password\">\n                  <Input type=\"password\" password minlength=\"6\" v-model=\"signup.password\" size=\"large\"\n                         :placeholder=\"$t('signup.placeholder.password')\"/>\n                </FormItem>\n              </div>\n\n              <div v-show=\"isOneStepToTheStomach || stepsIndex === 1\">\n                <FormItem :label=\"$t('signup.form.originEmail')\" prop=\"originEmail\">\n                  <Input v-model=\"signup.originEmail\" size=\"large\"\n                         :placeholder=\"$t('signup.placeholder.originEmail')\"/>\n                </FormItem>\n                <FormItem :label=\"$t('signup.form.originName')\" prop=\"originName\">\n                  <Input v-model=\"signup.originName\" size=\"large\"\n                         :placeholder=\"$t('signup.placeholder.originName')\"/>\n                </FormItem>\n              </div>\n\n              <div v-show=\"isOneStepToTheStomach || stepsIndex === 2\">\n                <FormItem :label=\"$t('captcha.title')\" prop=\"captcha\">\n                  <Input type=\"text\" v-model=\"signup.captcha\"\n                         size=\"large\"\n                         maxlength=\"4\"\n                         :placeholder=\"$t('captcha.title')\">\n                    <div slot=\"append\" class=\"captcha-input-append\" :alt=\"$t('captcha.get')\">\n                      <Captcha ref=\"captcha\" :seconds=\"15\"></Captcha>\n                    </div>\n                  </Input>\n                </FormItem>\n              </div>\n\n              <FormItem v-show=\"stepsIndex <= 2\">\n                <checkbox :size=\"'small'\" v-model=\"isOneStepToTheStomach\">\"One step to the stomach\" Mode</checkbox>\n              </FormItem>\n\n              <div v-show=\"stepsIndex === 3\">\n                <Card dis-hover>\n                  <Row :gutter=\"16\" type=\"flex\" justify=\"center\" align=\"middle\">\n                    <Col>\n                      <Icon type=\"md-cloud\" color=\"#535353\" size=\"80\"/>\n                    </Col>\n                    <Col>\n                      <Icon type=\"md-return-right\" color=\"#aaa\" size=\"30\"/>\n                    </Col>\n                    <Col>\n                      <Icon type=\"md-mail\" color=\"#535353\" size=\"80\"/>\n                    </Col>\n                  </Row>\n                </Card>\n                <br>\n                <Alert type=\"success\" show-icon>{{ $t('signup.needVerify') }}</Alert>\n              </div>\n\n              <Row v-show=\"stepsIndex <= 2\">\n                <Col flex=\"auto\">\n                  <Button v-if=\"!isOneStepToTheStomach && stepsIndex >= 0 && stepsIndex <= 2\"\n                          :disabled=\"stepsIndex == 0\"\n                          @click.prevent.stop=\"stepsIndex--\" size=\"large\">{{ $t('basic.button.prev') }}\n                  </Button>\n                  <Divider type=\"vertical\" v-if=\"!isOneStepToTheStomach\"/>\n                  <Button v-if=\"!isOneStepToTheStomach && stepsIndex != 2 && stepsIndex >= 0 && stepsIndex <= 2\"\n                          @click.prevent.stop=\"stepsIndex++\" size=\"large\"\n                          type=\"primary\">\n                    {{ $t('basic.button.next') }}\n                  </Button>\n                </Col>\n                <Col flex=\"auto\" align=\"right\" type=\"flex\">\n                  <!-- 账户注册-未验证 -->\n                  <template v-if=\"isOneStepToTheStomach || stepsIndex == 2\">\n                    <Button\n                        @click=\"onSignup\"\n                        :disabled=\"!signup.captcha\"\n                        :loading=\"spinShow\"\n                        long\n                        size=\"large\"\n                        type=\"primary\">\n                      {{ $t('basic.button.submit') }}\n                    </Button>\n                  </template>\n                </Col>\n              </Row>\n            </Form>\n\n          </Col>\n        </Row>\n\n        <template v-if=\"stepsIndex <= 2\">\n          <br>\n          <Row type=\"flex\" justify=\"center\" align=\"middle\">\n            <Col>\n              <router-link :to=\"{name: 'signin'}\">{{ $t('signup.form.submitHint') }}</router-link>\n            </Col>\n            <Divider type=\"vertical\"/>\n            <Col>\n              <router-link :to=\"{name: 'forgetPassword'}\">{{ $t('signup.form.forgetPasswordHint') }}</router-link>\n            </Col>\n          </Row>\n        </template>\n      </Card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Application from \"../assets/js/application\";\n\nimport {http, api, http_token, mail, regular} from '../assets/js/index'\nimport {testWhitespace} from \"@/mixins/common\";\n\nimport EmailTip from \"../components/EmailTip\";\nimport Captcha from \"../components/Captcha\";\n\nexport default new Application({\n  data() {\n    return {\n      stepsIndex: 0,\n      ruleValidate: {\n        username: [\n          {required: true, min: 4, max: 40, trigger: 'blur'},\n          {\n            validator(rule, value, callback) {\n              return regular.check('username', value).code == 0;\n            },\n            message: this.$t('signup.placeholder.username'),\n            trigger: 'change'\n          }\n        ],\n        password: [\n          {required: true, min: 6, max: 40, trigger: 'blur'}\n        ],\n        originEmail: [\n          {required: true, type: 'email', trigger: 'change'}\n        ],\n        originName: [\n          {required: true, trigger: 'blur'}\n        ],\n        captcha: [\n          {required: true, len: 4, trigger: 'blur'}\n        ]\n      },\n      signup: {\n        username: '',\n        password: '',\n        originEmail: '',\n        originName: '',\n        captcha: '',\n      },\n      serverReturnMessage: '',\n      spinShow: false,\n      isOneStepToTheStomach: false,\n    }\n  },\n  components: {EmailTip, Captcha},\n  created() {\n    this.http = http_token.call(this);\n  },\n  methods: {\n    /**\n     * 提交注册信息\n     */\n    onSignup() {\n      const that = this;\n      this.$refs['formValidate'].validate(valid => {\n        let {username, password, originEmail, originName, captcha} = this.signup;\n\n        // 检查表单\n        if (!valid) {\n          this.$Message.info(this.$i18n.t('signup.fillIn'));\n          return;\n        }\n\n        this.spinShow = true;\n\n        http.post(api[\"account_signup\"], {\n          data: {\n            data: {\n              username,\n              password,\n              originEmail,\t// must match the originName below\n              originName,\t  // must have one of bf series game\n              language: mail.exchangeLangField(this.$root.$i18n.locale)\n            },\n            encryptCaptcha: this.$refs.captcha.hash,\n            captcha\n          }\n        }).then(res => {\n          const d = res.data;\n\n          if (d.success === 1) {\n            that.stepsIndex += 1;\n            this.$Message.success({\n              content: this.$t(`basic.tip['${d.code}']`, {\n                message: d.message || \"\"\n              }),\n              duration: 10\n            });\n            return;\n          }\n\n          const message = this.$t(`basic.tip['${d.code}']`, {\n            message: d.message || \"\"\n          });\n          this.serverReturnMessage = message;\n          this.$Message.error({content: message, duration: 5});\n        }).catch(err => {\n          this.$Message.error(err);\n          this.serverReturnMessage = err.toString();\n        }).finally(() => {\n          this.spinShow = false;\n\n          if (this.$refs.captcha)\n            this.$refs.captcha.refreshCaptcha();\n        });\n      })\n    },\n\n    // 清理表单字段\n    onCleanSignupForm({\n                        captcha = true,\n                        username = true,\n                        password = true,\n                        originEmail = true,\n                        originName = true,\n                        stepsIndex = true\n                      }) {\n      if (captcha)\n        this.signup.captcha = '';\n      if (username)\n        this.signup.username = '';\n      if (password)\n        this.signup.password = '';\n      if (originEmail)\n        this.signup.originEmail = '';\n      if (originName)\n        this.signup.originName = '';\n      if (stepsIndex)\n        this.stepsIndex = 0;\n    },\n  }\n});\n</script>\n\n<style lang=\"less\">\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=3a215a82&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$('signup.checkAllEmail'))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Alert type=\"success\" show-icon>\n      {{ $('signup.checkAllEmail') }}\n    </Alert>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"EmailTip\",\n  props: {\n    email: String\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailTip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailTip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailTip.vue?vue&type=template&id=2af1aae9&scoped=true&\"\nimport script from \"./EmailTip.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailTip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af1aae9\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 公共函数\n * TODO v1 遗留方法，大部分迁移到[assets/js/util.js]下\n */\n\n\nimport _ from \"lodash\";\n\nfunction formatNewLine(str) {\n  return str.replace(/\\r\\n|\\r|\\n/g, '<br />');\n}\n\nfunction formatLink(str) {\n  // https://stackoverflow.com/a/8943487/875788\n  return str.replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/ig, (url) => {\n    if (/(jpg|jpeg|png|gif)$/ig.test(url)) return url;\n    const hostname = new URL(url).hostname;\n    if (hostname.indexOf('bfban.com') !== -1) {\n      return `<a href=\"${url}\">${url}</a>`;\n    }\n    return `<a target=\"_blank\" href=\"${url}\">${url}</a>`;\n  });\n}\n\nfunction formatImageLink(str) {\n  return str.replace(/([a-z\\-_0-9/:.]*\\.(jpg|jpeg|png|gif))/ig, src => `<img src=\"${src}\" />`);\n}\n\nfunction formatTextarea(val) {\n  let str = val;\n\n  str = formatNewLine(str);\n  str = formatLink(str);\n  // str = formatImageLink(str);\n  return str;\n}\n\n\nfunction trimAllWhitespace(str) {\n  return str.replace(/\\s+/g, '');\n}\n\nfunction testWhitespace(str) {\n  return /\\s+/.test(str);\n}\n\nfunction getCsrfToken() {\n  return document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n}\n\n// num seconds\nfunction waitForAction(num = 3) {\n  const el = this;\n  el.style = 'display: none;';\n  const span = document.createElement('span');\n  el.parentNode.insertBefore(span, el.nextSibling);\n\n  let n = num;\n  span.innerText = `等待 ${n} 秒后重试`;\n  const si = setInterval(() => {\n    if (n > 1) {\n      n -= 1;\n      span.innerText = `等待 ${n} 秒重试`;\n    } else {\n      el.style = '';\n      span.innerText = '';\n      clearInterval(si);\n    }\n  }, 1000);\n}\n\nfunction getUTCTimeStamp() {\n  const now = new Date();\n  const utcTimeStamp = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),\n      now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n\n  return utcTimeStamp;\n}\n\nfunction defaultImgProviderSrcToProxy(str) {\n  // some images cannot load under http due to default image provider we used cannot be accessed with https\n  // replace it with a https proxy\n  const proxySrc = \"https://bfban.glass-panel.workers.dev/bfban.bamket\";\n  const reg = /src=\"http:\\/\\/bfban.bamket.com/g;\n  return str.replace(reg, \"src=\\\"\" + proxySrc);\n}\n\nfunction replaceImgSrcToDataSrc(str) {\n  const reg = /\\s+(src)=/gi;\n  return str.replace(reg, ' data-src=');\n}\n\nfunction detectLanguage(lang) {\n  return ['zh-CN', 'en-US', 'ja-JP', 'ru-RU', 'tr-TR'].filter(el => el.indexOf(lang) !== -1)[0];\n}\n\nexport {\n  defaultImgProviderSrcToProxy,\n  replaceImgSrcToDataSrc,\n  formatTextarea,\n  formatNewLine,\n  formatLink,\n  trimAllWhitespace,\n  testWhitespace,\n  getCsrfToken,\n  waitForAction,\n  getUTCTimeStamp,\n  detectLanguage,\n};\n"],"sourceRoot":""}