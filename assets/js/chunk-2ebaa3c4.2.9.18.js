(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ebaa3c4","chunk-2d0da581"],{"037f":function(e,t,a){},"0f21":function(e,t,a){"use strict";a("add4")},"11fd":function(e,t,a){},"23fb":function(e,t,a){"use strict";a("11fd")},2526:function(e,t,a){"use strict";a("5e0b")},3329:function(e,t,a){},"3b0e":function(e,t,a){"use strict";a("037f")},"3e1f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("br"),a("Row",[a("Col",{attrs:{xs:{push:1},lg:{push:0}}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("header.index")))]),a("BreadcrumbItem",[e._v(e._s(e.$t("header.profile")))])],1)],1)],1),a("br"),a("Card",{attrs:{"dis-hover":"",padding:0}},[a("Row",[a("Col",{attrs:{xs:{span:24},sm:{span:6}}},[a("Menu",{staticClass:"profile-menu",attrs:{width:"100%",mode:e.isMobile?"horizontal":"vertical","active-name":e.menuValue},on:{"on-select":e.onMenuActive}},[e._l(e.menu,(function(t,s){return a("div",{key:s},e._l(t.child,(function(t,s){return a("MenuItem",{key:s,attrs:{name:t.name}},[a("Row",{attrs:{gutter:10}},[a("Col",{style:t.configurationKey?"opacity:"+(t.configurationValue?"1":".3"):"",attrs:{flex:"1"}},[t.icon?a("Icon",{attrs:{type:t.icon,size:"20"}}):e._e(),e._v(" "+e._s(e.$t("profile."+t.title+".title"))+" ")],1),a("Col",[t.configurationKey?a("Checkbox",{attrs:{disabled:t.disabled},on:{"on-change":function(a){return e.onChangeSwitchFunction(t.configurationKey,t.configurationValue)}},model:{value:t.configurationValue,callback:function(a){e.$set(t,"configurationValue",a)},expression:"j.configurationValue"}}):e._e()],1)],1)],1)})),1)})),a("div",{staticClass:"ivu-menu-item-group-title"}),a("ul",[a("router-link",{attrs:{to:{name:"space",params:{uId:""+e.currentUser.userinfo.userId}}}},[a("li",{staticClass:"ivu-menu-item ivu-menu-item-disabled"},[e._v(" "+e._s(e.$t("header.userCenter"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1)]),a("router-link",{attrs:{to:{name:"workflow"}}},[e.isAdmin?a("li",{staticClass:"ivu-menu-item ivu-menu-item-disabled"},[e._v(" "+e._s(e.$t("workflow.title"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1):e._e()]),a("router-link",{attrs:{to:{name:"admin",params:{pagename:"home"}}}},[e.isAdmin?a("li",{staticClass:"ivu-menu-item ivu-menu-item-disabled"},[e._v(" "+e._s(e.$t("profile.admin.title"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1):e._e()])],1)],2)],1),a("Col",{staticClass:"profile-right-content",attrs:{xs:{span:24},sm:{span:18}}},["information"==e.menuValue?a("information"):e._e(),"achievement"==e.menuValue?a("achievement"):e._e(),"reports"==e.menuValue?a("reports"):e._e(),"appearance"==e.menuValue?a("appearance"):e._e(),"chat"==e.menuValue?a("chat"):e._e(),"enhance"==e.menuValue?a("enhance"):e._e(),"media"==e.menuValue?a("media"):e._e(),"voice"==e.menuValue?a("voice"):e._e(),"history"==e.menuValue?a("history"):e._e(),"subscribes"==e.menuValue?a("subscribes"):e._e(),"exportAndImport"==e.menuValue?a("exportAndImport"):e._e()],1)],1)],1),a("br")],1)},i=[],o=a("e4b4"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabs",{staticClass:"achievement",attrs:{value:"1"}},[a("TabPane",{attrs:{label:e.$t("profile.achievement.title"),name:"1"}},[a("Banner",{staticClass:"achievement-banner",attrs:{height:200}},[a("Form",{staticClass:"profile-body",attrs:{"label-position":"top"}},[a("Row",{attrs:{gutter:10}},[a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24},lg:{span:14}}},[a("UserAvatar",{attrs:{src:e.userAchievementsInfo.userAvatar,size:45}}),a("h1",[e._v(e._s(e.userAchievementsInfo.username||"username"))])],1),a("Col",{attrs:{xs:{span:12},lg:{span:5}}},[a("FormItem",{scopedSlots:e._u([{key:"label",fn:function(){return[a("Icon",{attrs:{type:"md-color-wand",size:"25"}}),a("span",{staticClass:"achievement-banner-title"},[e._v(e._s(e.$t("profile.achievement.exp")))])]},proxy:!0}])},[a("span",{staticClass:"achievement-banner-value"},[e._v(e._s(e.userAchievementsInfo.userAchievementExp||0))])])],1),a("Col",{attrs:{xs:{span:12},lg:{span:5}}},[a("FormItem",{scopedSlots:e._u([{key:"label",fn:function(){return[a("Icon",{attrs:{type:"md-trophy",color:"#FFC107",size:"25"}}),e.userAchievementsInfo.isPublicAchievement?e._e():a("Icon",{attrs:{type:"md-eye-off",size:"25"}}),a("span",{staticClass:"achievement-banner-title"},[e._v(e._s(e.$t("profile.achievement.owned")))])]},proxy:!0}])},[a("div",{staticClass:"achievement-banner-value"},[e.userAchievementsInfo.achievements?a("AchievementsTag",{attrs:{data:e.userAchievementsInfo.achievements,"max-overflow":3,size:"25px"}}):e._e()],1)])],1)],1)],1)],1),a("div",{staticClass:"profile-body"},[e._l(e.achievements.child.filter((function(e){return!e.isHidden})),(function(t,s){return a("Row",{key:s,staticClass:"achievement-item",attrs:{gutter:20}},[a("Col",{staticStyle:{width:"30%"},attrs:{flex:"1"}},[a("AchievementView",{attrs:{id:t.value,disabled:t.child&&t.child.length>0}},[a("h3",[a("b",[t.child?[e._v(e._s(e.$t("profile.achievement.list."+t.value+".name")))]:[a("u",[e._v(e._s(e.$t("profile.achievement.list."+t.value+".name")))])]],2)]),t.child?a("p",{staticClass:"description",domProps:{innerHTML:e._s(e.$t("profile.achievement.list."+t.value+".description"))}}):e._e(),a("p",{staticClass:"conditions"},[t.child?e._e():a("span",{domProps:{innerHTML:e._s(e.$t("profile.achievement.list."+t.value+".conditions"))}})]),t.child?e._e():[a("Tag",{attrs:{type:"border",color:e.achievements.raritys[t.rarity].class}},[e._v(" "+e._s(e.$t("profile.achievement.rarity."+t.rarity))+" ")])],t.unlock?a("Tag",{attrs:{type:"border"}},[e._v(" "+e._s(e.$t("profile.achievement.acquisitionTime"))+" "),a("TimeView",{attrs:{time:t.unlock.acquisitionTime}},[a("Time",{attrs:{time:t.unlock.acquisitionTime}})],1)],1):e._e()],2)],1),a("Col",{staticStyle:{width:"70%"}},[a("Card",{attrs:{"dis-hover":""}},[t.child?[a("Steps",{attrs:{size:"small"}},[e._l(t.child.slice(0,3),(function(t,s){return a("Step",{key:s,scopedSlots:e._u([t.iconPath?{key:"icon",fn:function(){return[a("img",{attrs:{src:e.achievementUtil.getIcon(t.iconPath),width:"25px",height:"25px"}})]},proxy:!0}:null,{key:"title",fn:function(){return[a("AchievementView",{attrs:{id:t.value}},[a("b",[a("u",[e._v(e._s(e.$t("profile.achievement.list."+t.value+".name")))])])])]},proxy:!0}],null,!0)},[a("p",{staticStyle:{"max-width":"100px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("profile.achievement.list."+t.value+".description")))])])})),t.child.length>3?a("div",{staticClass:"more"},[a("Poptip",{attrs:{slot:"content",transfer:"",width:"300"},slot:"content"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more",size:"20"}})],1),a("Steps",{attrs:{slot:"content",direction:"vertical"},slot:"content"},e._l(t.child.slice(3,t.child.length),(function(t,s){return a("Step",{key:s},[t.iconPath?a("img",{attrs:{slot:"icon",src:e.achievementUtil.getIcon(t.iconPath),width:"25px",height:"25px"},slot:"icon"}):e._e(),a("b",{attrs:{slot:"title"},slot:"title"},[a("AchievementView",{attrs:{id:t.value}},[e._v(" "+e._s(e.$t("profile.achievement.list."+t.value+".name"))+" ")])],1),a("p",{staticStyle:{"max-width":"100px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("profile.achievement.list."+t.value+".description")))])])})),1)],1)],1):e._e()],2)]:[a("Steps",{attrs:{size:"small"}},[a("Step",[a("Icon",{attrs:{slot:"icon",type:"md-radio-button-off"},slot:"icon"}),a("span",{attrs:{slot:"title"},slot:"title"}),a("span",{attrs:{slot:"content"},slot:"content"})],1),a("Step",[t.iconPath?a("div",{attrs:{slot:"icon"},slot:"icon"},[a("AchievementView",{attrs:{id:t.value}},[a("img",{attrs:{src:e.achievementUtil.getIcon(t.iconPath),width:"25px",height:"25px"}})])],1):e._e(),t.child?e._e():a("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("profile.achievement.list."+t.value+".name")))]),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v(e._s(e.$t("profile.achievement.list."+t.value+".description")))])])])],1)]],2)],1)],1)})),a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.load,expression:"load"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],2)],1)],1)},n=[],l=a("2ec1"),c=a("0626"),d=a("fb1c"),m=a("84af"),p=a("808f"),u=a("9648"),h={data(){return{achievementUtil:o["b"],achievements:l,load:!1,userAchievementsInfo:{}}},components:{AchievementView:c["a"],AchievementsTag:d["a"],UserAvatar:p["a"],TimeView:u["a"],Banner:m["a"]},created(){this.http=o["f"].call(this),this.getUserAchievement()},methods:{getUserAchievement(){this.load=!0,this.http.get(o["c"]["account_achievements"]).then(e=>{const t=e.data;if(1===t.success){this.userAchievementsInfo=t.data;for(let e in Object.entries(this.userAchievementsInfo.achievements)){let t=Object.entries(this.userAchievementsInfo.achievements)[e];const a=t[1],s=t[0];for(let e=0;e<this.achievements.child.length;e++){let t=this.achievements.child[e];t.child||t.value!==s?t.child&&t.child.filter(e=>{e.value===s&&(t.unlock={key:s,acquisitionTime:a})}):t.unlock={key:s,acquisitionTime:a}}}}}).finally(()=>{this.load=!1})}}},g=h,f=(a("2526"),a("2877")),v=Object(f["a"])(g,r,n,!1,null,null,null),b=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabs",[a("TabPane",{attrs:{label:e.$t("profile.reports.title")}},[a("div",{staticClass:"profile-body"},[a("Row",[a("Col",{staticStyle:{width:"100%"},attrs:{xm:{span:24},lg:{span:24}}},[a("Card",{attrs:{"dis-hover":"",padding:0}},[a("Reports",{attrs:{data:e.report.data}}),a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.load,expression:"load"}],attrs:{size:"large",fix:""}},[a("Loading",{attrs:{size:"50"}})],1)],1),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{"show-total":"","page-size":e.limit,current:e.page,total:e.total,size:"small"},on:{"on-change":e.getMyReports}})],1)],1)],1)],1)],1)])],1)},w=[],_=a("eb8a"),x=a("02bc"),C=a("22ca"),I=a("7e56"),k=a("3a5e"),$=new o["d"]({data(){return{load:!1,report:{data:[]},limit:40,page:1,total:0}},watch:{$route:"loadData"},components:{Loading:k["a"],Empty:x["a"],UserAvatar:p["a"],cheaterStatusView:_["a"],TimeView:u["a"],Confetti:C["a"],Reports:I["a"]},created(){this.http=o["f"].call(this),this.getMyReports(null)},methods:{getMyReports(e){this.load=!0,o["e"].get(o["c"]["user_reports"],{params:{id:this.currentUser.userinfo.userId,skip:(e||1)-1,limit:this.limit}}).then(e=>{const t=e.data;let a=[];1===t.success&&(t.data.forEach(e=>a.push(e)),this.report.data=a,this.total=t.total)}).finally(()=>{this.$Loading.finish(),this.load=!1})}},computed:{isAttachedContent(){return!this.account.attr.introduction&&!this.account.origin},isChat(){return!this.account.attr.allowDM||this.account.id==this.currentUser.userinfo.userId}}}),T=$,A=Object(f["a"])(T,y,w,!1,null,"b4ab3a40",null),S=A.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"theme ivu-radio-group-button"},[a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:10,type:"flex",align:"middle",justify:"end"}},[a("Col",[a("Button",{attrs:{type:"primary"},on:{click:e.changeTheme}},[e._v(" "+e._s(e.$t("basic.button.save")))])],1),a("Col",[a("div",{staticClass:"theme-color",style:"background-color: "+e.themes.child[e.themeIndex].themeColor})])],1)],1),a("Divider",{staticClass:"profile-divider"}),a("RadioGroup",{staticClass:"theme-card-content profile-body",attrs:{size:"large","button-style":"solid"},model:{value:e.themeIndex,callback:function(t){e.themeIndex=t},expression:"themeIndex"}},[e._l(e.themes.child,(function(t,s){return a("Card",{key:s,class:s==e.themeIndex?"ivu-radio-wrapper-checked":"",attrs:{"dis-hover":""}},[a("div",{on:{click:function(t){e.themeIndex=s}}},[a("div",{staticClass:"theme-color",style:"background-color: "+t.themeColor}),a("h1",[a("b",[e._v(e._s(t.name))]),a("Badge",{staticClass:"theme-badge",attrs:{text:t.version}})],1)]),a("div",[a("span",[e._v(e._s(t.authorInfo.authorName))]),a("Divider",{attrs:{type:"vertical"}}),a("span",[e._v(e._s(t.authorInfo.authorUpdate))])],1)])})),a("a",{attrs:{href:"//github.com/BFBAN/bfban-website/tree/master/front/public/theme",target:"_blank"}},[a("Card",{staticClass:"theme-card theme-card-not",attrs:{"dis-hover":""}},[a("Icon",{attrs:{type:"md-add",size:"30"}})],1)],1)],2)],1)},N=[],P=a("611b"),z={name:"appearance",data(){return{themes:P,themeIndex:0}},created(){this.getTheme()},methods:{async getTheme(){let e=o["o"].local.get("theme");if(e.data&&e.data.value)return this.themes.child.forEach((t,a)=>{t.name===e.data.value.name&&(this.themeIndex=a)}),void await this.$store.dispatch("setTheme",e.data.value);P.child.filter((e,t)=>{e.name===P.default&&(this.themeIndex=t)}),await this.$store.dispatch("setTheme",this.$store.state.$theme)},changeTheme(e){o["o"].local.set("theme",this.themes.child[this.themeIndex||0]),window.location.reload()}}},M=z,R=(a("babc"),Object(f["a"])(M,L,N,!1,null,"4bdaf1a6",null)),O=R.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabs",{model:{value:e.informationTab,callback:function(t){e.informationTab=t},expression:"informationTab"}},[a("TabPane",{attrs:{name:"info",label:e.$t("profile.space.title")}},[a("div",{staticClass:"account"},[a("Form",{attrs:{model:e.formItem,"label-position":"top"}},[a("Banner",{staticClass:"account-banner",attrs:{height:200}},[a("Row",{staticClass:"profile-body",attrs:{gutter:15}},[a("Col",[a("UserAvatar",{attrs:{src:e.formItem.userAvatar,size:50}})],1),a("Col",{attrs:{flex:"1"}},[a("h3",[e._v(" "+e._s(e.formItem.username)+" ")]),a("p",[e._v(e._s(e.$t("profile.meet",{name:e.formItem.username}))+" ("+e._s(e.formItem.id)+")")])]),e.formItem.privilege?a("Col",[a("p",[a("b",[e._v(e._s(e.$t("profile.space.form.privilege")))])]),a("PrivilegesTag",{attrs:{data:e.formItem.privilege}})],1):e._e()],1)],1),a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-key"}}),e._v(" "+e._s(e.$t("signup.form.username"))+" ")],1),a("Input",{attrs:{placeholder:e.$t("signup.form.username"),disabled:""},model:{value:e.formItem.username,callback:function(t){e.$set(e.formItem,"username",t)},expression:"formItem.username"}},[a("a",{attrs:{slot:"append",href:"javascript:void(0)"},on:{click:function(t){e.modal_setusername.show=!e.modal_setusername.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-lock"}}),e._v(" "+e._s(e.$t("signup.form.password"))+" ")],1),a("Input",{attrs:{placeholder:e.$t("signup.form.password"),disabled:"",type:"password"},model:{value:e.formItem.password,callback:function(t){e.$set(e.formItem,"password",t)},expression:"formItem.password"}},[a("a",{attrs:{slot:"append",href:"javascript:void(0)"},on:{click:function(t){e.modal_changePassword.show=!e.modal_changePassword.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:e.$t("account.joinedAt")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:e.formItem.joinTime||(new Date).getTime()}},[a("Time",{attrs:{time:e.formItem.joinTime||(new Date).getTime()}})],1)],1)],1)],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:e.$t("account.lastOnlineTime")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:e.formItem.lastOnlineTime||(new Date).getTime()}},[a("Time",{attrs:{time:e.formItem.lastOnlineTime||(new Date).getTime()}})],1)],1)],1)],1)],1),e.isAdmin?a("Col",{attrs:{xs:{span:24},lg:{span:24}}},[a("br"),a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("p",[a("b",[e._v(e._s(e.$t("profile.space.form.introduction")))])])]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Textarea",{ref:"informationTextarea",attrs:{toolbar:["bold",["cs","emote"]],height:"160px",maxlength:500,"show-maxlength-label":!0,placeholder:e.$t("profile.space.form.introduction")},model:{value:e.formItem.attr.introduction,callback:function(t){e.$set(e.formItem.attr,"introduction",t)},expression:"formItem.attr.introduction"}})],1)],1)],1):e._e(),a("Col",{attrs:{xs:{span:24},lg:{span:18}}},[a("FormItem",[a("Card",{attrs:{"dis-hover":""}},[a("Row",{attrs:{type:"flex",align:"bottom"}},[a("Col",{attrs:{flex:"1"}},[a("a",{attrs:{href:"https://gravatar.com",target:"_blank"}},[a("svg",{staticClass:"ivu-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 27 27",role:"presentation","aria-hidden":"true"}},[a("path",{attrs:{d:"M10.8 2.699v9.45a2.699 2.699 0 005.398 0V5.862a8.101 8.101 0 11-8.423 1.913 2.702 2.702 0 00-3.821-3.821A13.5 13.5 0 1013.499 0 2.699 2.699 0 0010.8 2.699z"}})])])]),a("Col",[a("a",{attrs:{href:e.formItem.userAvatar?"https://gravatar.com/connect/":"https://gravatar.com/connect/?gravatar_from=signup",target:"_blank"}},[a("Button",[a("Icon",{attrs:{type:"md-link",size:"20"}})],1)],1)])],1),a("Row",{attrs:{gutter:5,type:"flex",align:"top"}},e._l([150,80,50,45,30,22],(function(t,s){return a("Col",{key:s},[a("p",[e._v(e._s(t))]),a("UserAvatar",{attrs:{src:e.formItem.userAvatar,size:t}})],1)})),1)],1)],1)],1)],1),a("Divider",{attrs:{dashed:""}}),e.isBindAccount?[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:e.$t("signup.form.originName")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:e.formItem.origin.originName,callback:function(t){e.$set(e.formItem.origin,"originName",t)},expression:"formItem.origin.originName"}})],1)],1),a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:e.$t("signup.form.originId")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:e.formItem.origin.originUserId,callback:function(t){e.$set(e.formItem.origin,"originUserId",t)},expression:"formItem.origin.originUserId"}})],1)],1)],1)]:[a("Alert",{attrs:{"show-icon":"",type:"error"}},[e._v(" "+e._s(e.$t("account.bindOrigin.title"))+" "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),a("template",{slot:"desc"},[a("p",[e._v(e._s(e.$t("account.bindOrigin.content")))]),a("br"),a("router-link",{attrs:{to:"/bindOrigin"}},[a("Button",[e._v(e._s(e.$t("account.bindOrigin.travel")))])],1)],1)],2)],a("Divider",{attrs:{dashed:""}}),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:e.$t("profile.space.form.language")}},[a("Row",[a("Col",[a("Checkbox",{on:{"on-change":function(t){return e.switchAttr("langLocalSync",e.langLocalSync)}},model:{value:e.langLocalSync,callback:function(t){e.langLocalSync=t},expression:"langLocalSync"}})],1),a("Col",{attrs:{flex:"1"}},[a("Select",{staticClass:"switch-language",attrs:{prefix:"md-globe",placement:"top-end",disabled:!e.langLocalSync},on:{"on-change":e.switchLanguage},model:{value:e.formItem.attr.language,callback:function(t){e.$set(e.formItem.attr,"language",t)},expression:"formItem.attr.language"}},e._l(e.languages,(function(t){return a("Option",{key:t.name,attrs:{value:t.name,disabled:t.ignoreSave}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),e.langLocalSync?a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.space.form.languageSyncDescribe")))]):e._e()],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:e.$t("profile.space.form.showOrigin")}},[a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.space.form.showOriginDescribe")))]),a("i-switch",{model:{value:e.formItem.attr.showOrigin,callback:function(t){e.$set(e.formItem.attr,"showOrigin",t)},expression:"formItem.attr.showOrigin"}})],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:e.$t("profile.space.form.allowDM")}},[a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.space.form.allowDMdescribe")))]),a("i-switch",{model:{value:e.formItem.attr.allowDM,callback:function(t){e.$set(e.formItem.attr,"allowDM",t)},expression:"formItem.attr.allowDM"}})],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:e.$t("profile.space.form.showAchievement")}},[a("i-switch",{model:{value:e.formItem.attr.showAchievement,callback:function(t){e.$set(e.formItem.attr,"showAchievement",t)},expression:"formItem.attr.showAchievement"}})],1)],1)],1)],2),a("Affix",{attrs:{"offset-bottom":0}},[a("Divider",{staticStyle:{margin:"0px"},attrs:{size:"small",plain:""}}),a("Card",{attrs:{"dis-hover":"",padding:8,bordered:!1}},[a("Row",[a("Col",{attrs:{xs:{span:0},lg:{span:20}}}),a("Col",{attrs:{xs:{span:24},lg:{span:4}}},[a("Button",{attrs:{type:"primary",long:"",loading:e.formLoad,disabled:e.userInfoLoad},on:{click:e.onSave}},[e._v(" "+e._s(e.$t("basic.button.save"))+" ")])],1)],1)],1)],1)],1),a("Modal",{attrs:{"footer-hide":e.modal_setusername.index>=2},on:{"on-cancel":function(t){e.modal_setusername.index=0}},model:{value:e.modal_setusername.show,callback:function(t){e.$set(e.modal_setusername,"show",t)},expression:"modal_setusername.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.$t("profile.space.modifyName.title")))])]),a("div",[a("Steps",{attrs:{current:e.modal_setusername.index,size:"small"}},[a("Step",{attrs:{title:e.$t("profile.space.modifyName.steps[0].title")}}),a("Step",{attrs:{title:e.$t("profile.space.modifyName.steps[1].title")}}),a("Step",{attrs:{title:e.$t("profile.space.modifyName.steps[2].title")}})],1),a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[0==e.modal_setusername.index?a("div",[a("br"),a("Alert",{attrs:{type:"warning"}},[a("template",{slot:"desc"},[a("p",{domProps:{innerHTML:e._s(e.$t("profile.space.modifyName.specification1"))}}),a("p",[e._v(" "+e._s(e.$t("profile.space.modifyName.residueDegree",{changeNameLeft:e.formItem.attr.changeNameLeft||0}))+" ")]),a("br"),a("b",[e._v(" "+e._s(e.$t("profile.space.modifyName.specification2")))])])],2)],1):e._e(),1==e.modal_setusername.index?a("div",[a("br"),a("FormItem",{attrs:{label:e.$t("signup.form.username")}},[a("Input",{attrs:{size:"large",disabled:""},model:{value:e.formItem.username,callback:function(t){e.$set(e.formItem,"username",t)},expression:"formItem.username"}})],1),a("FormItem",{attrs:{label:e.$t("signup.form.newUsername")}},[a("Input",{attrs:{size:"large",placeholder:e.$t("signup.form.newUsername")},model:{value:e.formItem.newname,callback:function(t){e.$set(e.formItem,"newname",t)},expression:"formItem.newname"}})],1),a("FormItem",{attrs:{label:e.$t("captcha.title"),prop:"captcha"}},[a("Captcha",{ref:"captcha",on:{getCaptchaData:e.getUserNameCaptchaData}})],1)],1):e._e(),2==e.modal_setusername.index?a("div",{attrs:{align:"center"}},[a("br"),a("Icon",{attrs:{type:"ios-cloud-done",size:"200",color:"#19be6b"}}),a("br")],1):e._e()])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.modal_setusername.index>0&&e.modal_setusername.index<=1?a("Button",{attrs:{size:"large",disabled:""==e.formItem.newname,loading:e.modal_setusername.load},on:{click:function(t){e.modal_setusername.index=e.setUserName()}}},[e._v(" "+e._s(e.$t("basic.button.next"))+" ")]):e._e(),e.modal_setusername.index<=0?a("Button",{attrs:{type:"warning",size:"large",disabled:0==e.formItem.attr.changeNameLeft},on:{click:function(t){e.modal_setusername.index=1}}},[e._v(" "+e._s(e.$t("basic.button.submit"))+" ")]):e._e()],1)]),a("Modal",{model:{value:e.modal_changePassword.show,callback:function(t){e.$set(e.modal_changePassword,"show",t)},expression:"modal_changePassword.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("reset.title")))]),a("div",[a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[a("FormItem",{attrs:{label:e.$t("reset.form.oldPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:e.modal_changePassword.oldpassword,callback:function(t){e.$set(e.modal_changePassword,"oldpassword",t)},expression:"modal_changePassword.oldpassword"}})],1),a("FormItem",{attrs:{label:e.$t("reset.form.newPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:e.modal_changePassword.newpassword,callback:function(t){e.$set(e.modal_changePassword,"newpassword",t)},expression:"modal_changePassword.newpassword"}})],1),a("FormItem",{attrs:{label:e.$t("captcha.title"),prop:"captcha"}},[a("Captcha",{ref:"captcha",on:{getCaptchaData:e.getPasswordCaptchaData}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large",disabled:!e.modal_changePassword.oldpassword&&!e.modal_changePassword.newpassword&&!e.passwordCaptcha,loading:e.modal_changePassword.load},on:{click:function(t){return e.handChangePassword()}}},[e._v(" "+e._s(e.$t("reset.title"))+" ")])],1)]),a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.userInfoLoad,expression:"userInfoLoad"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],1)]),a("TabPane",{attrs:{name:"ad",label:e.$t("profile.space.form.AD")}},[a("Form",{staticClass:"profile-body",attrs:{"label-position":"top"}},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",[a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.space.form.ADDescribe")))]),a("List",{attrs:{border:""}},[a("ListItem",[a("ListItemMeta",{attrs:{title:"Google AD"}}),a("i-switch",{on:{"on-change":function(t){return e.switchAttr("ads.google.switch",e.adsSwitch.google)}},model:{value:e.adsSwitch.google,callback:function(t){e.$set(e.adsSwitch,"google",t)},expression:"adsSwitch.google"}})],1),a("ListItem",[a("ListItemMeta",{attrs:{title:"BFBAN APP AD"}}),a("i-switch",{on:{"on-change":function(t){return e.switchAttr("ads.bfban-app.switch",e.adsSwitch.bfbanApp)}},model:{value:e.adsSwitch.bfbanApp,callback:function(t){e.$set(e.adsSwitch,"bfbanApp",t)},expression:"adsSwitch.bfbanApp"}})],1)],1)],1)],1)],1)],1)],1)],1)},V=[],F=a("7f22"),U=a("daf8"),E=a("45ce"),j=a("d78a"),B=new o["d"]({name:"account",data(){return{privileges:[],languages:[],informationTab:"info",adsSwitch:{google:o["a"].getConfiguration("ads.google.switch"),bfbanApp:o["a"].getConfiguration("ads.bfban-app.switch")},userInfoLoad:!1,formLoad:!1,langLocalSync:!1,modal_changePassword:{load:!1,show:!1,newpassword:"",oldpassword:""},modal_setusername:{load:!1,show:!1,index:0},usernameCaptcha:"",passwordCaptcha:""}},components:{Textarea:U["a"],TimeView:u["a"],Captcha:E["a"],UserAvatar:p["a"],PrivilegesTag:j["a"],Banner:m["a"],AdsGoogle:F["a"]},created(){this.http=o["f"].call(this),this.ready()},methods:{async ready(){const{tag:e}=this.$route.query,t=await Promise.resolve().then(a.t.bind(null,"afdf",3)),s=await Promise.resolve().then(a.t.bind(null,"59c0",3));this.privileges=this.privileges.concat(s.child),this.languages=this.languages.concat(t.child),e&&(this.informationTab=e||"info"),await this.getUserinfo()},getUserNameCaptchaData(e){this.usernameCaptcha=e},getPasswordCaptchaData(e){this.passwordCaptcha=e},handChangePassword(){const{newpassword:e="",oldpassword:t=""}=this.modal_changePassword;this.modal_changePassword.load=!0,this.http.post(o["c"]["user_changePassword"],{data:{data:{newpassword:e,oldpassword:t},captcha:this.passwordCaptcha}}).then(e=>{const t=e.data;if(1===t.success)return this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""})),this.$store.dispatch("signout").then(()=>{this.signout()}),this.modal_changePassword.show=!1,void this.$router.push({name:"signin"});this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(()=>{this.modal_changePassword.load=!1})},signout(){o["e"].post(o["c"]["account_signout"],{headers:{"x-access-token":this.$store.state.user.token}}).then(e=>{const t=e.data;1===t.success&&this.$router.push("/signin")})},switchLanguage(e){this.formItem.attr.language=e},setUserName(){this.formItem.newname&&(this.modal_setusername.load=!0,this.http.post(o["c"]["user_changeName"],{data:{data:{newname:this.formItem.newname},captcha:this.usernameCaptcha}}).then(e=>{const t=e.data;if(1===t.success)return this.modal_setusername.index=2,void this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}));this.modal_setusername.index=0,this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(async()=>{this.modal_setusername.load=!1,this.usernameCaptcha="",await this.getUserinfo()}))},onSave(){this.formLoad=!0,this.formItem.language=this.$root.$i18n.locale,this.http.post(o["c"]["user_me"],{data:{data:{attr:this.formItem.attr}}}).then(e=>{const t=e.data;if(1===t.success)return t.data.attr.language&&this.$store.dispatch("setLang",t.data.attr.language),void this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}));this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(()=>{this.formLoad=!1})},async getUserinfo(){return this.userInfoLoad=!0,new Promise(e=>{this.http.get(o["c"]["user_me"],{}).then(e=>{const t=e.data;1===t.success&&(this.$store.dispatch("setUserInfo",t.data),this.formItem=Object.assign(this.formItem,t.data),this.$refs.informationTextarea&&this.$refs.informationTextarea.updateContent(this.convertInformation(this.formItem.attr.introduction)))}).finally(()=>{this.userInfoLoad=!1,this.checkLangLocalSync(),e()})})},convertInformation(e){const t=/<span>\{(user|player):(\d+)}<\/span>/g,a=/<span>\[([^|]+)\|([^\]]+)\]<\/span>/g;return e.replace(t,'<span data-type="contracted-syntax" data-cs-type="$1" data-cs-value="$2">{$1:$2}</span>').replace(a,'<span data-type="emote" data-id="$1|$2">[$1|$2]</span>')},checkLangLocalSync(){this.langLocalSync=o["a"].getConfiguration("langLocalSync")},switchAttr(e,t){o["a"].updateConfiguration(e,t)}},computed:{formItem:{set(e){this.data=e},get(){this.checkLangLocalSync();let e=Object.assign({password:"******",origin:null,userAvatar:"",newname:"",username:"",attr:{introduction:"",language:""}},this.data,this.$store.state.$userinfo);return e}},isBindAccount(){let e=this.formItem;return!!e.origin&&!(!e.origin.originName&&!e.origin.originUserId)}}}),W=B,G=(a("9855"),Object(f["a"])(W,D,V,!1,null,"5d019674",null)),q=G.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabs",{attrs:{value:e.tagsName}},[a("TabPane",{attrs:{label:e.$t("profile.chat.tabsList.itemName"),name:"message0"}},[a("div",{staticClass:"chat"},[a("Row",{staticClass:"profile-body",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{flex:"1"}}),a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small",disabled:!e.selectWindow},on:{click:e.setMessageEdit}},[e._v(" "+e._s(e.$t("profile.chat.control"))+" ")]),a("Divider",{attrs:{type:"vertical"}}),a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{type:"primary",size:"small",loading:e.messageLoad},on:{click:e.getMessage}},[e._v(" "+e._s(e.$t("profile.chat.load"))+" ")])],1),e.messageList[e.selectWindow]?a("Row",[a("Col",{staticClass:"chat-user"},e._l(e.messageUser,(function(t,s){return a("div",{key:s,on:{click:function(a){return e.openMessageDetail(t)}}},[a("Row",{staticClass:"chat-user-item",attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[e.messageList[t.value]&&e.messageList[t.value]["unreadNum"]>1?a("Badge",{attrs:{count:e.messageList[t.value]["unreadNum"]||0}},[a("Avatar",{attrs:{icon:"md-notifications"}})],1):a("Avatar",{attrs:{icon:"md-notifications"}},[e._v(" "+e._s(t.text[0]))])],1),a("Col",{attrs:{flex:"1"}},["reply"==t.type?a("businessCard",{attrs:{id:t.id}},[a("b",[e._v(e._s(t.text.toString()))])]):a("span",[a("b",[e._v(e._s(t.text.toString()))])]),e._v(" ("+e._s(e.messageList[t.value]["num"]||0)+") ")],1),a("Col",[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small"}},[e._v(" "+e._s(e.$t("profile.chat.look"))+" "),e.selectWindow!=t.value?a("Icon",{attrs:{type:"ios-arrow-dropright"}}):a("Icon",{attrs:{type:"md-arrow-dropright-circle"}})],1)],1)],1)],1)})),0),a("Col",{staticClass:"chat-content",attrs:{flex:"1"}},[e.control.open?a("Row",{staticClass:"chat-content-control"},[a("Col",[a("Checkbox",{on:{"on-change":e.onBatchAll},model:{value:e.control.all,callback:function(t){e.$set(e.control,"all",t)},expression:"control.all"}}),a("Divider",{attrs:{type:"vertical"}})],1),a("Col",{attrs:{flex:"1"}},[a("Select",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:e.control.model,callback:function(t){e.$set(e.control,"model",t)},expression:"control.model"}},e._l(e.control.list,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(e.$t("profile.chat.tabsList.form."+t.label))+" ")])})),1)],1),a("Col",[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small",disabled:e.control.model<0,loading:e.control.load},on:{click:e.onBatchOperation}},[e._v(" "+e._s(e.$t("basic.button.submit"))+" ")])],1)],1):e._e(),a("div",{staticClass:"chat-content-box"},e._l(e.messageList[e.selectWindow].child,(function(t,s){return a("div",{key:s,staticClass:"chat-content-item"},[a("Row",{attrs:{gutter:18}},[e.control.open?a("Col",{attrs:{span:"2"}},[a("Checkbox",{model:{value:t.choose,callback:function(a){e.$set(t,"choose",a)},expression:"child.choose"}})],1):e._e(),a("Col",{attrs:{span:e.control.open?22:24}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{flex:"1"}},[a("TimeView",{attrs:{time:t.time}},[a("Time",{attrs:{time:t.time,type:"datetime"}})],1)],1),a("Col",[a("Tag",{attrs:{type:"border",color:{fatal:"red",warn:"red"}[t.type]||"info"}},[e._v(e._s(t.type)+" ")])],1),a("Col",[0==t.haveRead&&["info","warn","fatal"].indexOf(t.type)<0?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.onMessageMark(t.id,0)}}},[a("Icon",{attrs:{type:"md-eye",size:"20"}})],1):e._e()])],1),a("Card",{staticStyle:{margin:"10px 0"},attrs:{"dis-hover":"",padding:0}},[a("Html",{attrs:{html:t.content}})],1),a("Row",[a("Col",{attrs:{flex:"1"}},[["info","warn","fatal"].indexOf(t.type)<0?a("span",[e._v("by "),a("u",[e._v(e._s(t.username))]),e._v("("+e._s(t.byUserId)+")")]):e._e()]),a("Col",[e._v("# "+e._s(t.id))])],1)],1)],1),a("divider",{attrs:{size:"small"}})],1)})),0),"direct"==e.messageList[e.selectWindow].type?a("div",{staticClass:"-content-footer"},[a("router-link",{attrs:{to:{name:"space",params:{uId:e.selectWindow},query:{repeat:!0}}}},[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{long:"",type:"primary"}},[a("Icon",{attrs:{type:"ios-send",size:"20"}})],1)],1)],1):e._e()],1)],1):[a("div",{staticClass:"chat-content-not"},[e._v(e._s(e.$t("basic.tip.notContent")))])],a("spin",{directives:[{name:"show",rawName:"v-show",value:e.messageLoad,expression:"messageLoad"}],attrs:{fix:""}},[a("Loading")],1)],2)])],1)},H=[],Q=a("1b08"),J=a("aa6e"),Z=a("c7c5"),Y=new o["d"]({name:"message",data(){return{that:this,tagsName:"message0",messageLoad:!1,selectWindow:"",message:{list:Z.sendTypes,typeDictionary:Z.typeDictionary,ruleValidate:{type:[{required:!0,trigger:"blur"}],id:[{required:!0,trigger:"blur"}],content:[{required:!0,trigger:"blur"}]},messages:[],playerList:[],show:!1,load:!1,type:"",id:"",content:""},messageUser:[],messageList:{},control:{load:!1,open:!1,all:!1,model:-1,list:[{value:0,label:"read"},{value:1,label:"unread"}]}}},components:{Loading:k["a"],BusinessCard:J["a"],PrivilegesTag:j["a"],TimeView:u["a"],Html:Q["a"]},watch:{$route:"loadData"},created(){this.http=o["f"].call(this),this.loadData()},methods:{async loadData(){await this.getMessage(),this.message.type=this.message.list[0].title},resetMessageFrom(){this.message.id="",this.message.content="",this.message.type=this.message.list[0].title},async openMessageDetail(e){this.selectWindow=e.value;for(let t=0;t<this.messageList[this.selectWindow].child.length;t++)0==this.messageList[this.selectWindow].child[t].haveRead&&(this.messageList[this.selectWindow].child[t].choose=!0);this.control.model=0,await this.onBatchOperation(),this.control.model=null},onBatchAll(){this.messageList[this.selectWindow].child.forEach(e=>{e.choose=this.control.all})},async onBatchOperation(){let e=[];return this.messageList[this.selectWindow].child.forEach(t=>{if(t.choose&&["direct","warn","reply"][t.type])switch(this.control.model){case 0:0==t.haveRead&&e.push(this.onMessageMark(t.id,this.control.model));break;case 1:e.push(this.onMessageMark(t.id,this.control.model));break}}),this.control.load=!0,Promise.all(e).finally(()=>{this.control.load=!1}),!0},async onMessageMark(e,t=0){await this.http.post(o["c"]["user_message_mark"],{params:{id:e,type:["read","unread","del"][t]}}),this.getMessage()},getPlayerList(e){this.message.load=!0,this.message.playerList=[],e.length<=2||"number"==typeof e||o["e"].get(o["c"]["users"],{params:{param:e.trim()}}).then(e=>{const t=e.data;1===t.success&&(this.message.playerList=t.data),this.message.load=!1})},setMessageEdit(){this.control.open=!this.control.open},async getMessage(){return this.messageLoad=!0,await this.http.get(o["c"]["user_message"]).then(e=>{const t=e.data;if(1===t.success){this.message.messages=t.data.messages;let e=[],a={};return t.data.messages.forEach(t=>{switch(t.type){case"info":case"fatal":case"warn":case"toAll":case"toAdmins":case"toNormals":e.find(e=>e.type==t.type)||e.push({text:"@"+this.$i18n.t("profile.chat.types."+t.type+".text"),id:t.byUserId,value:t.type,type:t.type,index:0});break;case"reply":case"direct":default:e.find(e=>e.id==t.byUserId)||e.push({text:t.username||t.byUserId,id:t.byUserId,value:t.byUserId,type:t.type,index:1});break}switch(t.type){case"info":case"fatal":case"warn":case"toAll":case"toAdmins":case"toNormals":return a[t.type]||(a[t.type]={child:[],num:0}),a[t.type].child.push(Object.assign(t,{time:t.createTime,content:`<p>${t.content}</p>`,choose:!1})),a[t.type].type=t.type,void(a[t.type].num=a[t.type].child.length||0);case"reply":case"direct":default:a[t.byUserId]||(a[t.byUserId]={child:[],num:0}),a[t.byUserId].child.push(Object.assign(t,{time:t.createTime,content:`<p>${t.content}</p>`,choose:!1})),a[t.byUserId].type=t.type,a[t.byUserId].num=a[t.byUserId].child.length||0,a[t.byUserId].unreadNum=a[t.byUserId].child.filter(e=>0===e.haveRead).length;break}}),this.messageList=a,this.messageUser=e.sort((e,t)=>e.index-t.index),void(this.messageUser.length>0&&(this.selectWindow=this.messageUser[0].value))}this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(()=>{this.messageLoad=!1}),!0}}}),X=Y,ee=(a("ed1d"),Object(f["a"])(X,K,H,!1,null,"2c648384",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.configuration.enhance?a("div",{staticClass:"profile-body"},[a("div",[a("List",{attrs:{border:""}},e._l(e.enhance,(function(t,s){return a("ListItem",{key:s},[a("ListItemMeta",{attrs:{title:e.$t("profile.enhance.public."+t.enhanceName+".name"),description:e.$t("profile.enhance.public."+t.enhanceName+".describe")}}),a("i-switch",{on:{"on-change":function(a){return e.changeEnhanceAttr(t.enhanceName,t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"i.value"}})],1)})),1),a("br")],1)]):e.$store.state.configuration.enhance?a("div",{staticClass:"profile-body enhance-notApp-content",attrs:{align:"center"}},[a("h1",[e._v("No application was detected")]),a("p",[e._v("The BFBAN WEB APP is not installed")])]):a("div",{staticClass:"profile-body"},[a("p",[e._v("Disable Component")]),e._m(0)])},se=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],ie={data(){var e,t,a,s,i,o;return{enhance:[{enhanceName:"footerBar",value:(null===(e=this.$store.state)||void 0===e||null===(t=e.configuration)||void 0===t?void 0:t.footerBar)||!1},{enhanceName:"autoUpdatePlayerList",value:(null===(a=this.$store.state)||void 0===a||null===(s=a.configuration)||void 0===s?void 0:s.autoUpdatePlayerList)||!1},{enhanceName:"desktopNotification",value:(null===(i=this.$store.state)||void 0===i||null===(o=i.configuration)||void 0===o?void 0:o.desktopNotification)||!1}]}},created(){},methods:{changeEnhanceAttr(e,t){e&&o["a"].updateConfiguration(e,t)}},computed:{webMode(){const e=window.matchMedia("(display-mode: standalone)").matches;return document.referrer.startsWith("bfban://")?"browsertab":navigator.standalone||e?"standalone":"browser"}}},oe=ie,re=(a("3b0e"),Object(f["a"])(oe,ae,se,!1,null,"2e879116",null)),ne=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[a("Alert",{staticStyle:{width:"100%"},attrs:{"show-icon":"",type:"warning"}},[e._v(" "+e._s(e.$t("profile.media.hint1"))+" ")]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Row",{attrs:{slot:"title",gutter:30},slot:"title"},[a("Col",{attrs:{flex:"1"}},[a("Button",{on:{click:function(t){return e.$refs["uploadWidget"].onPanelChange()}}},[a("Icon",{attrs:{type:"md-add"}})],1),a("UploadWidget",{ref:"uploadWidget",attrs:{uploadWidgetTypeArray:["upload"]},on:{finish:e.getMediaList}})],1),e.media.data.usedStorageQuota&&e.media.data.totalStorageQuota?a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{placement:"bottom-end",trigger:"hover",width:"400"}},[e._v(" "+e._s(e.$t("profile.media.capacity"))+" "),a("span",[e._v(" "+e._s(e.onUnitConversion(e.media.data.usedStorageQuota))+"/"+e._s(e.onUnitConversion(e.media.data.totalStorageQuota))+" ")]),a("Progress",{attrs:{percent:e.percentValue}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("Form",{attrs:{"label-position":"left","label-width":150}},[a("FormItem",{attrs:{label:e.$t("profile.media.maxFileNumber")}},[a("Input",{attrs:{value:e.media.data.maxFileNumber,size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.maxTrafficQuota")}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.maxTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.usedStorageQuota")}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.usedStorageQuota),size:"small",readonly:""}})],1),a("Col",[e._v("/")]),a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.totalStorageQuota),size:"small",readonly:""}})],1)],1)],1),a("FormItem",{attrs:{label:e.$t("profile.media.todayFileNumber")}},[a("Input",{attrs:{size:"small",readonly:""},model:{value:e.media.data.todayFileNumber,callback:function(t){e.$set(e.media.data,"todayFileNumber",t)},expression:"media.data.todayFileNumber"}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.todayTrafficQuota")}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.todayTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.prevResetTime")}},[a("TimeView",{attrs:{time:e.media.data.prevResetTime}},[a("Time",{attrs:{time:e.media.data.prevResetTime}})],1)],1)],1)],1)],1)],1):e._e()],1),a("Table",{staticClass:"media-content",attrs:{border:!1,"load-data":e.handleLoadData,columns:e.media.columns,data:e.media.list}}),a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.loadList,expression:"loadList"}],attrs:{fix:""}},[a("Loading")],1)],1),a("br"),a("Page",{staticClass:"page",attrs:{"show-sizer":"","show-total":"","show-elevator":"","page-size":e.media.limit,current:e.media.skip},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)},ce=[],de=(a("0808"),a("6944")),me=a.n(de),pe=a("2b0e"),ue=a("b2d4"),he=a("120c");pe["default"].use(me.a);var ge={components:{Loading:k["a"],TimeView:u["a"],UploadWidget:ue["a"]},data(){return{loadList:!0,loadStatus:!0,file:{name:""},service_upload:o["c"]["service_upload"],media:{columns:[{title:"Name",key:"filename",minWidth:200,maxWidth:400,render:(e,t)=>e(he["a"],{props:{isPoptip:!1,text:t.row.filename,href:`${o["e"].location()}service/file?filename=${t.row.filename}`}})},{title:"size",key:"size",sortable:!0},{title:"createTime",key:"createTime",render:(e,t)=>e(u["a"],{props:{time:t.row.createTime}},[e("Time",{props:{time:t.row.createTime,type:"datetime"}})])},{key:"btn",render:(e,t)=>{const a=this.getButtonType(t.row.filename);let s,i=this.$i18n.t("profile.chat.look");if("view"===a)i=this.$i18n.t("profile.chat.look"),s=()=>{t.row.load||this.queryMediaDetail(t.row.filename)};else if("download"===a){const e=`${o["e"].location()}service/file?filename=${t.row.filename}`;i=this.$i18n.t("profile.chat.download"),s=()=>{window.location.href=e}}return e("Button",{props:{loading:t.row.load},on:{click:s}},i)}}],images:{},selectFileId:"",data:{},list:[],limit:10,skip:1}}},created(){this.http=o["f"].call(this),this.getMedia(),this.getMediaList()},methods:{handleLoadData(e,t){setTimeout(()=>{const e=[{id:"10100",name:"John Brown",age:18,address:"New York No. 1 Lake Park"},{id:"10101",name:"Joe Blackn",age:30,address:"Sydney No. 1 Lake Park"}];t(e)},2e3)},handlePageChange(e){this.media.skip=e,this.getMedia()},handlePageSizeChange(e){this.media.limit=e,this.getMedia()},openViewImage(e,t){let a=[];this.media.images[e]=t;for(const s in this.media.images)a.push(this.media.images[s]);this.$viewerApi({options:{keyboard:!1,fullscreen:!0},images:a})},getMedia(){this.loadStatus=!0,this.http.get(o["c"]["service_myStorageQuota"],{}).then(e=>{const t=e.data;1===t.success&&(this.media.data=t.data),this.loadStatus=!1})},getMediaList(){this.loadList=!0,this.http.get(o["c"]["service_myFiles"],{params:{limit:this.media.limit,skip:this.media.skip-1}}).then(e=>{const t=e.data;1===t.success&&(t.data.map(e=>Object.assign(e,{_loading:!1,load:!1,size:this.onUnitConversion(e.size),children:[]})),this.media.list=t.data),this.loadList=!1})},queryMediaDetail(e){this.media.selectFileId=e;for(let t=0;t<this.media.list.length;t++)this.media.list[t].filename==e&&(this.media.list[t].load=!0);for(let t=0;t<this.media.list.length;t++)if(this.media.list[t].filename==e){const e=o["e"].CONF["requestUploadName"],a=o["e"].CONF.child[e],s=`${a.protocol||"http"}://${a.host}${a.pathname}`,i=`${s}api/service/file?filename=${this.media.list[t].filename}`;this.openViewImage(this.media.list[t].filename,i)}for(let t=0;t<this.media.list.length;t++)this.media.list[t].filename==e&&(this.media.list[t].load=!1)},getButtonType(e){const t=e.split(".").pop().toLowerCase();return["png","jpg","jpeg","gif"].includes(t)?"view":"zip"===t?"download":"default"},onUnitConversion(e){let t="";t=e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB";var a=t+"",s=a.indexOf("."),i=a.substr(s+1,2);return"00"==i?a.substring(0,s)+a.substr(s+3,2):t}},computed:{percentValue(){return Number((this.media.data.usedStorageQuota/this.media.data.totalStorageQuota*100).toFixed(2))}}},fe=ge,ve=(a("d831"),Object(f["a"])(fe,le,ce,!1,null,null,null)),be=ve.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[e.$store.state.configuration.voice?a("div",{staticClass:"voice"},e._l(e.voiceType,(function(t,s){return a("div",{key:s,class:[e.globalState?"":"disabled"]},[a("Row",{directives:[{name:"voice-button",rawName:"v-voice-button"}],staticClass:"voice-item profile-body",attrs:{gutter:10,type:"flex",align:"middle"}},[a("Col",[a("Checkbox",{on:{"on-change":function(a){return e.switchVoiceAttr(t.loaclValue,t)}},model:{value:t.state,callback:function(a){e.$set(t,"state",a)},expression:"i.state"}})],1),a("Col",{attrs:{span:"8"}},[a("b",{staticClass:"title"},[e._v(e._s(e.$t(t.name)))]),t.describe?a("p",{staticClass:"describe"},[e._v(e._s(e.$t(t.describe)))]):e._e()]),a("Col",{attrs:{flex:"1"}},[a("Slider",{attrs:{min:t.min,max:t.max,"show-input":"",disabled:!t.state},on:{"on-change":function(a){return e.switchVoiceAttr(t.loaclValue,t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"i.value"}})],1),t.voiceFileName?[a("Divider",{attrs:{type:"vertical"}}),a("Col",[a("Select",{model:{value:t.voiceFileName,callback:function(a){e.$set(t,"voiceFileName",a)},expression:"i.voiceFileName"}},e._l(e.voiceFiles,(function(t,s){return a("Option",{key:s,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+".mp4 ")])})),1)],1)]:e._e()],2),a("div",{staticClass:"voice-divider ivu-divider ivu-divider-horizontal"})],1)})),0):a("div",[a("p",[e._v("Disable Component")]),e._m(0)])])},we=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],_e={name:"voice",data(){return{globalState:!0,voiceFiles:[{name:"dinDon"}],voiceType:{voice_message:{name:"profile.voice.message",describe:"profile.voice.messageDescribe",loaclValue:"voice_message",voiceFileName:"dinDon",value:80,min:0,max:150,state:!0},voice_interaction:{name:"profile.voice.interaction",describe:"profile.voice.interactionDescribe",loaclValue:"voice_interaction",value:40,min:0,max:150,state:!1},voice_backgroundMusic:{name:"profile.voice.backgroundMusic",describe:"profile.voice.backgroundMusicDescribe",loaclValue:"voice_backgroundMusic",value:60,min:0,max:150,state:!1},video_mp4:{name:"profile.voice.video",describe:"profile.voice.videoDescribe",loaclValue:"video_mp4",value:80,min:0,max:150,state:!1}}}},created(){for(let e in this.voiceType){let t=o["a"].getConfiguration(this.voiceType[e].loaclValue);this.voiceType[e].state=t?t.state:this.voiceType[e].state,this.voiceType[e].value=t?100*t.value:this.voiceType[e].value}},methods:{switchAll(e){for(let t in this.voiceType)this.voiceType[t].state=e,this.switchVoiceAttr("voice",e),this.switchVoiceAttr(this.voiceType[t].loaclValue,this.voiceType[t])},switchVoiceAttr(e,t){e&&o["a"].updateConfiguration(e,{state:t.state,value:.01*t.value})}}},xe=_e,Ce=(a("a68a"),Object(f["a"])(xe,ye,we,!1,null,null,null)),Ie=Ce.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[e.$store.state.configuration.history?[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{on:{"on-change":e.onCheckboxAll},model:{value:e.checkboxAll,callback:function(t){e.checkboxAll=t},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:e.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[a("Button",{attrs:{size:"small"},on:{click:e.getHisory}},[a("Icon",{class:[e.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},[e.list.length>0?e._l(e.list,(function(t,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:t.checkbox,callback:function(a){e.$set(t,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.avatarLink?a("Avatar",{attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):e._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("ExposedName",[a("h2",[a("router-link",{style:""==t.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+t.originPersonaId}}}},[a("code",[e._v(e._s(t.originName))])])],1)])],1)],1),a("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:t.createTime}},[t.createTime?a("Time",{attrs:{time:t.createTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:t.updateTime}},[t.updateTime?a("Time",{attrs:{time:t.updateTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),a("TimeView",{attrs:{time:t.historyCreationTime}},[t.historyCreationTime?a("Time",{attrs:{time:t.historyCreationTime}}):e._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})):a("Empty")],2),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit,current:e.skip,total:e.total},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)],1)]:a("div",[a("p",[e._v("Disable Component")]),e._m(0)])],2)},$e=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],Te=a("95e3"),Ae=a("6acc"),Se=a("5515"),Le={components:{ExposedName:Se["a"],TimeView:u["a"],Empty:x["a"]},data(){return{disable:!1,gameName:"all",games:Ae.child,statusName:"-1",cheaterStatus:Te.child,checkboxAll:!1,load:!1,list:[],total:0,skip:1,limit:10}},created(){this.http=o["f"].call(this),this.getHisory()},methods:{async getHisory(){const{skip:e,limit:t}=this;let a=o["o"].local.get("viewed");if(this.list=[],0!==a.code&&!a.data.value)return;if(!this.$store.state.configuration.history)return;let s=Object.entries(a.data.value).sort((e,t)=>e[1]>t[1]?1:-1).slice((e-1)*t,e*t).map(e=>e[0]);this.load=!0,this.http.get(o["c"]["player_batchs"],{params:{dbIds:s}}).then(e=>{const t=e.data;1===t.success&&(this.list=t.data.map(e=>a.data.value[e.id]?{...e,historyCreationTime:a.data.value[e.id]}:e).sort((e,t)=>t.historyCreationTime-e.historyCreationTime))}).finally(()=>{this.load=!1}),this.total=Object.entries(a.data.value).length},onScreening(e,t){let a=!1;return"all"!=this.gameName&&"-1"!=this.statusMethods||(a=!0),this.list[e].data[t].games&&this.list[e].data[t].games.includes(this.gameName)&&(a=!0),this.list[e].data[t].status==this.statusName&&(a=!0),a},onCheckboxAll(){let e=this.list;for(let t=0;t<e.length;t++)e[t]["checkbox"]=this.checkboxAll},onDelete(){let e=this.list,t=o["o"].local.get("viewed");0!=t.code&&t.data&&Object.keys(t.data.value)<=0&&(t={data:{value:{}}});for(let a=0;a<e.length;a++)e[a]["checkbox"]&&delete t.data.value[e[a]["id"]];Object.keys(t.data.value).length>=0&&(o["o"].local.set("viewed",t.data.value),this.getHisory())},handlePageSizeChange(e){this.limit=e,this.getHisory()},handlePageChange(e){this.skip=e,console.log("page",e),this.getHisory()}},computed:{}},Ne=Le,Pe=(a("de9a"),Object(f["a"])(Ne,ke,$e,!1,null,"2e8422d2",null)),ze=Pe.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.configuration.subscribes?a("div",{staticClass:"profile-body"},[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{attrs:{disabled:e.list.length<=0},on:{"on-change":e.onCheckboxAll},model:{value:e.checkboxAll,callback:function(t){e.checkboxAll=t},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{disabled:e.list.length<=0,size:"small"},on:{click:e.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[e._v(" "+e._s(e.list.length)+" / 5000 "),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:e.getSubscribes}},[a("Icon",{class:[e.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},e._l(e.list,(function(t,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:t.checkbox,callback:function(a){e.$set(t,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.avatarLink?a("Avatar",{attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):e._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("ExposedName",[a("h2",[a("router-link",{style:""==t.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+t.originPersonaId,query:{byPath:e.$route.name}}}}},[e._v(" "+e._s(t.originName)+" ")])],1)])],1)],1),a("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:t.createTime}},[t.createTime?a("Time",{attrs:{time:t.createTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:t.updateTime}},[t.updateTime?a("Time",{attrs:{time:t.updateTime}}):e._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})),0),e.list.length<=0?a("div",[e._v(e._s(e.$t("basic.tip.notContent")))]):e._e(),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit,current:e.skip,total:e.total},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)],1)],1):a("div",{staticClass:"profile-body"},[a("p",[e._v("Disable Component")]),e._m(0)])},Re=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],Oe={components:{ExposedName:Se["a"],TimeView:u["a"]},data(){return{gameName:"all",games:Ae.child,statusName:"-1",cheaterStatus:Te.child,load:!1,list:[],checkboxAll:!1,total:0,skip:1,limit:10}},created(){this.http=o["f"].call(this),this.getSubscribes()},methods:{getSubscribes(){const{skip:e,limit:t}=this;this.$store.state.configuration.subscribes&&(this.load=!0,this.http.post(o["c"]["user_subscribes"],{data:{skip:(e||1)-1,limit:t}}).then(e=>{const t=e.data;1==t.success&&(this.list=t.data,this.total=t.total)}).finally(()=>{this.load=!1}))},onCheckboxAll(){let e=this.list;for(let t=0;t<e.length;t++)this.list[t]["checkbox"]=this.checkboxAll},onDelete(){let e=this.list,t=e.filter(e=>e["checkbox"]).map(e=>e.id);t.length>0&&this.http.post(o["c"]["user_subscribes_delete"],{data:{playerIds:t}}).then(e=>{const a=e.data;1==a.success&&(this.list=this.list.filter(e=>!t.includes(e.id)))})},handlePageSizeChange(e){this.limit=e,this.getSubscribes()},handlePageChange(e){this.skip=e,this.getSubscribes()}},computed:{}},De=Oe,Ve=(a("0f21"),Object(f["a"])(De,Me,Re,!1,null,"084a0c96",null)),Fe=Ve.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:10,type:"flex",align:"middle"}},[a("Col",[a("Button",{attrs:{long:"",loading:e.generatedZipLoad,disabled:e.selectGroup.length<=0},on:{click:e.onExport}},[e._v(" Export ("+e._s(e.selectGroup.length||0)+") ")])],1),a("Col",[a("Button",{on:{click:function(t){e.importModel=!e.importModel}}},[a("Icon",{attrs:{type:"md-add"}}),e._v(" Import ")],1)],1),a("Divider",{attrs:{type:"vertical"}}),a("Col",[a("Select",{on:{"on-change":e.onChangePatternType},model:{value:e.patternTypeValue,callback:function(t){e.patternTypeValue=t},expression:"patternTypeValue"}},e._l(e.patternType,(function(t,s){return a("Option",{key:s,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),a("Col",[a("a",{attrs:{href:"https://announcement.bfban.com/docs/exportAndImport",target:"_blank"}},[a("Icon",{attrs:{type:"md-help"}})],1)]),a("Col",{attrs:{flex:"1"}}),a("Col",[a("Input")],1)],1),a("br"),e.storageKeys.length>0?[a("CheckboxGroup",{staticClass:"export-box",attrs:{disabled:e.selectGroup<=0},model:{value:e.selectGroup,callback:function(t){e.selectGroup=t},expression:"selectGroup"}},[a("List",{attrs:{border:""}},e._l(e.storageKeys,(function(e,t){return a("ListItem",{key:t,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Row",{attrs:{gutter:0}},[a("Col",[a("Checkbox",{attrs:{label:e.value,disabled:!e.data}})],1)],1)],1)})),1)],1)]:a("Card",{attrs:{"dis-hover":""}},[a("Empty",{attrs:{"not-hint":!0}})],1),a("br"),a("p",{staticClass:"hint hint-seriousness"},[e._v(e._s(e.$t("profile.exportAndImport.description")))]),a("p",{staticClass:"hint hint-seriousness"},[e._v(e._s(e.$t("profile.exportAndImport.hint1")))]),a("Modal",{attrs:{name:"import"},model:{value:e.importModel,callback:function(t){e.importModel=t},expression:"importModel"}},[a("Card",{staticClass:"ivu-upload-select",attrs:{"dis-hover":"",padding:2}},[a("input",{staticClass:"ivu-upload-input",attrs:{type:"file",id:"file",name:"file",multiple:""},on:{change:e.onImportPreparation}}),a("br")]),a("p",[a("br")]),e.importPreparation.length>0?[a("CheckboxGroup",{staticClass:"export-box",model:{value:e.selectImportPreparationGroup,callback:function(t){e.selectImportPreparationGroup=t},expression:"selectImportPreparationGroup"}},e._l(e.importPreparation,(function(t,s){return a("Card",{key:s,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Checkbox",{attrs:{label:t.name}},[e._v(e._s(t.name))]),a("p",[a("br")]),a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("Select",{attrs:{size:"small"},model:{value:t.operationTypeValue,callback:function(a){e.$set(t,"operationTypeValue",a)},expression:"i.operationTypeValue"}},e._l(e.operationType,(function(t,s){return a("Option",{key:s,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("Col",[t.isExists?a("span",{staticStyle:{color:"red"}},[a("Icon",{attrs:{type:"md-alert"}}),e._v("Exists ")],1):e._e()])],1)],1)})),1)]:a("Card",{attrs:{"dis-hover":""}},[a("Empty",{attrs:{"not-hint":!1}})],1),a("Row",{attrs:{slot:"footer",gutter:10,type:"flex",align:"middle"},slot:"footer"},[a("Col",[a("p",{staticClass:"hint hint-seriousness"},[e._v(e._s(e.$t("profile.exportAndImport.hint2")))])]),a("Col",{attrs:{flex:"1"}},[a("Button",{attrs:{long:"",disabled:e.selectImportPreparationGroup.length<=0},on:{click:e.onImport}},[e._v("Import")])],1)],1)],2)],2)},Ee=[],je=(a("5b81"),a("c4e3")),Be=a.n(je),We=a("617b"),Ge=a("be4b"),qe=a.n(Ge),Ke=new o["d"]({name:"exportAndImport",data(){return{generatedZipLoad:!1,importModel:!1,selectGroup:[],storageKeys:[],primitiveStorageKeys:[],operationType:["cover","inherit"],patternType:["user","system"],patternTypeValue:"",selectImportPreparationGroup:[],importPreparation:[]}},components:{HtmlWidget:We["a"],Empty:x["a"]},created(){this.getLocaleKeys(),Be.a.support.blob||this.$Message.error("This demo works only with a recent browser !")},methods:{onChangePatternType(e){const t=o["a"].STORAGENAME;switch(e){case"user":this.selectGroup=[t+"user.player",t+"user.configuration",t+"user.subscribes",t+"search.history",t+"customReply",t+"viewed"];break;case"system":this.selectGroup=[t+"language",t+"theme"];break;default:this.selectGroup=[];break}},getLocaleKeys(){const e=o["a"].values();this.primitiveStorageKeys=e,this.storageKeys=e.map(e=>({...e,value:e.value,label:e.value.split(":")[1]})),console.log(this.storageKeys)},onExport(){try{if(!this.isLogin||this.selectGroup.length<=0)return;const t=this,a=new Be.a;t.generatedZipLoad=!0;let s={};for(const i of this.storageKeys){var e;this.selectGroup.indexOf(i.value)>=0&&(s[i.value]={size:null!==(e=i.data.length)&&void 0!==e?e:0,name:i.value,path:"data/"+i.value+".json"})}a.file("dictionary.json",JSON.stringify(s)),a.folder("data");for(const e of this.storageKeys)this.selectGroup.indexOf(e.value)>=0&&a.file("data/"+e.value+".json",JSON.stringify(e.data));a.generateAsync({type:"blob"}).then((function(e){t.generatedZipLoad=!1,qe()(e,`${t.currentUser.userinfo.userId}@${new URL(location).hostname}.zip`)})),this.selectGroup=[]}catch(t){this.$Message.error(t)}},onImportPreparation(e){const t=e.target.files,a=this;this.importPreparation=[],this.selectImportPreparationGroup=[];for(let s=0;s<t.length;s++)Be.a.loadAsync(t[s]).then((function(e){let t=e;t.files["dictionary.json"]||a.$Message.error("This is not the intended package, please check if it is exported from the website\n"),t.folder("data").forEach((function(t,s){e.file(s.name).async("text").then(e=>{const s=t.split(":")[1].replaceAll(".json",""),i=0===o["o"].local.get(s).code;a.importPreparation.push({name:t.replaceAll(".json",""),value:e,isExists:i,operationTypeValue:a.operationType[0]})})}))}),(function(e){a.importPreparation=[],a.selectImportPreparationGroup=[],a.$Message.error(e)}))},onImport(){try{if(!this.isLogin)return;this.importPreparation.forEach(async e=>{var t;let a,s,i;if(this.selectImportPreparationGroup.indexOf(e.name)>=0)switch(e.operationTypeValue){case"cover":a=JSON.parse(e.value);break;case"inherit":if(i=await(null===(t=o["o"].local.get(e.name.split(":")[1]))||void 0===t?void 0:t.data.value),s=JSON.parse(e.value),s.constructor===Array)a=i.concat(s);else{if(s.constructor!==Object)return void this.$Message.error("Supported type. Change the mode\n");a=Object.assign(i,s)}break;default:break}o["o"].local.set(e.name.split(":")[1],a)}),this.$Message.success("ok")}catch(e){this.$Message.error(e)}}}}),He=Ke,Qe=(a("a6918"),Object(f["a"])(He,Ue,Ee,!1,null,"5b256ddf",null)),Je=Qe.exports,Ze=new o["d"]({name:"profile",data(){return{privileges:[],menuValue:"space",menu:[{name:"0",child:[{title:"space",name:"information",icon:"md-person"},{title:"reports",name:"reports",icon:"ios-hand"},{title:"achievement",name:"achievement",icon:"md-ribbon"},{title:"appearance",name:"appearance",icon:"ios-color-palette"},{title:"chat",name:"chat",icon:"md-mail"},{title:"media",name:"media",icon:"md-folder"},{title:"voice",name:"voice",icon:"md-musical-note",configurationKey:"voice",configurationValue:this.$store.state.configuration.voice||!1},{title:"history",name:"history",icon:"md-filing",configurationKey:"history",configurationValue:this.$store.state.configuration.history||!1},{title:"subscribes",name:"subscribes",icon:"md-notifications",configurationKey:"subscribes",configurationValue:this.$store.state.configuration.subscribes||!1},{title:"enhance",name:"enhance",icon:"md-code-download",configurationKey:"enhance",configurationValue:this.$store.state.configuration.enhance||!1},{title:"exportAndImport",name:"exportAndImport",icon:"md-folder"}]}]}},components:{achievement:b,reports:S,appearance:O,information:q,chat:te,enhance:ne,media:be,voice:Ie,history:ze,subscribes:Fe,exportAndImport:Je,PrivilegesTag:j["a"],UserAvatar:p["a"]},watch:{$route:{handler(e,t){const{pagename:a="space"}=e.params;t&&this.onMenuActive(a)}}},created(){const{pagename:e="space"}=this.$route.params;this.onMenuActive(e)},methods:{onMenuActive(e){this.menuValue=e,this.$router.push({name:"profile",params:{pagename:e},query:{...this.$router.query}})},onChangeSwitchFunction(e,t){o["a"].updateConfiguration(e,t)}}}),Ye=Ze,Xe=(a("23fb"),Object(f["a"])(Ye,s,i,!1,null,null,null));t["default"]=Xe.exports},"560f":function(e,t,a){"use strict";a("861d4")},"5e0b":function(e,t,a){},"61c9":function(e,t,a){},"63b0":function(e,t,a){},"69de":function(e,t,a){},"6acc":function(e){e.exports=JSON.parse('{"defaultIndex":0,"default":"bf1","child":[{"value":"bf1","full_name":"bf1","bk_file":"images/games/bf1","bk_src":"//media.contentapi.ea.com/content/dam/gin/images/2017/01/battlefield-1-keyart-5452x3859.jpg.adapt.crop1x1.767p.jpg","logo_src":"//media.contentapi.ea.com/content/dam/gin/common/logos/layer-1.png","app_assets_bk_file":"assets/images/games/bf1/bf.jpg","app_assets_logo_file":"assets/images/games/bf1/logo.png"},{"value":"bfv","full_name":"bfv","bk_file":"images/games/bfv","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2018/05/bfv-campaignart-standard-large.jpg.adapt.crop1x1.767p.jpg","bk_width":150,"logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/bfv-logo-white.png","app_assets_bk_file":"assets/images/games/bfv/bf.jpg","app_assets_logo_file":"assets/images/games/bfv/logo.png"},{"value":"bf6","full_name":"bf2042","bk_file":"images/games/bf6","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2021/06/battlefield-2042-key-art.jpg.adapt.crop1x1.767p.jpg","logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/battlefield-2042-mono-logo-svg.svg","app_assets_bk_file":"assets/images/games/bf6/bf.jpg","app_assets_logo_file":"assets/images/games/bf6/logo.png"}]}')},"7e56":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Table",{attrs:{"show-header":"",border:!1,"no-data-text":e.$t("basic.tip.noReports"),columns:e.report.columns,data:e.report.data}})},i=[],o=a("120c"),r=a("eb8a"),n=a("9648"),l=a("5515"),c={props:{data:[]},data(){return{load:!1,report:{columns:[{title:this.$i18n.t("account.reported"),key:"originName",fixed:"left",minWidth:200,maxWidth:300,ellipsis:!0,tooltip:!0,render:(e,t)=>{const a=this,s=window.location.origin+a.$router.resolve({name:"player",params:{ouid:t.row.originPersonaId}}).href;return e("row",{props:{type:"flex",align:"middle"},class:"reports-table",style:"overflow: hidden;"},[e("Col",[e("Avatar",{props:{src:t.row.avatarLink},style:{margin:"0 10px 0 0"}})]),e(l["a"],{props:{disabled:!0}},[e(o["a"],{props:{text:t.row.originName,isPoptip:!1,href:s},style:{overflow:"hidden",display:"inline",width:"calc(100% - 50px)","text-overflow":"ellipsis","white-space":"nowrap","word-break":"break-all"},on:{click:()=>{a.$router.push({name:"player",params:{ouid:t.row.originPersonaId}})}}},t.row.originName)]),e("div",{class:"reports-table-mark"})])}},{title:this.$i18n.t("signup.form.originId"),key:"originPersonaId",ellipsis:!0,width:200,align:"center",render:(e,t)=>e("div",[e("p",t.row.originPersonaId)])},{title:this.$i18n.t("account.status"),key:"status",width:200,align:"center",render:(e,t)=>e("div",[e(r["a"],{props:{status:t.row.status}},t.row.status)])},{title:this.$i18n.t("list.colums.reportTime"),key:"createTime",sortable:!0,minWidth:150,render:(e,t)=>e("Tag",{props:{color:"primary"}},[e(n["a"],{props:{time:t.row.createTime}},[e("Time",{props:{time:t.row.createTime,type:"datetime"}})])])},{title:this.$i18n.t("list.colums.updateTime"),key:"updateTime",align:"center",width:200,sortable:!0,render:(e,t)=>e("tag",{props:{color:"primary"}},[e(n["a"],{props:{time:t.row.createTime}},[e("Time",{props:{time:t.row.updateTime}})])])}],data:[]}}},watch:{$route:"loadData",data:"loadData"},components:{},methods:{loadData(){this.data.length>0&&(this.report.data=this.data)}}},d=c,m=(a("fdc6"),a("2877")),p=Object(m["a"])(d,s,i,!1,null,null,null);t["a"]=p.exports},"7f22":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.adId&&e.adsSwitch?a("Card",{staticClass:"ad-container",class:e.adId&&e.ads[e.adId].class||[],style:e.ads[e.adId].style,attrs:{"dis-hover":"",padding:0}},[a("div",{staticClass:"ad-off",on:{click:e.offAds}},[a("Icon",{attrs:{size:"10",type:"md-close"}})],1),e._t("default")],2):e._e()},i=[],o=a("e4b4"),r={name:"AdsGoogle",props:{id:{type:[Number,String],default:()=>"7930151828"}},watch:{id:{handler(e){this.adId=e}}},data(){return{account_storage:o["a"],adId:"",adClient:"ca-pub-6625226616103631",ads:{7930151828:{style:"width: 100%;min-height: 80px;",class:[],adFormat:"true",fullWidthResponsive:"true"},1760339032:{name:"right",style:"width: 100%;min-height: 300px;margin-bottom: 10px;",class:[],adFormat:"true",fullWidthResponsive:"true"},6674125493:{name:"bfban-x",style:"width: 100%;min-height: 200px;",class:[],adFormat:"autorelaxed",fullWidthResponsive:"true"}}}},created(){this.adId=this.id},methods:{offAds(){o["a"].updateConfiguration("ads.google.switch",!1),this.$router.push({name:this.$router.name,query:{...this.$route.query,skipAds:!0}})}},computed:{adsSwitch(){const e=this.$route.query["skipAds"]||!1,t=o["a"].getConfiguration("ads.google.switch")||!1;return!e&&t}}},n=r,l=(a("560f"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,null,null);t["a"]=c.exports},"83c2":function(e,t,a){},"861d4":function(e,t,a){},9218:function(e,t,a){},9855:function(e,t,a){"use strict";a("69de")},a68a:function(e,t,a){"use strict";a("83c2")},a6918:function(e,t,a){"use strict";a("9218")},add4:function(e,t,a){},b8e9:function(e,t,a){},ba57:function(e,t,a){},babc:function(e,t,a){"use strict";a("3329")},be4b:function(e,t,a){
/*! FileSaver.js
 *  A saveAs() FileSaver implementation.
 *  2014-01-24
 *
 *  By Eli Grey, http://eligrey.com
 *  License: X11/MIT
 *    See LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/main/FileSaver.js */
var s=s||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,a=function(){return e.URL||e.webkitURL||e},s=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!e.externalHost&&"download"in i,r=e.webkitRequestFileSystem,n=e.requestFileSystem||r||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},c="application/octet-stream",d=0,m=[],p=function(){var e=m.length;while(e--){var t=m[e];"string"===typeof t?s.revokeObjectURL(t):t.remove()}m.length=0},u=function(e,t,a){t=[].concat(t);var s=t.length;while(s--){var i=e["on"+t[s]];if("function"===typeof i)try{i.call(e,a||e)}catch(o){l(o)}}},h=function(s,l){var p,h,g,f=this,v=s.type,b=!1,y=function(){var e=a().createObjectURL(s);return m.push(e),e},w=function(){u(f,"writestart progress write writeend".split(" "))},_=function(){!b&&p||(p=y(s)),h?h.location.href=p:window.open(p,"_blank"),f.readyState=f.DONE,w()},x=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},C={create:!0,exclusive:!1};if(f.readyState=f.INIT,l||(l="download"),o){p=y(s),t=e.document,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i.href=p,i.download=l;var I=t.createEvent("MouseEvents");return I.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(I),f.readyState=f.DONE,void w()}e.chrome&&v&&v!==c&&(g=s.slice||s.webkitSlice,s=g.call(s,0,s.size,c),b=!0),r&&"download"!==l&&(l+=".download"),(v===c||r)&&(h=e),n?(d+=s.size,n(e.TEMPORARY,d,x((function(e){e.root.getDirectory("saved",C,x((function(e){var t=function(){e.getFile(l,C,x((function(e){e.createWriter(x((function(t){t.onwriteend=function(t){h.location.href=e.toURL(),m.push(e),f.readyState=f.DONE,u(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&_()},"writestart progress write abort".split(" ").forEach((function(e){t["on"+e]=f["on"+e]})),t.write(s),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING})),_)})),_)};e.getFile(l,{create:!1},x((function(e){e.remove(),t()})),x((function(e){e.code===e.NOT_FOUND_ERR?t():_()})))})),_)})),_)):_()},g=h.prototype,f=function(e,t){return new h(e,t)};return g.abort=function(){var e=this;e.readyState=e.DONE,u(e,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,e.addEventListener("unload",p,!1),f.unload=function(){p(),e.removeEventListener("unload",p,!1)},f}}("undefined"!==typeof window&&window||this.content);e.exports=s},c7c5:function(e){e.exports=JSON.parse('{"name":"messgae","sendTypes":[{"title":"direct","privilege":["normal","admin","root","super","dev"]},{"title":"warn","privilege":["root","super","dev"]},{"title":"fatal","privilege":["root","super","dev"]},{"title":"toAll","privilege":["root","super","dev"]},{"title":"toAdmins","privilege":["super","admin","dev"]},{"title":"toNormals","privilege":["super","admin"]},{"title":"command","privilege":["root","dev"]}],"typeDictionary":["direct","warn","fatal"]}')},d831:function(e,t,a){"use strict";a("b8e9")},de9a:function(e,t,a){"use strict";a("63b0")},e9d6:function(e,t,a){e.exports=a.p+"assets/img/open-component.cf603f01.png"},ed1d:function(e,t,a){"use strict";a("61c9")},fdc6:function(e,t,a){"use strict";a("ba57")}}]);
//# sourceMappingURL=chunk-2ebaa3c4.2.9.18.js.map