(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5042bd8e","chunk-2d0da581"],{"2d3b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("br"),s("Row",[s("Col",{attrs:{xs:{push:1},lg:{push:0}}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("header.index")))]),s("BreadcrumbItem",[e._v(e._s(e.$t("search.title")))])],1)],1)],1),s("br"),e._m(0),s("div",{class:"search-content "+(e.searchVal.length>3&&e.searchPosting?"search-content-mini":"")},[s("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"center",gutter:20}},[s("Col",{attrs:{xs:{span:24},sm:{span:18},md:{span:18}}},[s("div",{staticClass:"search-input search-input-show ivu-input ivu-input-large"},[s("Row",{attrs:{gutter:10}},[s("Col",[s("RadioGroup",{attrs:{type:"button",size:"small"},on:{"on-change":e.onTabClick},model:{value:e.searchTypeValue,callback:function(t){e.searchTypeValue=t},expression:"searchTypeValue"}},[s("Radio",{attrs:{label:"player",value:"player"}},[e._v(e._s(e.$t("search.tabs.player")))]),s("Radio",{attrs:{label:"user",value:"user",disabled:!e.isLogin}},[e._v(e._s(e.$t("search.tabs.user")))])],1)],1),s("Col",{attrs:{flex:"1"}},[s("Dropdown",{staticStyle:{width:"100%"}},[s("Input",{attrs:{size:"small",clearable:"","show-word-limit":!0,maxlength:100,border:!1,placeholder:e.$t("search.placeholder")},on:{"on-enter":e.handleSearch,"on-search":e.handleSearch},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),s("div",{staticStyle:{padding:"10px"},attrs:{slot:"list",transfer:""},slot:"list"},[e.searchHistory.list.length>0?s("Row",{attrs:{type:"flex",align:"middle",gutter:5}},[s("Col",{attrs:{flex:"1"}},[s("h5",[s("b",[e._v(e._s(e.searchHistory.list.length))]),s("span",[e._v("/10")])])]),s("Col",[s("Button",{attrs:{size:"small",type:"primary",ghost:""},on:{click:e.deleteSearchHistoryAll}},[s("Icon",{attrs:{type:"md-trash"}})],1)],1)],1):e._e(),e.searchHistory.list.length>0?[s("Row",{attrs:{gutter:5}},e._l(e.searchHistory.list,(function(t,a){return s("Col",{key:a},[s("Tag",{attrs:{stype:"border",type:"dot",color:t.count>0?"success":"default",checkable:"",closable:""},on:{"on-change":function(t){return e.handleSearchHistoryClickTag(a)},"on-close":function(t){return e.handleSearchHistoryClose(a)}}},[e._v(" "+e._s(e.$t("search.tabs."+t.type)||"")+":"+e._s(t.keyword)+" ")])],1)})),1)]:s("div",{attrs:{align:"center"}},[e._v(" ü¶ñü¶àüêß ")])],2)],1)],1),s("Col",[s("OcrWidget",{attrs:{data:{}},on:{ok:e.onOcrOutput}},[s("Tooltip",{attrs:{content:"OCR"}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("Icon",{attrs:{type:"md-qr-scanner"}})],1)])],1)],1),s("Col",[s("Button",{attrs:{type:"primary",size:"small",disabled:e.searchVal.length<=3},on:{click:e.handleSearch}},[e.modalSpinShow?s("Icon",{attrs:{type:"md-refresh spin-icon-load"}}):s("Icon",{attrs:{type:"ios-search"}})],1)],1)],1)],1)])],1),s("Row",{staticClass:"checkboxGroup",attrs:{type:"flex",justify:"center",align:"middle"}},[s("Col",{attrs:{xs:{span:24},lg:{span:6},align:"center"}},[s("Icon",{attrs:{type:"md-alert"}}),e._v(" "+e._s(e.$t("search.describe"))+" ")],1),s("Col",{attrs:{xs:{span:0},lg:{span:1}}},[s("Divider",{attrs:{type:"vertical"}})],1),s("Col",{attrs:{xs:{span:24},lg:{span:6},align:"center"}},[s("a",{attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.$t("search.collectionHint")))])])],1)],1),e.searchVal.length>=3&&e.searchPosting?[s("Row",{attrs:{type:"flex",align:"middle",gutter:10}},[s("Col",{attrs:{flex:"1"}},[s("Tabs",{attrs:{captureFocus:""},on:{"on-click":e.onTabClick},model:{value:e.searchTypeValue,callback:function(t){e.searchTypeValue=t},expression:"searchTypeValue"}},[s("TabPane",{attrs:{name:"player",label:e.$t("search.tabs.player")}}),s("TabPane",{attrs:{name:"user",label:e.$t("search.tabs.user"),disabled:!e.isLogin}})],1)],1),s("Col",[s("Row",{attrs:{gutter:5}},[s("Col",["player"==e.searchTypeValue?[s("Poptip",{ref:"filesPoptip",attrs:{placement:"bottom-end",trigger:"click",width:"400","popper-class":"files-poptip",padding:"20px 30px"}},[s("Button",{attrs:{size:"small"}},[s("Icon",{attrs:{type:"md-funnel",size:"15"}})],1),s("Form",{ref:"filesFunnel",attrs:{slot:"content","label-position":"top"},slot:"content"},[s("FormItem",[s("RadioGroup",{attrs:{type:"button"},model:{value:e.searchGameSort,callback:function(t){e.searchGameSort=t},expression:"searchGameSort"}},[s("Radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("search.sort.default")))]),s("Radio",{attrs:{label:"latest"}},[e._v(e._s(e.$t("search.sort.latest")))]),s("Radio",{attrs:{label:"mostViewed"}},[e._v(e._s(e.$t("search.sort.mostViewed")))]),s("Radio",{attrs:{label:"mostComments"}},[e._v(e._s(e.$t("search.sort.mostComments")))])],1)],1),s("FormItem",[s("Select",{staticClass:"search-input-show",attrs:{transfer:!0},model:{value:e.searchGameValue,callback:function(t){e.searchGameValue=t},expression:"searchGameValue"}},[s("Icon",{staticStyle:{"margin-left":"10px","margin-right":"5px",opacity:".6"},attrs:{slot:"prefix",type:"ios-funnel"},slot:"prefix"}),e._l(e.searchGameList,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(e.$t("basic.games."+t.value))+" ")])}))],2)],1),s("FormItem",{attrs:{label:""}},[s("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",translate:"",placement:"bottom-end",placeholder:"Time","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1),s("Row",{attrs:{gutter:10}},[s("Col",[s("Button",{attrs:{type:"primary",disabled:e.modalSpinShow},on:{click:e.handleSearch}},[e._v(" "+e._s(e.$t("basic.button.commit"))+" ")])],1)],1)],1)],1)]:"user"==e.searchTypeValue?[s("Poptip",{ref:"filesPoptip",attrs:{placement:"bottom-end",trigger:"click",width:"400","popper-class":"files-poptip",padding:"20px 30px"}},[s("Button",{attrs:{size:"small"}},[s("Icon",{attrs:{type:"md-funnel",size:"15"}})],1),s("Form",{ref:"filesFunnel",attrs:{slot:"content","label-position":"top"},slot:"content"},[s("FormItem",[s("RadioGroup",{attrs:{type:"button"},model:{value:e.searchUserSort,callback:function(t){e.searchUserSort=t},expression:"searchUserSort"}},[s("Radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("search.sort.default")))]),s("Radio",{attrs:{label:"joinedAt"}},[e._v(e._s(e.$t("account.joinedAt")))]),s("Radio",{attrs:{label:"lastOnlineTime"}},[e._v(e._s(e.$t("account.lastOnlineTime")))])],1)],1),s("FormItem",[s("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"Time","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1),s("Row",{attrs:{gutter:10}},[s("Col",[s("Button",{attrs:{type:"primary",disabled:e.modalSpinShow},on:{click:e.handleSearch}},[e._v(" "+e._s(e.$t("basic.button.commit"))+" ")])],1)],1)],1)],1)]:e._e()],2),s("Col",[s("Button",{attrs:{size:"small"},on:{click:e.handleSearch}},[s("Icon",{class:e.modalSpinShow?"spin-icon-load":"",attrs:{type:"md-refresh"}})],1)],1)],1)],1)],1),"player"==e.searchTypeValue?[e.result.player.length>0?s("Card",{staticClass:"search-list",attrs:{"dis-hover":""}},[e._l(e.result.player,(function(t,a){return s("div",{directives:[{name:"voice-button",rawName:"v-voice-button"}],key:a,staticClass:"item-card"},[s("Badge",{staticStyle:{width:"100%"},attrs:{text:t.viewNum>100&&t.commentsNum>10?"hot":""}},[s("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[s("Col",{attrs:{flex:"1"}},[s("Card",{attrs:{"dis-hover":"",padding:10,to:{name:"player",params:{ouid:""+t.originPersonaId},query:{byPath:e.$route.name}}}},[s("Row",{attrs:{gutter:10,type:"flex"}},[s("Col",{attrs:{xs:{span:5,push:0,pull:0},sm:{span:3,push:0,pull:0},lg:{span:2,push:0,pull:0}}},[t.avatarLink?s("Avatar",{staticClass:"default-avatar",attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):[s("Avatar",{staticClass:"default-avatar",attrs:{icon:"ios-person",size:"55"}})]],2),s("Col",{attrs:{xs:{span:18,push:0,pull:0},sm:{span:18,push:0,pull:0},lg:{span:18,push:0,pull:0}}},[s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[s("h2",[e._v(e._s(t.historyName))])])],1),s("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),s("TimeView",{attrs:{time:t.createTime,trigger:"hover"}},[t.createTime?s("Time",{attrs:{time:t.createTime,type:"datetime"}}):e._e()],1),s("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),s("TimeView",{attrs:{time:t.updateTime,trigger:"hover"}},[t.updateTime?s("Time",{attrs:{time:t.updateTime,type:"datetime"}}):e._e()],1)],1)]),s("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[s("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[s("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[s("span",[e._v(e._s(t.viewNum||0))]),s("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),s("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[s("span",[e._v(e._s(t.commentsNum||0))]),s("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1),s("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:1,push:0,pull:0},align:"center"}},[s("Progress",{attrs:{vertical:"",percent:1==t.status?99:100,"hide-info":"",status:"wrong"}})],1)],1)],1)],1),s("Col",{staticClass:"mobile-hide"},[s("Card",{attrs:{"dis-hover":"",padding:25,to:{name:"player",params:{ouid:""+t.originPersonaId},query:{byPath:e.$route.name}},target:"_blank"}},[s("Button",{attrs:{size:"small",type:"text",icon:"md-open"}})],1)],1)],1)],1)],1)})),s("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.player,current:e.skip.player,total:e.total.player},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):s("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[s("Empty")],1)]:e._e(),"user"==e.searchTypeValue?[e.result.user.length>0?s("Card",{staticClass:"search-list",attrs:{"dis-hover":""}},[e._l(e.result.user,(function(t,a){return s("div",{directives:[{name:"voice-button",rawName:"v-voice-button"}],key:a,staticClass:"item-card"},[s("Card",{attrs:{"dis-hover":"",padding:10,to:{path:"/space/"+t.dbId}}},[s("Row",{attrs:{gutter:10,type:"flex"}},[s("Col",{attrs:{xs:{span:4,push:0,pull:0},sm:{span:2,push:0,pull:0},lg:{span:2,push:0,pull:0}}},[t.userAvatar?s("Avatar",{attrs:{src:t.userAvatar,alt:"avatar",size:"55"}}):s("Avatar",{attrs:{alt:"avatar",size:"55"}},[e._v(" "+e._s(t.username)+" ")])],1),s("Col",{attrs:{xs:{span:15,push:0,pull:0},sm:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[s("h2",[e._v(" "+e._s(t.username)+" ")])])],1),s("div",[e._v(" "+e._s(e.$t("account.joinedAt"))+" "),s("TimeView",{attrs:{time:t.joinTime,trigger:"hover"}},[t.joinTime?s("Time",{attrs:{time:t.joinTime}}):e._e()],1),s("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("account.lastOnlineTime"))+" "),s("TimeView",{attrs:{time:t.signoutTime,trigger:"hover"}},[t.signoutTime?s("Time",{attrs:{time:t.signoutTime}}):e._e()],1)],1)]),s("Col",{attrs:{xs:{span:5,push:0,pull:0},sm:{span:5,push:0,pull:0},lg:{span:5,push:0,pull:0},align:"right"}},[s("PrivilegesTag",{attrs:{data:t.privilege}})],1)],1)],1)],1)})),s("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.user,current:e.skip.user,total:e.total.user},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):s("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[s("Empty")],1)]:e._e(),"comment"==e.searchTypeValue?[s("Row",{attrs:{gutter:10}},[s("Col",{attrs:{flex:"1"}}),s("Col",[s("DatePicker",{attrs:{type:"daterange",placement:"bottom-end","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1)],1),e.result.comment.length>0?s("Card",{staticClass:"list",attrs:{"dis-hover":""}},[e._l(e.result.comment,(function(t,a){return s("div",{key:a,staticClass:"timeline-content"},[s("div",{staticClass:"timeline-time"},[s("Row",[s("Col",{attrs:{flex:"1"}},[s("router-link",{attrs:{to:{name:"space",params:{uId:""+t.byUserId}}}},[s("BusinessCard",{attrs:{id:t.byUserId}},[s("u",[s("b",[e._v(e._s(t.username||t.byUserId))])])])],1),e._v(" "+e._s(e.$t("basic.button.reply"))+" ")],1),s("Col",{attrs:{align:"right"}},[t.createTime?s("Time",{attrs:{time:t.createTime,type:"datetime"}}):e._e()],1)],1)],1),s("Card",{directives:[{name:"voice-button",rawName:"v-voice-button"}],staticClass:"item-card",attrs:{"dis-hover":"",padding:0}},[s("HtmlWidget",{attrs:{html:t.content}})],1),s("br")],1)})),s("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.comment,current:e.skip.comment,total:e.total.comment},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):s("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[s("Empty")],1)]:e._e()]:e._e()],2)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"styles_herosection user-select-none"},[a("div",{staticClass:"styles_bg"}),a("img",{staticClass:"styles_bg_img",attrs:{src:s("a240")}})])}],r=(s("5b81"),s("e4b4")),l=s("ad43"),o=s("54c4"),n=s("d78a"),c=s("617b"),h=s("aa6e"),p=s("02bc"),u=s("9648"),m=s("6acc"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.fade?s("transition",{attrs:{name:"fade"}},[s("div",{class:e.classes,style:e.wraperStyles,on:{click:function(t){return t.stopPropagation(),e.check.apply(null,arguments)}}},[e.showDot?s("span",{class:e.dotClasses,style:e.bgColorStyle}):e._e(),s("span",{class:e.textClasses,style:e.textColorStyle},[e._t("default")],2),e.closable?s("Icon",{class:e.iconClass,attrs:{color:e.lineColor,type:"ios-close"},nativeOn:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}}):e._e()],1)]):s("div",{class:e.classes,style:e.wraperStyles,on:{click:function(t){return t.stopPropagation(),e.check.apply(null,arguments)}}},[e.showDot?s("span",{class:e.dotClasses,style:e.bgColorStyle}):e._e(),s("span",{class:e.textClasses,style:e.textColorStyle},[e._t("default")],2),e.closable?s("Icon",{class:e.iconClass,attrs:{color:e.lineColor,type:"ios-close"},nativeOn:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}}):e._e()],1)},g=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("i",{class:e.classes,style:e.styles,on:{click:e.handleClick}})},b=[];const v="ivu-icon";var f={name:"Icon",props:{type:{type:String,default:""},size:[Number,String],color:String,custom:{type:String,default:""}},computed:{classes(){return[""+v,{[`${v}-${this.type}`]:""!==this.type,[""+this.custom]:""!==this.custom}]},styles(){let e={};return this.size&&(e["font-size"]=this.size+"px"),this.color&&(e.color=this.color),e}},methods:{handleClick(e){this.$emit("click",e)}}},C=f,_=s("2877"),T=Object(_["a"])(C,y,b,!1,null,null,null),k=T.exports,w=k,S=s("3a27");const x="ivu-tag",V=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],$=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"];var z={name:"Tag",components:{Icon:w},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator(e){return Object(S["a"])(e,["border","dot"])}},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator(e){return Object(S["a"])(e,["default","medium","large"])},default:"default"}},data(){return{isChecked:this.checked}},computed:{classes(){return[""+x,`${x}-size-${this.size}`,{[`${x}-${this.color}`]:!!this.color&&Object(S["a"])(this.color,V),[`${x}-${this.type}`]:!!this.type,[x+"-closable"]:this.closable,[x+"-checked"]:this.isChecked}]},wraperStyles(){return Object(S["a"])(this.color,V)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses(){return[x+"-text","border"===this.type&&Object(S["a"])(this.color,V)?`${x}-color-${this.color}`:"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&$.indexOf(this.color)<0?x+"-color-white":""]},dotClasses(){return x+"-dot-inner"},iconClass(){return"dot"===this.type?"":"border"===this.type?Object(S["a"])(this.color,V)?`${x}-color-${this.color}`:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},showDot(){return!!this.type&&"dot"===this.type},lineColor(){return"dot"===this.type?"":"border"===this.type?void 0!==this.color?Object(S["a"])(this.color,V)?"":this.color:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},borderColor(){return void 0!==this.color?"default"===this.color?"":this.color:""},dotColor(){return void 0!==this.color?Object(S["a"])(this.color,V)?"":this.color:""},textColorStyle(){return Object(S["a"])(this.color,V)?{}:"dot"!==this.type&&"border"!==this.type?this.isChecked?{color:this.lineColor}:{}:{color:this.lineColor}},bgColorStyle(){return Object(S["a"])(this.color,V)?{}:{background:this.dotColor}},defaultTypeColor(){return"dot"!==this.type&&"border"!==this.type&&void 0!==this.color?Object(S["a"])(this.color,V)?"":this.color:""}},methods:{close(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check(){if(!this.checkable)return;const e=!this.isChecked;this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name)}},watch:{checked(e){this.isChecked=e}}},j=z,P=Object(_["a"])(j,d,g,!1,null,null,null),O=(P.exports,new l["a"]({name:"search",data(){return{modalSpinShow:!1,searchPosting:!1,searchVal:"",searchHistory:{list:[]},searchTypes:["player","user","comment"],searchTypeValue:"player",searchGameList:[{value:"all"}].concat(m.child),searchGameValue:"all",searchGameSort:"default",searchUserSort:"default",intervalTime:void 0,timeOptions:{disabledDate(e){return e&&e.valueOf()>Date.now()},shortcuts:[{text:this.$i18n.t("sitestats.timeRange.daily"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.weekly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.monthly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.yearly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-31104e6),[t,e]}}]},result:{player:[],user:[],comment:[]},skip:{player:1,user:1,comment:1},limit:{player:40,user:20,comment:10},total:{player:0,user:0,comment:0}}},components:{OcrWidget:o["a"],PrivilegesTag:n["a"],HtmlWidget:c["a"],BusinessCard:h["a"],Empty:p["a"],TimeView:u["a"]},created(){const{keyword:e,type:t,game:s,skip:a,limit:i}=this.$route.query;this.searchVal=e||"",this.searchTypeValue=t||"player",this.searchGameValue=s||"all",t&&a>=1&&a<=Number.MAX_VALUE&&(this.skip[this.searchTypeValue]=Number(a)||this.skip[this.searchTypeValue]),t&&i>=0&&i<=40&&(this.limit[this.searchTypeValue]=Number(i)||this.limit[this.searchTypeValue]),this.getSearchHistory(),this.searchVal&&this.handleSearch()},methods:{getSearchHistory(){let e=r["n"].local.get("search.history");-1==e.code&&this.setSearchHistoryValue([]),this.searchHistory.list=e.data.value||[]},setSearchHistoryValue(e){const t=10;let s=e;for(let a=0;a<s.length;a++)s.length>t&&s.pop();r["n"].local.set("search.history",s)},handleSearchHistoryClose(e){this.searchHistory.list.splice(e,1),this.setSearchHistoryValue(this.searchHistory.list)},handleSearchHistoryClickTag(e){this.modalSpinShow||(this.searchVal=this.searchHistory.list[e].keyword,this.searchTypeValue=this.searchHistory.list[e].type,this.handleSearch())},handlePageChange(e){this.skip[this.searchTypeValue]=e,this.handleSearch()},handlePageSizeChange(e){this.limit[this.searchTypeValue]=e,this.handleSearch()},handleCDatepicker(e){this.intervalTime=e,this.skip[this.searchTypeValue]=1,this.handleSearch()},onOcrOutput(e){this.searchVal=e.value,this.handleSearch()},deleteSearchHistoryAll(){r["n"].local.rem("search.history"),this.searchHistory.list=[]},onTabClick(e){console.log(e),this.searchTypeValue=e,this.handleSearch()},handleSearch(){const e=this,t=this.searchVal.replaceAll(" ","").trim();let s={keyword:t,type:this.searchTypeValue},a="";switch(s=Object.assign({game:this.searchGameValue,gameSort:this.searchGameSort},s),this.$router.push({name:this.$router.name,query:s}),this.searchVal=t,this.searchPosting=!1,this.searchTypeValue){case"player":this.skip[this.searchTypeValue]>=1&&(s.skip=Number((this.skip[this.searchTypeValue]-1)*this.limit[this.searchTypeValue])),this.limit[this.searchTypeValue]>=0&&this.limit[this.searchTypeValue]<=40&&(s.limit=Number(this.limit[this.searchTypeValue])),this.intervalTime?(s.createTimeFrom=new Date(this.intervalTime[0]).getTime(),s.createTimeTo=new Date(this.intervalTime[1]).getTime()):(delete s.createTimeFrom,delete s.createTimeTo);break;case"user":case"comment":this.skip[this.searchTypeValue]>=1&&(s.skip=Number((this.skip[this.searchTypeValue]-1)*this.limit[this.searchTypeValue])),this.limit[this.searchTypeValue]>=0&&this.limit[this.searchTypeValue]<=40&&(s.limit=Number(this.limit[this.searchTypeValue]));break}""==t||t.length<=3||this.modalSpinShow?this.modalSpinShow=!1:(this.modalSpinShow=!0,s.param=s.keyword,r["e"].get(r["c"]["search"],{params:s}).then(s=>{const i=s.data;let r=!1;for(let a=0;a<e.searchHistory.list.length;a++){let s=e.searchHistory.list[a];s.keyword==t&&s.type==this.searchTypeValue&&(r=!0)}if(r||e.searchHistory.list.push({keyword:t,type:this.searchTypeValue,count:i.data.length||0}),e.setSearchHistoryValue(this.searchHistory.list),1===i.success)return this.result[this.searchTypeValue]=i.data,this.total[this.searchTypeValue]=i.total,void(i.data.length<=0&&this.$Message.info(this.$i18n.t("search.notExist")));"object"==typeof i.message?i.message.forEach(e=>a+=`${e.param}: ${e.msg}`):this.$t(`basic.tip['${i.code}']`,{message:i.message||""}),this.$Message.error({content:a,duration:10})}).catch(e=>{this.$Message.error({content:e,duration:10})}).finally(()=>{e.modalSpinShow=!1,e.searchPosting=!0}))}}})),I=O,R=(s("9ed0"),Object(_["a"])(I,a,i,!1,null,null,null));t["default"]=R.exports},"6acc":function(e){e.exports=JSON.parse('{"defaultIndex":0,"default":"bf1","child":[{"value":"bf1","full_name":"bf1","bk_file":"images/games/bf1","bk_src":"//media.contentapi.ea.com/content/dam/gin/images/2017/01/battlefield-1-keyart-5452x3859.jpg.adapt.crop1x1.767p.jpg","logo_src":"//media.contentapi.ea.com/content/dam/gin/common/logos/layer-1.png","app_assets_bk_file":"assets/images/games/bf1/bf.jpg","app_assets_logo_file":"assets/images/games/bf1/logo.png"},{"value":"bfv","full_name":"bfv","bk_file":"images/games/bfv","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2018/05/bfv-campaignart-standard-large.jpg.adapt.crop1x1.767p.jpg","bk_width":150,"logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/bfv-logo-white.png","app_assets_bk_file":"assets/images/games/bfv/bf.jpg","app_assets_logo_file":"assets/images/games/bfv/logo.png"},{"value":"bf6","full_name":"bf2042","bk_file":"images/games/bf6","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2021/06/battlefield-2042-key-art.jpg.adapt.crop1x1.767p.jpg","logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/battlefield-2042-mono-logo-svg.svg","app_assets_bk_file":"assets/images/games/bf6/bf.jpg","app_assets_logo_file":"assets/images/games/bf6/logo.png"}]}')},"9ed0":function(e,t,s){"use strict";s("c6f7")},a240:function(e,t,s){e.exports=s.p+"assets/img/hero-grid-overlay.890f5154.png"},c6f7:function(e,t,s){}}]);
//# sourceMappingURL=chunk-5042bd8e.2.9.17.js.map