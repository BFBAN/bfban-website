{"version":3,"sources":["webpack:///./node_modules/v-viewer/dist/v-viewer.js","webpack:///./src/components/Captcha.vue?1f12","webpack:///./node_modules/viewerjs/dist/viewer.js","webpack:///./src/components/Captcha.vue","webpack:///src/components/Captcha.vue","webpack:///./src/components/Captcha.vue?68b1","webpack:///./src/components/Captcha.vue?a78d"],"names":["root","factory","module","exports","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","extend","extended","deep","length","arguments","merge","obj","prop","toString","__WEBPACK_IMPORTED_MODULE_0_viewerjs__","__WEBPACK_IMPORTED_MODULE_0_viewerjs___default","__WEBPACK_IMPORTED_MODULE_1__utils__","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_2_vue___default","api","_ref","undefined","_ref$images","images","_ref$options","options","inline","ViewerToken","a","render","h","style","display","class","map","attr","attrs","src","token","$mount","document","body","appendChild","$el","$viewer","$destroy","destroy","bind","removeChild","show","addEventListener","viewer","global","__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__","directive","_ref$name","_ref$debug","debug","createViewer","el","rebuild","observer","nextTick","imageDiff","destroyViewer","log","update","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","type","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","_ref2","vnode","expression","simplePathRE","test","__viewerUnwatch","context","$watch","newVal","oldVal","disconnect","destroyWatcher","_console","console","apply","binding","modifiers","static","unbind","Component","__file","esModule","keys","some","key","error","functional","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1_viewerjs__","__WEBPACK_IMPORTED_MODULE_1_viewerjs___default","__WEBPACK_IMPORTED_MODULE_2__component_vue__","__WEBPACK_IMPORTED_MODULE_2__component_vue___default","__WEBPACK_IMPORTED_MODULE_3__directive__","__WEBPACK_IMPORTED_MODULE_4__api__","install","Vue","defaultOptions","setDefaults","component","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","throttle","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","cancel","wrapper","_len","arguments_","Array","_key","self","elapsed","Date","now","exec","clear","setTimeout","debounce","atBegin","props","Boolean","default","trigger","data","computed","methods","onChange","rebuildViewer","updateViewer","$emit","watch","_this","$nextTick","handler","_this2","_this3","mounted","destroyed","g","Function","eval","e","window","rawScriptExports","compiledTemplate","scopeId","cssModules","scriptExports","staticRenderFns","_scopeId","create","_vm","_h","$createElement","_c","_self","_t","_withStripped","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","target","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","writable","_createClass","protoProps","staticProps","DEFAULTS","backdrop","button","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialViewIndex","interval","keyboard","focus","loading","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","transition","zIndex","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","url","ready","shown","hide","hidden","view","viewed","move","moved","rotate","rotated","scale","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","concat","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","Number","isNumber","isUndefined","isObject","isPlainObject","_constructor","isFunction","isArray","assign","args","arg","REGEXP_SUFFIX","setStyle","element","styles","escapeHTMLEntities","replace","hasClass","classList","contains","indexOf","addClass","elem","add","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","onceSupported","supported","once","listener","set","removeEventListener","removeListener","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","getTransforms","scaleX","scaleY","translateX","translateY","values","transform","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","navigator","userAgent","getImageNaturalSizes","image","newImage","createElement","naturalWidth","naturalHeight","onload","width","height","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","Math","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","b","getPointer","endOnly","pageX","pageY","end","timeStamp","getPointersCenter","count","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","innerWidth","clientWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","getComputedStyle","containerData","innerHeight","viewerData","parent","max","offsetWidth","offsetHeight","parentData","fulled","list","items","index","alt","getImageURL","item","img","onLoad","onError","firstElementChild","loadImage","renderList","next","nextElementSibling","gutter","parseInt","marginLeft","outerWidth","resetList","initImage","done","sizingImage","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","min","x","y","oldRatio","initialImageData","renderImage","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","parentNode","events","canvas","onClick","click","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","toggle","reset","prev","preventDefault","doubleClickImageTimeout","originalEvent","load","timeout","originalImage","parentWidth","parentHeight","filled","keyCode","which","charCode","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","wheelDelta","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","querySelector","activeItem","onViewed","complete","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","hasTooltip","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","playing","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","delaying","initializing","onStart","others","onFocusin","parseFloat","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","offsetX","offsetY","absoluteOffsetX","AnotherViewer","Viewer","getUniqueID","nodeType","Error","init","progress","template","custom","zoomButtons","slice","rotateButtons","scaleButtons","size","rotates","position","insertBefore","nextSibling","staticClass","captchaTime","on","refreshCaptcha","content","domProps","_s","disable","staticStyle","_v","$t","postload","_e","directives","rawName","seconds","hash","capthcaHash","fun","lock","created","storage","clearInterval","captcha","http","params","t","that","capthcaTimeout","isCaptcha"],"mappings":"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","file":"assets/js/chunk-8d2d1bc0.2.7.2.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"viewerjs\", \"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueViewer\"] = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse\n\t\troot[\"VueViewer\"] = factory(root[\"Viewer\"], root[\"Vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = extend;\n\nfunction extend() {\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n    deep = arguments[0];\n    i++;\n  }\n\n  function merge(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n          extended[prop] = extend(true, extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  }\n\n  for (; i < length; i++) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar api = function api() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$images = _ref.images,\n      images = _ref$images === undefined ? [] : _ref$images,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n\n  options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* extend */])(options, {\n    inline: false });\n\n  var ViewerToken = __WEBPACK_IMPORTED_MODULE_2_vue___default.a.extend({\n    render: function render(h) {\n      return h('div', {\n        style: {\n          display: 'none'\n        },\n        class: ['__viewer-token']\n      }, images.map(function (attr) {\n        return h('img', {\n          attrs: typeof attr === 'string' ? { src: attr } : attr\n        });\n      }));\n    }\n  });\n  var token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n\n  var $viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(token.$el, options);\n  var $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function () {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n\n  token.$el.addEventListener('hidden', function () {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n\n  return $viewer;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar directive = function directive() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? 'viewer' : _ref$name,\n      _ref$debug = _ref.debug,\n      debug = _ref$debug === undefined ? false : _ref$debug;\n\n  function createViewer(el, options) {\n    var rebuild = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var observer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    __WEBPACK_IMPORTED_MODULE_2_vue___default.a.nextTick(function () {\n      if (observer && !imageDiff(el)) return;\n      if (rebuild || !el['$' + name]) {\n        destroyViewer(el);\n        el['$' + name] = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(el, options);\n        log('Viewer created');\n      } else {\n        el['$' + name].update();\n        log('Viewer updated');\n      }\n    });\n  }\n\n  function imageDiff(el) {\n    var imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    var viewerImageText = imageContent ? imageContent.join('') : undefined;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log('Element change detected, but image(s) has not changed');\n      return false;\n    } else {\n      log('Image change detected');\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    var MutationObserver = global.MutationObserver || global.WebKitMutationObserver || global.MozMutationObserver;\n    if (!MutationObserver) {\n      log('Observer not supported');\n      return;\n    }\n    var observer = new MutationObserver(function (mutations) {\n      mutations.forEach(function (mutation) {\n        log('Viewer mutation:' + mutation.type);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    var config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log('Observer created');\n  }\n\n  function createWatcher(el, _ref2, vnode, debouncedCreateViewer) {\n    var expression = _ref2.expression;\n\n    var simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log('Only simple dot-delimited paths can create watcher');\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, function (newVal, oldVal) {\n      log('Change detected by watcher: ', expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log('Watcher created, expression: ', expression);\n  }\n\n  function destroyViewer(el) {\n    if (!el['$' + name]) {\n      return;\n    }\n    el['$' + name].destroy();\n    delete el['$' + name];\n    log('Viewer destroyed');\n  }\n\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log('Observer destroyed');\n  }\n\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log('Watcher destroyed');\n  }\n\n  function log() {\n    var _console;\n\n    debug && (_console = console).log.apply(_console, arguments);\n  }\n\n  var directive = {\n    bind: function bind(el, binding, vnode) {\n      log('Viewer bind');\n      var debouncedCreateViewer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__[\"debounce\"])(50, createViewer);\n      debouncedCreateViewer(el, binding.value);\n\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind: function unbind(el, binding) {\n      log('Viewer unbind');\n\n      destroyObserver(el);\n\n      destroyWatcher(el);\n\n      destroyViewer(el);\n    }\n  };\n\n  return directive;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (directive);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(8),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Volumes/public/Workspace/web/v-viewer/src/component.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] component.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-3091014c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-3091014c\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__component_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directive__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api__ = __webpack_require__(3);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"component\", function() { return __WEBPACK_IMPORTED_MODULE_2__component_vue___default.a; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"directive\", function() { return __WEBPACK_IMPORTED_MODULE_3__directive__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"api\", function() { return __WEBPACK_IMPORTED_MODULE_4__api__[\"a\"]; });\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"Viewer\", function() { return __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a; });\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  install: function install(Vue) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$name = _ref.name,\n        name = _ref$name === undefined ? 'viewer' : _ref$name,\n        _ref$debug = _ref.debug,\n        debug = _ref$debug === undefined ? false : _ref$debug,\n        defaultOptions = _ref.defaultOptions;\n\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n\n    Vue.component(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* extend */])(__WEBPACK_IMPORTED_MODULE_2__component_vue___default.a, { name: name }));\n    Vue.directive(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__directive__[\"a\" /* default */])({ name: name, debug: debug }));\n    Vue.prototype['$' + name + 'Api'] = __WEBPACK_IMPORTED_MODULE_4__api__[\"a\" /* default */];\n  },\n  setDefaults: function setDefaults(defaultOptions) {\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n  }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (global = global || self, factory(global.throttleDebounce = {}));\n})(this, function (exports) {\n\t'use strict';\n\n\tfunction throttle(delay, noTrailing, callback, debounceMode) {\n\t\tvar timeoutID;\n\t\tvar cancelled = false;\n\n\t\tvar lastExec = 0;\n\n\t\tfunction clearExistingTimeout() {\n\t\t\tif (timeoutID) {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\tfunction cancel() {\n\t\t\tclearExistingTimeout();\n\t\t\tcancelled = true;\n\t\t}\n\n\t\tif (typeof noTrailing !== 'boolean') {\n\t\t\tdebounceMode = callback;\n\t\t\tcallback = noTrailing;\n\t\t\tnoTrailing = undefined;\n\t\t}\n\n\n\t\tfunction wrapper() {\n\t\t\tfor (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targuments_[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tvar elapsed = Date.now() - lastExec;\n\n\t\t\tif (cancelled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction exec() {\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tcallback.apply(self, arguments_);\n\t\t\t}\n\n\n\t\t\tfunction clear() {\n\t\t\t\ttimeoutID = undefined;\n\t\t\t}\n\n\t\t\tif (debounceMode && !timeoutID) {\n\t\t\t\texec();\n\t\t\t}\n\n\t\t\tclearExistingTimeout();\n\n\t\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\t\texec();\n\t\t\t} else if (noTrailing !== true) {\n\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t\t}\n\t\t}\n\n\t\twrapper.cancel = cancel;\n\n\t\treturn wrapper;\n\t}\n\n\tfunction debounce(delay, atBegin, callback) {\n\t\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n\t}\n\n\texports.debounce = debounce;\n\texports.throttle = throttle;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n\n  data: function data() {\n    return {};\n  },\n\n\n  computed: {},\n\n  methods: {\n    onChange: function onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer: function rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer: function updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit('inited', this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer: function destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer: function createViewer() {\n      this.$viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(this.$el, this.options);\n      this.$emit('inited', this.$viewer);\n    }\n  },\n\n  watch: {\n    images: function images() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.onChange();\n      });\n    },\n\n    trigger: {\n      handler: function handler() {\n        var _this2 = this;\n\n        this.$nextTick(function () {\n          _this2.onChange();\n        });\n      },\n\n      deep: true\n    },\n    options: {\n      handler: function handler() {\n        var _this3 = this;\n\n        this.$nextTick(function () {\n          _this3.rebuildViewer();\n        });\n      },\n\n      deep: true\n    }\n  },\n\n  mounted: function mounted() {\n    this.createViewer();\n  },\n  destroyed: function destroyed() {\n    this.destroyViewer();\n  }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\ng = function () {\n\treturn this;\n}();\n\ntry {\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\nmodule.exports = g;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._t(\"default\", null, {\n    \"images\": _vm.images,\n    \"options\": _vm.options\n  })], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-3091014c\", module.exports)\n  }\n}\n\n/***/ })\n/******/ ]);\n});","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captcha.vue?vue&type=style&index=0&id=40483e2d&prod&lang=less&\"","/*!\n * Viewer.js v1.10.5\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-04-05T08:21:02.491Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n\n    /**\n     * Define the initial index of image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer'; // Actions\n\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom'; // Classes\n\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\"); // Native events\n\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel'; // Custom events\n\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop'; // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\"); // RegExps\n\n  var REGEXP_SPACES = /\\s\\s*/; // Misc\n\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n\n  function isString(value) {\n    return typeof value === 'string';\n  }\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n        var length = data.length;\n        var i;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data, options) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img'); // Modern browsers (except Safari)\n\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n\n    var body = document.body || document.documentElement;\n\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src; // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n\n    return newImage;\n  }\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n\n      default:\n        return '';\n    }\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n          parent = this.parent;\n      var viewerData;\n\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n\n      var element = this.element,\n          options = this.options,\n          list = this.list;\n      var items = []; // initList may be called in this.update, so should keep idempotent\n\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n\n        var url = _this.getImageURL(image);\n\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          img.src = src || url;\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n\n      if (!item) {\n        return;\n      }\n\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter; // Place the active item in the center of the screen\n\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n\n      var options = this.options,\n          image = this.image,\n          viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n\n        width = Math.min(width * 0.9, naturalWidth);\n        height = Math.min(height * 0.9, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n\n      var image = this.image,\n          imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      // this.image only defined after viewed\n      if (this.viewing || this.viewed) {\n        var image = this.image;\n\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n          viewer = this.viewer,\n          canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n          viewer = this.viewer,\n          canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n          imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      } // Cancel the emulated click when the native click event was triggered.\n\n\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n\n          break;\n\n        case 'hide':\n          this.hide();\n          break;\n\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n\n        case 'one-to-one':\n          this.toggle();\n          break;\n\n        case 'reset':\n          this.reset();\n          break;\n\n        case 'prev':\n          this.prev(options.loop);\n          break;\n\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n\n        case 'next':\n          this.next(options.loop);\n          break;\n\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n\n        default:\n          if (this.played) {\n            this.stop();\n          }\n\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        } // XXX: No pageX/Y properties in custom event, fallback to the original event.\n\n\n        this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n      }\n    },\n    load: function load() {\n      var _this = this;\n\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image,\n          index = this.index,\n          viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n\n      if (!options.keyboard) {\n        return;\n      }\n\n      var keyCode = event.keyCode || event.which || event.charCode;\n\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n\n          break;\n      }\n\n      if (!this.fulled) {\n        return;\n      }\n\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n\n          break;\n        // Space\n\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n\n          break;\n        // ArrowLeft\n\n        case 37:\n          this.prev(options.loop);\n          break;\n        // ArrowUp\n\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault(); // Zoom in\n\n          this.zoom(options.zoomRatio, true);\n          break;\n        // ArrowRight\n\n        case 39:\n          this.next(options.loop);\n          break;\n        // ArrowDown\n\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault(); // Zoom out\n\n          this.zoom(-options.zoomRatio, true);\n          break;\n        // Ctrl + 0\n\n        case 48: // Fall through\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n          pointers = this.pointers;\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (!this.viewed || this.showing || this.viewing || this.hiding // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      } // Prevent default behaviours as page zooming in touch devices.\n\n\n      event.preventDefault();\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      var action = options.movable ? ACTION_MOVE : false;\n\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n          action = this.action;\n\n      if (!this.viewed || !action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n\n      var options = this.options,\n          action = this.action,\n          pointers = this.pointers;\n      var pointer;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n\n      this.action = false; // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false; // This timeout will be cleared later when a native dblclick event is triggering\n\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          } else {\n            this.imageClicked = true; // The default timing of a double click in Windows is 500 ms\n\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n\n      if (!this.viewed) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, true, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n          options = this.options;\n\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n\n      if (!this.ready) {\n        this.build();\n\n        if (this.ready) {\n          this.show(immediate);\n        }\n\n        return this;\n      }\n\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION); // Force reflow to enable CSS3 transition\n\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n\n      return this;\n    },\n\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n          options = this.options;\n\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n\n      this.hiding = true;\n\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n\n      var viewer = this.viewer,\n          image = this.image;\n\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n\n        _this.hidden();\n      };\n\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n\n            _this.hidden();\n          }\n        };\n\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        }; // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n\n      return this;\n    },\n\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n\n      var element = this.element,\n          options = this.options,\n          title = this.title,\n          canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n\n      var activeItem = this.items[this.index];\n\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n\n      if (options.focus) {\n        item.focus();\n      }\n\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n\n      canvas.innerHTML = '';\n      canvas.appendChild(image); // Center current item\n\n      this.renderList(); // Clear title\n\n      title.innerHTML = ''; // Generate title after viewed\n\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n\n          removeClass(image, CLASS_INVISIBLE);\n\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        } // Make the image visible if it fails to load within 1s\n\n\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n\n      return this;\n    },\n\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n\n      this.view(index);\n      return this;\n    },\n\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n\n      this.view(index);\n      return this;\n    },\n\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n          options = this.options,\n          imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, hasTooltip, _originalEvent);\n      return this;\n    },\n\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [hasTooltip=false] - Indicates if it has a tooltip or not.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n\n      var hasTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var _zoomable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var element = this.element,\n          options = this.options,\n          pointers = this.pointers,\n          imageData = this.imageData;\n      var x = imageData.x,\n          y = imageData.y,\n          width = imageData.width,\n          height = imageData.height,\n          naturalWidth = imageData.naturalWidth,\n          naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n\n        if (_originalEvent) {\n          switch (_originalEvent.type) {\n            case 'wheel':\n              if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n                ratio = 1;\n              }\n\n              break;\n\n            case 'pointermove':\n            case 'touchmove':\n            case 'mousemove':\n              if (ratio > 0.99 && ratio < 1.01) {\n                ratio = 1;\n              }\n\n              break;\n          }\n        }\n\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        this.zooming = true;\n\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n\n        if (hasTooltip) {\n          this.tooltip();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.isShown || this.played) {\n        return this;\n      }\n\n      var element = this.element,\n          options = this.options;\n\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n\n      if (isNumber(options.interval) && options.interval > 0) {\n        var play = function play() {\n          _this7.playing = setTimeout(function () {\n            removeClass(list[index], CLASS_IN);\n            index += 1;\n            index = index < total ? index : 0;\n            addClass(list[index], CLASS_IN);\n            play();\n          }, options.interval);\n        };\n\n        if (total > 1) {\n          play();\n        }\n      }\n\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n\n      if (!this.played) {\n        return this;\n      }\n\n      var element = this.element,\n          options = this.options;\n\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n\n      var player = this.player;\n      this.played = false;\n      clearTimeout(this.playing);\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n\n      var options = this.options,\n          viewer = this.viewer,\n          image = this.image,\n          list = this.list;\n\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n\n      if (options.focus) {\n        this.enforceFocus();\n      }\n\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n\n      var options = this.options,\n          viewer = this.viewer,\n          image = this.image,\n          list = this.list;\n\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n\n      var options = this.options,\n          tooltipBox = this.tooltipBox,\n          imageData = this.imageData;\n\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden'); // Force reflow to enable CSS3 transition\n\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, _originalEvent);\n      } else {\n        this.zoomTo(1, true, _originalEvent);\n      }\n\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n\n      var element = this.element,\n          options = this.options,\n          isImg = this.isImg; // Destroy viewer if the target image was deleted\n\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n\n      if (!images.length) {\n        return this;\n      }\n\n      this.images = images;\n      this.length = images.length;\n\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n\n          if (image && img) {\n            if (image.src !== img.src // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index]; // Reactivate the current viewing item after reset the list.\n\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n          options = this.options;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      this.destroyed = true;\n\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n\n        if (target === document || target === viewer || viewer.contains(target)) {\n          return;\n        }\n\n        while (target) {\n          // Avoid conflicts with other modals (#474, #540)\n          if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n            return;\n          }\n\n          target = target.parentElement;\n        }\n\n        viewer.focus();\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      body.style.paddingRight = this.initialBodyPaddingRight;\n    },\n    shown: function shown() {\n      var element = this.element,\n          options = this.options,\n          viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n          options = this.options,\n          viewer = this.viewer;\n\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.hiding = false;\n\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement; // Element.requestFullscreen()\n\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n          pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]]; // In the case of the `pointers` object is empty (#421)\n\n      if (!pointer) {\n        return;\n      }\n\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          this.move(offsetX, offsetY, event);\n          break;\n        // Zoom the current image\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, event);\n          break;\n\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n\n            break;\n          }\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n          viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Viewer);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var element = this.element,\n            options = this.options;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this; // The `focus` option requires the `keyboard` option set to `true`.\n\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody(); // Override `transition` option if it is not supported\n\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n\n        if (options.inline) {\n          var count = 0;\n\n          var progress = function progress() {\n            count += 1;\n\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              }; // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n\n                _this.build();\n              }, 0);\n            }\n          };\n\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                  removeListener(image, EVENT_ERROR, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              var onLoad;\n              var onError;\n              addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n                removeListener(image, EVENT_ERROR, onError);\n                progress();\n              }, {\n                once: true\n              });\n              addListener(image, EVENT_ERROR, onError = function onError() {\n                removeListener(image, EVENT_LOAD, onLoad);\n                progress();\n              }, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n\n          if (!container) {\n            container = this.body;\n          }\n\n          container.appendChild(viewer);\n        }\n\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n\n        this.ready = true;\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Viewer;\n  }();\n\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"captcha-view\",style:(`cursor: ${_vm.captchaTime.count <= 0 ? 'pointer' : 'not-allowed'};height: ${_vm.height}`),on:{\"click\":_vm.refreshCaptcha}},[(!_vm.content)?_c('span',{staticClass:\"tip\"},[(!_vm.disable)?[_vm._v(\" \"+_vm._s(_vm.$t('captcha.get'))+\" \"),(_vm.postload)?_c('span',[_c('Icon',{attrs:{\"type\":\"md-refresh spin-icon-load\",\"size\":\"20\"}})],1):_vm._e()]:_c('div',{staticStyle:{\"min-width\":\"80px\"}},[_c('Icon',{attrs:{\"type\":\"md-close\",\"size\":\"20\"}})],1)],2):_c('div',{class:`${_vm.captchaTime.count <= 0 ? 'disable': ''}`,domProps:{\"innerHTML\":_vm._s(_vm.content)}}),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.content && _vm.captchaTime.count <= 0),expression:\"content && captchaTime.count <= 0\"}],staticClass:\"captcha-view-icon\"},[(_vm.disable)?_c('Icon',{attrs:{\"type\":\"md-close\",\"size\":\"20\"}}):_c('Icon',{class:[\n          _vm.postload ? 'spin-icon-load' : ''\n      ],attrs:{\"type\":\"md-refresh\",\"size\":\"20\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.captchaTime.count > 0),expression:\"captchaTime.count > 0\"}],staticClass:\"count\"},[_vm._v(_vm._s(_vm.captchaTime.count)+\"s\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"captcha-view\"\n       @click=\"refreshCaptcha\"\n       :style=\"`cursor: ${captchaTime.count <= 0 ? 'pointer' : 'not-allowed'};height: ${height}`\">\n    <span v-if=\"!content\" class=\"tip\">\n      <template v-if=\"!disable\">\n        {{ $t('captcha.get') }}\n        <span v-if=\"postload\">\n          <Icon type=\"md-refresh spin-icon-load\" size=\"20\" />\n        </span>\n      </template>\n      <div v-else style=\"min-width: 80px\">\n        <Icon type=\"md-close\" size=\"20\" />\n      </div>\n    </span>\n    <div v-else v-html=\"content\"\n         :class=\"`${captchaTime.count <= 0 ? 'disable': ''}`\">\n    </div>\n    <transition name=\"fade\">\n      <div v-show=\"content && captchaTime.count <= 0\" class=\"captcha-view-icon\">\n        <Icon v-if=\"disable\" type=\"md-close\" size=\"20\" />\n        <Icon v-else type=\"md-refresh\" size=\"20\" :class=\"[\n            postload ? 'spin-icon-load' : ''\n        ]\" />\n      </div>\n    </transition>\n    <div class=\"count\" v-show=\"captchaTime.count > 0\">{{ captchaTime.count }}s</div>\n  </div>\n</template>\n\n<script>\nimport {http, api, storage} from '../assets/js/index'\nexport default {\n  name: \"Captcha\",\n  props: {\n    id: {\n      type: String,\n      default: '0',\n    },\n    disable: {\n      type: Boolean,\n      default: false,\n    },\n    seconds: {\n      type: Number,\n      default: 60\n    },\n    height: {\n      type: String,\n      default: '40px'\n    }\n  },\n  data() {\n    return {\n      postload: false,\n      hash: \"\",\n      content: \"\",\n      capthcaHash: {},\n      captchaTime: {\n        fun: null,\n        count: 0,\n        lock: false,\n      },\n    }\n  },\n  created() {\n    let captcha = storage.session().get('captcha');\n    if (captcha) {\n      this.capthcaHash = captcha.data;\n    } else {\n      storage.session().set(`captcha`, {\n        [`${this.id}_${this.$route.name}`]: this.seconds\n      });\n    }\n  },\n  destroyed() {\n    clearInterval(this.captchaTime.fun);\n    this.captchaTime.fun = null;\n  },\n  methods: {\n    /**\n     * 刷新验证码\n     */\n    async refreshCaptcha() {\n      let captcha = await storage.session().get('captcha');\n      let that = this;\n\n      if (captcha.code <= 0) {\n        captcha = {\n          data: {\n            value: this.seconds,\n          }\n        }\n      }\n\n      if (this.disable || this.postload) return;\n      if (this.captchaTime.count > 0) return;\n\n      this.postload = true;\n\n      http.get(api[\"captcha\"], {\n        params: {\n          t: Math.random()\n        }\n      }).then(res => {\n        if (res.data.success === 1) {\n          // 储存验证码hash\n          that.capthcaHash = Object.assign({\n            [that.$route.name] : 0\n          });\n\n          this.hash = res.data.data[\"hash\"];\n          this.content = res.data.data[\"content\"];\n\n          if (Object.keys(captcha.data.value).indexOf(this.$route.name) >= 0) {\n            // 会话持久对应时间加载\n            this.captchaTime.count = captcha.data.value[this.$route.name];\n          }\n\n          this.capthcaTimeout(this.captchaTime.count || this.seconds);\n          return;\n        }\n\n        this.$Message.error(res.data.code);\n      }).finally(res => {\n        setTimeout(function () {\n          that.postload = false;\n        }, 800)\n      });\n    },\n    /**\n     * 计时器\n     * @param num\n     */\n    capthcaTimeout(num) {\n      const that = this;\n      let fun;\n      if (that.captchaTime.lock) return;\n      that.captchaTime.count = num;\n      fun = setInterval(function () {\n        if (that.captchaTime.count <= 0) {\n          clearInterval(fun);\n          that.captchaTime.lock = false;\n          return;\n        }\n        that.captchaTime.count -= 1;\n\n        that.capthcaHash = Object.assign({\n          [`${that.id}_${that.$route.name}`] : that.captchaTime.count\n        });\n        storage.session().set(\"captcha\", that.capthcaHash);\n      }, 1000);\n\n      that.captchaTime.lock = true;\n    }\n  },\n  computed: {\n    // 是否有验证码\n    isCaptcha() {\n      return this.hash && this.content;\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import \"@/assets/css/icon.less\";\n\n.captcha-view {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n  justify-items: center;\n  align-items: center;\n  margin: 0 5px;\n\n  .captcha-view-icon {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 100%;\n  }\n\n  .disable {\n    filter: blur(2px);\n    transition: all .24s;\n    opacity: .4;\n  }\n\n  .count {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: all 1s;\n    font-size: 10px;\n    transform: scale(.7);\n    color: #000;\n    padding: 0 2px;\n    border: 1px solid #000;\n    background-color: #fff;\n    border-radius: 5px;\n    position: absolute;\n    top: 2px;\n    right: 2px;\n  }\n\n  .tip {\n    font-size: 12px;\n    margin: 0 5px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captcha.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captcha.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Captcha.vue?vue&type=template&id=40483e2d&\"\nimport script from \"./Captcha.vue?vue&type=script&lang=js&\"\nexport * from \"./Captcha.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Captcha.vue?vue&type=style&index=0&id=40483e2d&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}