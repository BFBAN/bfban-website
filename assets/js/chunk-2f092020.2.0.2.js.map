{"version":3,"sources":["webpack:///./src/views/Account.vue?82ee","webpack:///./src/views/Account.vue","webpack:///src/views/Account.vue","webpack:///./src/views/Account.vue?ee02","webpack:///./src/views/Account.vue?48be","webpack:///./src/assets/js/bfban.js"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","push","name","_v","_s","$t","currentUser","account","attr","allowDM","_e","id","userinfo","userId","on","openMessage","staticStyle","username","_l","privileges","i","index","key","privilege","p","pi","value","class","joinTime","Date","lastOnlineTime","introduction","domProps","origin","originName","report","data","length","columns","limit","page","total","getReports","setMessage","model","message","show","callback","$$v","$set","expression","minRows","maxRows","content","staticRenderFns","games","originId","createDatetime","title","sortable","fixed","props","color","h","time","ellipsis","tooltip","href","params","align","load","watch","$route","created","methods","uId","getUserInfo","http","then","res","toUserId","type","finally","skip","d","reportData","createTime","originPersonaId","status","updateTime","computed","token","component","BFBAN","Print","constructor","super","window","BFBANLOG"],"mappings":"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","file":"assets/js/chunk-2f092020.2.0.2.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=2fadbbc4&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"container\"},[_c('br'),_c('Row',[_c('Col',{attrs:{\"flex\":\"auto\",\"xs\":{push: 1},\"lg\":{push: 0}}},[_c('Breadcrumb',[_c('BreadcrumbItem',{attrs:{\"to\":{name: 'home'}}},[_vm._v(_vm._s(_vm.$t(\"header.index\")))]),_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.$t(\"account.title\")))])],1)],1),(_vm.currentUser)?_c('Col',{attrs:{\"align\":\"right\"}},[(!_vm.account.attr.allowDM)?_c('Alert',{attrs:{\"show-icon\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"account.message.hint.taOffChat\"))+\" \")]):_vm._e(),(_vm.account.id == _vm.currentUser.userinfo.userId)?_c('Alert',{attrs:{\"show-icon\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"account.message.hint.selfTalk\"))+\" \")]):_vm._e(),_c('Button',{attrs:{\"disabled\":!_vm.account.attr.allowDM || _vm.account.id == _vm.currentUser.userinfo.userId},on:{\"click\":_vm.openMessage}},[_c('Icon',{attrs:{\"type\":\"ios-chatbubbles\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"account.message.chat\"))+\" \")],1)],1):_vm._e()],1),_c('br'),_c('div',{attrs:{\"dis-hover\":\"\",\"bordered\":\"\"}},[_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',{attrs:{\"justify\":\"center\",\"align\":\"middle\"}},[_c('br'),_c('Avatar',{staticStyle:{\"background-color\":\"yellow\"},attrs:{\"shape\":\"square\",\"size\":\"150\"}},[_vm._v(_vm._s(_vm.account.username[0] || ''))]),_c('h1',{staticClass:\"account-username\",attrs:{\"title\":_vm.$t('account.username')}},[_vm._v(\" \"+_vm._s(_vm.account.username || 'username')+\" \")]),_c('Row',{attrs:{\"gutter\":20,\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',[_vm._l((_vm.privileges),function(i,index){return _c('span',{key:index},_vm._l((_vm.account.privilege),function(p,pi){return _c('span',{key:pi},[(p == i.value)?_c('Tag',{attrs:{\"type\":\"border\",\"size\":\"large\",\"color\":i.class}},[_vm._v(\" \"+_vm._s(_vm.$t(\"basic.privilege.\" + i.value))+\" \")]):_vm._e()],1)}),0)}),_c('p',{staticClass:\"account-info-p\"},[_vm._v(_vm._s(_vm.$t(\"account.role\")))])],2),_c('Divider',{attrs:{\"type\":\"vertical\"}}),_c('Col',[_c('Tag',{attrs:{\"type\":\"border\",\"size\":\"large\",\"color\":\"primary\"}},[(_vm.account.joinTime)?_c('Time',{attrs:{\"time\":_vm.account.joinTime  || new Date()}}):_vm._e()],1),_c('p',{staticClass:\"account-info-p\"},[_vm._v(_vm._s(_vm.$t(\"account.joinedAt\")))])],1),_c('Divider',{attrs:{\"type\":\"vertical\"}}),_c('Col',[_c('Tag',{attrs:{\"type\":\"border\",\"size\":\"large\",\"color\":\"success\"}},[(_vm.account.lastOnlineTime)?_c('Time',{attrs:{\"time\":_vm.account.lastOnlineTime  || new Date()}}):_vm._e()],1),_c('p',{staticClass:\"account-info-p\"},[_vm._v(_vm._s(_vm.$t(\"account.lastOnlineTime\")))])],1)],1)],1)],1)],1),_c('br'),_c('div',{staticClass:\"content\"},[_c('Row',{attrs:{\"gutter\":8,\"type\":\"flex\"}},[_c('Col',{attrs:{\"span\":\"7\",\"order\":\"2\"}},[(_vm.account.introduction)?_c('Card',{attrs:{\"dis-shadow\":\"\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.account.introduction)}})]):_vm._e(),(_vm.account.introduction)?_c('br'):_vm._e(),(_vm.account.origin && _vm.account.origin.originName)?_c('Card',{attrs:{\"dis-shadow\":\"\"}},[_c('b',[_vm._v(\"origin id:\")]),_c('p',[_vm._v(_vm._s(_vm.account.origin.originName))])]):_vm._e(),(_vm.account.origin && _vm.account.origin.originName)?_c('br'):_vm._e(),_c('br'),_c('p',{staticClass:\"hint\"},[_vm._v(_vm._s(_vm.$t(\"account.hint2\")))]),_c('p',{staticClass:\"hint\"},[_vm._v(_vm._s(_vm.$t(\"account.hint3\")))])],1),_c('Col',{attrs:{\"span\":\"17\",\"order\":\"1\"}},[_c('Card',{attrs:{\"dis-hover\":\"\",\"padding\":0}},[(_vm.report.data.length <= 0)?_c('p',{attrs:{\"align\":\"center\"}},[_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('basic.tip.noReports'))+\" \")])],1):_vm._e(),_c('Table',{attrs:{\"show-header\":\"\",\"border\":false,\"no-data-text\":_vm.$t('basic.tip.notcontent'),\"columns\":_vm.report.columns,\"data\":_vm.report.data}})],1),_c('br'),_c('Page',{staticClass:\"page\",attrs:{\"page-size\":_vm.limit,\"show-total\":\"\",\"current\":_vm.page,\"total\":_vm.total,\"size\":\"small\"},on:{\"on-change\":_vm.getReports}})],1)],1)],1),_c('Modal',{on:{\"on-ok\":_vm.setMessage},model:{value:(_vm.message.show),callback:function ($$v) {_vm.$set(_vm.message, \"show\", $$v)},expression:\"message.show\"}},[_c('Form',[_c('FormItem',{attrs:{\"label\":\"聊天\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 5,maxRows: 10}},model:{value:(_vm.message.content),callback:function ($$v) {_vm.$set(_vm.message, \"content\", $$v)},expression:\"message.content\"}})],1)],1)],1),_c('br')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <br>\n    <Row>\n      <Col flex=\"auto\" :xs=\"{push: 1}\" :lg=\"{push: 0}\">\n        <Breadcrumb>\n          <BreadcrumbItem :to=\"{name: 'home'}\">{{ $t(\"header.index\") }}</BreadcrumbItem>\n          <BreadcrumbItem>{{ $t(\"account.title\") }}</BreadcrumbItem>\n        </Breadcrumb>\n      </Col>\n      <Col align=\"right\" v-if=\"currentUser\">\n        <Alert show-icon type=\"error\" v-if=\"!account.attr.allowDM\"> {{ $t(\"account.message.hint.taOffChat\") }} </Alert>\n        <Alert show-icon type=\"error\" v-if=\"account.id == currentUser.userinfo.userId\"> {{ $t(\"account.message.hint.selfTalk\") }} </Alert>\n        <Button @click=\"openMessage\" :disabled=\"!account.attr.allowDM || account.id == currentUser.userinfo.userId\">\n          <Icon type=\"ios-chatbubbles\" />\n          {{ $t(\"account.message.chat\") }}\n        </Button>\n      </Col>\n    </Row>\n    <br>\n\n    <div dis-hover\tbordered>\n      <Row type=\"flex\" justify=\"center\" align=\"middle\">\n        <Col justify=\"center\" align=\"middle\">\n          <br>\n          <Avatar shape=\"square\" style=\"background-color: yellow\" size=\"150\">{{ account.username[0] || '' }}</Avatar>\n\n          <h1 :title=\"$t('account.username')\" class=\"account-username\">\n            {{ account.username || 'username' }}\n          </h1>\n\n          <Row :gutter=\"20\" type=\"flex\" justify=\"center\" align=\"middle\">\n            <Col>\n              <span v-for=\"(i,index) in privileges\" :key=\"index\">\n                <span v-for=\"(p, pi) in account.privilege\" :key=\"pi\">\n                  <Tag type=\"border\" size=\"large\" :color=\"i.class\" v-if=\"p == i.value\">\n                    {{ $t(\"basic.privilege.\" + i.value) }}\n                  </Tag>\n                </span>\n              </span>\n              <p class=\"account-info-p\">{{ $t(\"account.role\") }}</p>\n            </Col>\n            <Divider type=\"vertical\"/>\n            <Col>\n              <Tag type=\"border\" size=\"large\" color=\"primary\">\n                <Time v-if=\"account.joinTime\" :time=\"account.joinTime  || new Date()\"/>\n              </Tag>\n              <p class=\"account-info-p\">{{ $t(\"account.joinedAt\") }}</p>\n            </Col>\n            <Divider type=\"vertical\"/>\n            <Col>\n              <Tag type=\"border\" size=\"large\" color=\"success\">\n                <Time v-if=\"account.lastOnlineTime\" :time=\"account.lastOnlineTime  || new Date()\"/>\n              </Tag>\n              <p class=\"account-info-p\">{{ $t(\"account.lastOnlineTime\") }}</p>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </div>\n\n    <br/>\n\n    <div class=\"content\">\n      <Row :gutter=\"8\" type=\"flex\">\n        <Col span=\"7\" order=\"2\">\n          <Card v-if=\"account.introduction\" dis-shadow>\n            <div v-html=\"account.introduction\"></div>\n          </Card>\n          <br v-if=\"account.introduction\">\n\n          <Card v-if=\"account.origin && account.origin.originName\" dis-shadow>\n            <b>origin id:</b>\n            <p>{{account.origin.originName}}</p>\n          </Card>\n          <br v-if=\"account.origin && account.origin.originName\">\n          <br>\n          <p class=\"hint\">{{ $t(\"account.hint2\") }}</p>\n          <p class=\"hint\">{{ $t(\"account.hint3\") }}</p>\n        </Col>\n        <Col span=\"17\" order=\"1\">\n          <Card dis-hover :padding=\"0\">\n            <p v-if=\"report.data.length <= 0\" align=\"center\">\n              <Alert type=\"warning\" show-icon>\n                {{ $t('basic.tip.noReports') }}\n              </Alert>\n            </p>\n\n            <Table show-header\n                   :border=\"false\"\n                   :no-data-text=\"$t('basic.tip.notcontent')\"\n                   :columns=\"report.columns\"\n                   :data=\"report.data\"></Table>\n          </Card>\n\n          <br/>\n          <Page\n              :page-size=\"limit\"\n              show-total\n              :current=\"page\"\n              @on-change=\"getReports\"\n              :total=\"total\"\n              class=\"page\"\n              size=\"small\"/>\n        </Col>\n      </Row>\n    </div>\n\n    <Modal v-model=\"message.show\"\n        @on-ok=\"setMessage\">\n      <Form>\n        <FormItem label=\"聊天\">\n          <Input v-model=\"message.content\"\n                 type=\"textarea\" :autosize=\"{minRows: 5,maxRows: 10}\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <br>\n  </div>\n</template>\n\n<script>\nimport BFBAN from \"../assets/js/bfban\";\nimport {api, http, http_token} from '../assets/js/index'\n\nimport games from '/public/conf/gameName.json'\n\nexport default new BFBAN({\n  data() {\n    return {\n      games: games.child,\n      privileges: [],\n      account: {\n        username: \"\",\n        originId: \"\",\n        privilege: \"\",\n        createDatetime: \"\",\n        attr: {\n          allowDM: false,\n\n        }\n      },\n      report: {\n        columns: [\n          {\n            title: \" \",\n            key: 'createTime',\n            sortable: true,\n            fixed: \"left\",\n            render: (h, params) => {\n              return h('Tag', {\n                props: {\n                  color: 'primary'\n                }\n              }, [\n                h('Time', {\n                  props: {\n                    time: params.row.createTime\n                  }\n                })\n              ]);\n            }\n          },\n          {\n            title: this.$i18n.t(\"account.reported\"),\n            key: 'originName',\n            ellipsis: true,\n            tooltip: true,\n            render: (h, params) => {\n              return h('div', [\n                h('a', {\n                  href: '/player/' + params.row.originPersonaId\n                }, params.row.originName)\n              ]);\n            }\n          },\n          {\n            title: \"ID\",\n            key: 'originPersonaId',\n            ellipsis: true,\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('p', params.row.originPersonaId)\n              ]);\n            }\n          },\n          {\n            title: this.$i18n.t(\"account.status\"),\n            key: 'status',\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Tag', {\n                  props: {\n                    color: 'error'\n                  }\n                }, `${this.$i18n.t(`basic.status[${params.row.status}]`)}`)\n              ]);\n            }\n          },\n          {\n            title: this.$i18n.t(\"account.recentlyUpdated\"),\n            key: 'updateTime',\n            align: 'center',\n            sortable: true,\n            render: (h, params) => {\n              return h('div', [\n                h('Tag', {\n                  props: {\n                    color: 'warning'\n                  }\n                }, `${params.row.updateTime}`)\n              ]);\n            }\n          }\n        ],\n        data: []\n      },\n      limit: 20,\n      page: 1,\n      total: 100,\n\n      message: {\n        id: '',\n        show: false,\n        load: false,\n        content: '',\n      }\n    };\n  },\n  watch: {\n    $route: \"loadData\",\n  },\n  created() {\n    this.http = http_token.call(this);\n\n    this.loadData();\n  },\n  methods: {\n    async loadData() {\n      const {uId} = this.$route.params;\n\n      const privileges = await import('/public/conf/privilege.json');\n      this.privileges = this.privileges.concat(privileges.child)\n\n      this.getUserInfo(uId);\n    },\n    /**\n     * 获取用户信息\n     */\n    getUserInfo (uId) {\n      http.get(api[\"user_info\"], {\n        params: {\n          id: uId\n        }\n      }).then((res) => {\n        const d = res.data;\n\n        if (d.success === 1) {\n          this.account = d.data;\n        } else {\n          this.account = \"\";\n          this.$Message.warning(d.msg);\n        }\n\n        if ( this.$route.query.repeat) {\n          this.openMessage()\n        }\n\n        this.getReports()\n      });\n    },\n    /**\n     * 打开消息\n     */\n    openMessage () {\n      if (!this.account.attr.allowDM) {\n        this.$Message.error(this.$i18n.t(\"account.message.hint.taOffChat\"))\n        return\n      }\n      if (this.account.id == this.currentUser.userinfo.userId) {\n        this.$Message.error(this.$i18n.t(\"account.message.hint.selfTalk\"))\n        return\n      }\n\n      this.message.show = true;\n    },\n    /**\n     * 发送消息\n     */\n    setMessage () {\n      const {uId} = this.$route.params;\n\n      this.http.post(api[\"user_message\"], {\n        data: {\n          data: {\n            toUserId: this.message.id || uId,\n            type: 'direct',\n            content: this.message.content,\n          }\n        }\n      }).then(res => {\n        if (res.data.success == 1) {\n          this.$Message.success(res.data.message);\n        } else {\n          switch (res.data.error) {\n            case 'message.denied':\n              this.$Message.error(this.$i18n.t(\"account.message.hint.denied\"));\n              break;\n            case 'message.blocked':\n              this.$Message.error(this.$i18n.t(\"account.message.hint.taOffChat\"));\n              break;\n            default:\n              this.$Message.error(res.data.message);\n          }\n        }\n      }).finally(() => {\n        this.message.load = false;\n        this.message.show = false;\n      })\n    },\n    /**\n     * 获取举报信息\n     * @param uId\n     */\n    getReports(pageNum) {\n      const {uId} = this.$route.params;\n\n      http.get(api[\"user_reports\"], {\n        params: {\n          id: uId,\n          skip: (pageNum || 1) - 1,\n          limit: this.limit,\n        }\n      }).then((res) => {\n        const d = res.data;\n        let reportData = [];\n        if (d.success === 1) {\n          d.data.forEach(i => {\n            reportData.push({\n              createTime: i.createTime,\n              originName: i.originName,\n              originPersonaId: i.originPersonaId,\n              status: i.status,\n              updateTime: i.updateTime\n            });\n          });\n\n          this.report.data = reportData;\n          this.total = Number(this.account.reportnum);\n        }\n      });\n    },\n  },\n  computed:{\n    currentUser() {\n      return this.$store.state.user && {token: '', userinfo: {userId: ''}};\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\">\n .account-username {\n   margin: 2rem 0 2rem 0;\n }\n\n .account-info-p {\n   margin: .2rem;\n   font-size: 12px;\n   opacity: .6;\n }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=2fadbbc4&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=2fadbbc4&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import packageInfo from '../../../package.json';\nimport Print from './print';\n\nexport default class BFBAN extends Print{\n    BFBANLOG = window.BFBANLOG;\n\n    constructor(data) {\n        super();\n        return data;\n    }\n}"],"sourceRoot":""}