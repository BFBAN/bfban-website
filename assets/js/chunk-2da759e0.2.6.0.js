(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2da759e0"],{"2d3b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("br"),e("Row",[e("Col",{attrs:{xs:{push:1},lg:{push:0}}},[e("Breadcrumb",[e("BreadcrumbItem",{attrs:{to:{name:"home"}}},[t._v(t._s(t.$t("header.index")))]),e("BreadcrumbItem",[t._v(t._s(t.$t("search.title")))])],1)],1)],1),e("br"),e("div",{class:"search-content "+(t.cheaters.length>0?"search-content-mini":"")},[e("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"center",gutter:0}},[e("Col",{attrs:{xs:{span:24},sm:{span:12},md:{span:7}}},[e("RadioGroup",{attrs:{type:"button",size:"large"},model:{value:t.searchScopeValue,callback:function(e){t.searchScopeValue=e},expression:"searchScopeValue"}},t._l(t.searchScope,(function(s){return e("Radio",{key:s,staticClass:"search-input-show",attrs:{label:s,border:""}},[t._v(t._s(t.$t("search.scope."+s)))])})),1)],1),e("Col",{staticClass:"desktop-hide",attrs:{xs:{span:24}}},[t._v("â€‰")]),e("Col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12}}},[e("Dropdown",{staticStyle:{width:"100%"}},[e("Input",{staticClass:"search-input search-input-show",attrs:{"enter-button":"",search:"",size:"large",placeholder:t.$t("search.placeholder")},on:{"on-clear":function(e){t.searchVal="",t.cheaters=[]},"on-click":t.handleSearch,"on-search":t.handleSearch},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),e("div",{attrs:{slot:"list",transfer:""},slot:"list"},[t.searchHistory.list.length>0?e("Row",{staticStyle:{padding:"10px"},attrs:{gutter:5}},t._l(t.searchHistory.list,(function(s,a){return e("Col",{key:a},[e("Tag",{attrs:{stype:"border",type:"dot",checkable:"",closable:""},on:{"on-change":function(e){return t.handleSearchHistoryClickTag(a)},"on-close":function(e){return t.handleSearchHistoryClose(a)}}},[t._v(t._s(s||"")+" ")])],1)})),1):e("div",{attrs:{align:"center"}},[t._v(" ðŸ¦– ")])],1)],1)],1)],1),e("Row",{staticClass:"checkboxGroup",attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{xs:{span:24},lg:{span:11},align:"center"}},[e("Icon",{attrs:{type:"md-alert"}}),t._v(" "+t._s(t.$t("search.describe"))+" ")],1),e("Col",{attrs:{xs:{span:0},lg:{span:1}}},[e("Divider",{attrs:{type:"vertical"}})],1),e("Col",{attrs:{xs:{span:24},lg:{span:11},align:"center"}},[e("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.$t("search.collectionHint")))])])],1)],1),0!==t.cheaters.length?e("div",[e("List",{staticClass:"content",attrs:{border:""}},[t._l(t.cheaters,(function(s,a){return e("ListItem",{key:a},[e("ListItemMeta",{attrs:{avatar:s.avatarLink,title:s.currentName||s.originName,description:`${s.originUserId?"uid:"+s.originPersonaId:""} ${s.historyName?t.$t("search.scope.history")+":"+s.historyName:""}`}}),e("router-link",{attrs:{slot:"action",to:{name:"player",params:{ouid:""+s.originPersonaId}}},slot:"action"},[e("div",{on:{click:function(e){t.searchModal=!1}}},[e("Icon",{attrs:{type:"ios-eye",size:"30"}})],1)])],1)})),e("Spin",{directives:[{name:"show",rawName:"v-show",value:t.modalSpinShow,expression:"modalSpinShow"}],attrs:{size:"large",fix:""}})],2)],1):t._e()],1)])},r=[],c=s("890e"),i=s("e4b4"),o=new c["a"]({name:"search",data(){return{searchVal:"",searchHistory:{list:[]},modalSpinShow:!1,searchScope:["current","history"],searchScopeValue:"current",cheaters:[]}},created(){const{s:t,type:e}=this.$route.query;this.searchScopeValue=e||this.searchScope[0],this.searchVal=t||"",this.handleSearch(),this.getSearchHistory()},methods:{getSearchHistory(){let t=i["g"].get("search.history");-1==t.code&&this.setSearchHistoryValue([]),this.searchHistory.list=t.data.value||[]},async setSearchHistoryValue(t){await i["g"].set("search.history",t)},handleSearchHistoryClose(t){this.searchHistory.list.splice(t,1),this.setSearchHistoryValue(this.searchHistory.list)},handleSearchHistoryClickTag(t){this.searchVal=this.searchHistory.list[t],this.handleSearch()},handleSearch(){const t=this,e=this.searchVal.trim();if(""===e&&e.length<=3)return!1;this.searchModal=!0,this.modalSpinShow=!0,i["c"].get(i["b"]["search"],{params:{param:e,scope:this.searchScopeValue}}).then(s=>{t.modalSpinShow=!1;let a=Array.from(new Set(t.searchHistory.list.concat([e])));t.setSearchHistoryValue(a),t.searchHistory.list=a;const r=s.data;if(1===r.success){const{cheaters:t}=r.data;this.cheaters=r.data,r.data.length<=0&&this.$Message.error("not data")}else this.$Message.error(r.message)})}}}),n=o,h=(s("9c52"),s("2877")),l=Object(h["a"])(n,a,r,!1,null,"d95ff268",null);e["default"]=l.exports},"890e":function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var a=s("ade3"),r=(s("9224"),s("0efc"));class c extends r["a"]{constructor(t){return super(),Object(a["a"])(this,"BFBANLOG",window.BFBANLOG),t}}},9807:function(t,e,s){},"9c52":function(t,e,s){"use strict";s("9807")}}]);
//# sourceMappingURL=chunk-2da759e0.2.6.0.js.map