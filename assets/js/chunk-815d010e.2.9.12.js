(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-815d010e","chunk-2d0da581"],{"0e6f":function(e,t,a){},"2d3b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("br"),a("Row",[a("Col",{attrs:{xs:{push:1},lg:{push:0}}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("header.index")))]),a("BreadcrumbItem",[e._v(e._s(e.$t("search.title")))])],1)],1)],1),a("br"),e._m(0),a("div",{class:"search-content "+(e.searchVal.length>3&&e.searchPosting?"search-content-mini":"")},[a("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"center",gutter:20}},[a("Col",{attrs:{xs:{span:24},sm:{span:18},md:{span:18}}},[a("div",{staticClass:"search-input search-input-show ivu-input ivu-input-large"},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("Dropdown",{staticStyle:{width:"100%"}},[a("Input",{attrs:{size:"small",clearable:"","show-word-limit":!0,maxlength:100,border:!1,placeholder:e.$t("search.placeholder")},on:{"on-enter":e.handleSearch,"on-search":e.handleSearch},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),a("div",{staticStyle:{padding:"10px"},attrs:{slot:"list",transfer:""},slot:"list"},[e.searchHistory.list.length>0?a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("h5",[a("b",[e._v(e._s(e.searchHistory.list.length))]),a("span",[e._v("/10")])])]),a("Col",[a("Button",{attrs:{size:"small",type:"primary"},on:{click:e.deleteSearchHistoryAll}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1)],1):e._e(),e.searchHistory.list.length>0?[a("Row",{attrs:{gutter:5}},e._l(e.searchHistory.list,(function(t,s){return a("Col",{key:s},[a("Tag",{attrs:{stype:"border",type:"dot",color:t.count>0?"success":"default",checkable:"",closable:""},on:{"on-change":function(t){return e.handleSearchHistoryClickTag(s)},"on-close":function(t){return e.handleSearchHistoryClose(s)}}},[e._v(" "+e._s(e.$t("search.tabs."+t.type)||"")+":"+e._s(t.keyword)+" ")])],1)})),1)]:a("div",{attrs:{align:"center"}},[e._v(" ðŸ¦– ")])],2)],1)],1),a("Col",[a("OcrWidget",{attrs:{data:{}},on:{ok:e.onOcrOutput}},[a("Tooltip",{attrs:{content:"OCR"}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-qr-scanner"}})],1)])],1)],1),a("Col",[a("Button",{attrs:{type:"primary",size:"small",disabled:e.searchVal.length<=3},on:{click:e.handleSearch}},[e.modalSpinShow?a("Icon",{attrs:{type:"md-refresh spin-icon-load"}}):a("Icon",{attrs:{type:"ios-search"}})],1)],1)],1)],1)])],1),a("Row",{staticClass:"checkboxGroup",attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{xs:{span:24},lg:{span:6},align:"center"}},[a("Icon",{attrs:{type:"md-alert"}}),e._v(" "+e._s(e.$t("search.describe"))+" ")],1),a("Col",{attrs:{xs:{span:0},lg:{span:1}}},[a("Divider",{attrs:{type:"vertical"}})],1),a("Col",{attrs:{xs:{span:24},lg:{span:6},align:"center"}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.$t("search.collectionHint")))])])],1)],1),e.searchVal.length>=3&&e.searchPosting?[a("Tabs",{on:{"on-click":e.onTabClick},model:{value:e.searchTypeValue,callback:function(t){e.searchTypeValue=t},expression:"searchTypeValue"}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{size:"small"},on:{click:e.handleSearch}},[a("Icon",{class:e.modalSpinShow?"spin-icon-load":"",attrs:{type:"md-refresh"}})],1)],1),a("TabPane",{attrs:{name:"player",label:e.$t("search.tabs.player")}}),a("TabPane",{attrs:{name:"user",label:e.$t("search.tabs.user"),disabled:!e.isLogin}}),a("TabPane",{attrs:{name:"comment",label:e.$t("search.tabs.comment"),disabled:!e.isLogin}})],1),"player"==e.searchTypeValue?[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handleSearch},model:{value:e.searchGameSort,callback:function(t){e.searchGameSort=t},expression:"searchGameSort"}},[a("Radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("search.sort.default")))]),a("Radio",{attrs:{label:"latest"}},[e._v(e._s(e.$t("search.sort.latest")))]),a("Radio",{attrs:{label:"mostViewed"}},[e._v(e._s(e.$t("search.sort.mostViewed")))]),a("Radio",{attrs:{label:"mostComments"}},[e._v(e._s(e.$t("search.sort.mostComments")))])],1)],1),a("Col",[a("Select",{staticClass:"search-input-show",attrs:{transfer:!0},on:{"on-change":e.handleSearch},model:{value:e.searchGameValue,callback:function(t){e.searchGameValue=t},expression:"searchGameValue"}},[a("Icon",{staticStyle:{"margin-left":"10px","margin-right":"5px",opacity:".6"},attrs:{slot:"prefix",type:"ios-funnel"},slot:"prefix"}),e._l(e.searchGameList,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(e.$t("basic.games."+t.value))+" ")])}))],2)],1),a("Col",[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placement:"bottom-end","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1)],1),e.result.player.length>0?a("Card",{staticClass:"list",attrs:{"dis-hover":""}},[e._l(e.result.player,(function(t,s){return a("div",{directives:[{name:"voice-button",rawName:"v-voice-button"}],key:s,staticClass:"item-card"},[a("Badge",{staticStyle:{width:"100%"},attrs:{text:t.viewNum>100&&t.commentsNum>10?"hot":""}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:5,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.avatarLink?a("Avatar",{staticClass:"default-avatar",attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):[a("Avatar",{staticClass:"default-avatar",attrs:{icon:"ios-person",size:"55"}})]],2),a("Col",{attrs:{xs:{span:18,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("h2",[a("router-link",{attrs:{to:{name:"player",params:{ouid:""+t.originPersonaId}}}},[e._v(" "+e._s(t.historyName)+" ")])],1)])],1),a("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),t.createTime?a("Time",{attrs:{time:t.createTime}}):e._e(),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),t.updateTime?a("Time",{attrs:{time:t.updateTime}}):e._e()],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:1,push:0,pull:0},align:"center"}},[a("Progress",{attrs:{vertical:"",percent:1==t.status?99:100,"hide-info":"",status:"wrong"}})],1)],1)],1)],1)],1)})),a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.player,current:e.skip.player,total:e.total.player},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):a("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[a("Empty")],1)]:e._e(),"user"==e.searchTypeValue?[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handleSearch},model:{value:e.searchUserSort,callback:function(t){e.searchUserSort=t},expression:"searchUserSort"}},[a("Radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("search.sort.default")))]),a("Radio",{attrs:{label:"joinedAt"}},[e._v(e._s(e.$t("account.joinedAt")))]),a("Radio",{attrs:{label:"lastOnlineTime"}},[e._v(e._s(e.$t("account.lastOnlineTime")))])],1)],1),a("Col",[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placement:"bottom-end","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1)],1),e.result.user.length>0?a("Card",{staticClass:"list",attrs:{"dis-hover":""}},[e._l(e.result.user,(function(t,s){return a("div",{directives:[{name:"voice-button",rawName:"v-voice-button"}],key:s,staticClass:"item-card"},[a("Card",{attrs:{"dis-hover":"",padding:10},nativeOn:{click:function(a){return e.$router.push({path:"/account/"+t.dbId})}}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:5,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.userAvatar?a("Avatar",{attrs:{src:t.userAvatar,alt:"avatar",size:"55"}}):a("Avatar",{attrs:{alt:"avatar",size:"55"}},[e._v(" "+e._s(t.username)+" ")])],1),a("Col",{attrs:{xs:{span:18,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("h2",[e._v(" "+e._s(t.username)+" ")])])],1),a("div",[e._v(" "+e._s(e.$t("account.joinedAt"))+" "),t.joinTime?a("Time",{attrs:{time:t.joinTime}}):e._e(),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("account.lastOnlineTime"))+" "),t.signoutTime?a("Time",{attrs:{time:t.signoutTime}}):e._e()],1)]),a("Col",{attrs:{xs:{span:4,push:0,pull:0},align:"right"}},[a("PrivilegesTag",{attrs:{data:t.privilege}})],1)],1)],1)],1)})),a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.user,current:e.skip.user,total:e.total.user},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):a("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[a("Empty")],1)]:e._e(),"comment"==e.searchTypeValue?[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}}),a("Col",[a("DatePicker",{attrs:{type:"daterange",placement:"bottom-end","split-panels":"",options:e.timeOptions,value:e.intervalTime},on:{"on-change":e.handleCDatepicker}})],1)],1),e.result.comment.length>0?a("Card",{staticClass:"list",attrs:{"dis-hover":""}},[e._l(e.result.comment,(function(t,s){return a("div",{key:s,staticClass:"timeline-content"},[a("div",{staticClass:"timeline-time"},[a("Row",[a("Col",{attrs:{flex:"1"}},[a("router-link",{attrs:{to:{name:"account",params:{uId:""+t.byUserId}}}},[a("BusinessCard",{attrs:{id:t.byUserId}},[a("u",[a("b",[e._v(e._s(t.username||t.byUserId))])])])],1),e._v(" "+e._s(e.$t("basic.button.reply"))+" ")],1),a("Col",{attrs:{align:"right"}},[t.createTime?a("Time",{attrs:{time:t.createTime,type:"datetime"}}):e._e()],1)],1)],1),a("Card",{directives:[{name:"voice-button",rawName:"v-voice-button"}],staticClass:"item-card",attrs:{"dis-hover":"",padding:0}},[a("HtmlWidget",{attrs:{html:t.content}})],1),a("br")],1)})),a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit.comment,current:e.skip.comment,total:e.total.comment},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],2):a("Card",{staticClass:"list",attrs:{"dis-hover":"",padding:10,align:"center"}},[a("Empty")],1)]:e._e()]:e._e()],2)])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"styles_herosection user-select-none"},[s("div",{staticClass:"styles_bg"}),s("img",{staticClass:"styles_bg_img",attrs:{src:a("a240")}})])}],r=a("e4b4"),l=a("ad43"),n=a("54c4"),o=a("d78a"),c=a("617b"),h=a("6ea1"),p=a("02bc"),m=a("6acc"),u=new l["a"]({name:"search",data(){return{modalSpinShow:!1,searchPosting:!1,searchVal:"",searchHistory:{list:[]},searchTypes:["player","user","comment"],searchTypeValue:"player",searchGameList:[{value:"all"}].concat(m.child),searchGameValue:"all",searchGameSort:"default",searchUserSort:"default",intervalTime:void 0,timeOptions:{disabledDate(e){return e&&e.valueOf()>Date.now()},shortcuts:[{text:this.$i18n.t("sitestats.timeRange.daily"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.weekly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.monthly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:this.$i18n.t("sitestats.timeRange.yearly"),value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-31104e6),[t,e]}}]},result:{player:[],user:[],comment:[]},skip:{player:1,user:1,comment:1},limit:{player:40,user:20,comment:10},total:{player:0,user:0,comment:0}}},components:{OcrWidget:n["a"],PrivilegesTag:o["a"],HtmlWidget:c["a"],BusinessCard:h["a"],Empty:p["a"]},created(){const{keyword:e,type:t,game:a,skip:s,limit:i}=this.$route.query;this.searchVal=e||"",this.searchTypeValue=t||"player",this.searchGameValue=a||"all",t&&s>=1&&s<=Number.MAX_VALUE&&(this.skip[this.searchTypeValue]=Number(s)||this.skip[this.searchTypeValue]),t&&i>=0&&i<=40&&(this.limit[this.searchTypeValue]=Number(i)||this.limit[this.searchTypeValue]),this.getSearchHistory(),this.searchVal&&this.handleSearch()},methods:{getSearchHistory(){let e=r["k"].get("search.history");-1==e.code&&this.setSearchHistoryValue([]),this.searchHistory.list=e.data.value||[]},setSearchHistoryValue(e){const t=10;let a=e;for(let s=0;s<a.length;s++)a.length>t&&a.pop();r["k"].set("search.history",a)},handleSearchHistoryClose(e){this.searchHistory.list.splice(e,1),this.setSearchHistoryValue(this.searchHistory.list)},handleSearchHistoryClickTag(e){this.modalSpinShow||(this.searchVal=this.searchHistory.list[e].keyword,this.searchTypeValue=this.searchHistory.list[e].type,this.handleSearch())},handlePageChange(e){this.skip[this.searchTypeValue]=e,this.handleSearch()},handlePageSizeChange(e){this.limit[this.searchTypeValue]=e,this.handleSearch()},handleCDatepicker(e){this.intervalTime=e,this.skip[this.searchTypeValue]=1,this.handleSearch()},onOcrOutput(e){this.searchVal=e.value,this.handleSearch()},deleteSearchHistoryAll(){r["k"].rem("search.history"),this.searchHistory.list=[]},onTabClick(e){this.searchTypeValue=e,this.handleSearch()},handleSearch(){const e=this,t=this.searchVal.trim();let a={keyword:t,type:this.searchTypeValue};switch(this.searchPosting=!1,a=Object.assign({game:this.searchGameValue,gameSort:this.searchGameSort},a),this.$router.push({name:this.$router.name,query:a}),this.searchTypeValue){case"player":this.skip[this.searchTypeValue]>=1&&(a.skip=Number((this.skip[this.searchTypeValue]-1)*this.limit[this.searchTypeValue])),this.limit[this.searchTypeValue]>=0&&this.limit[this.searchTypeValue]<=40&&(a.limit=Number(this.limit[this.searchTypeValue])),this.intervalTime?(a.createTimeFrom=new Date(this.intervalTime[0]).getTime(),a.createTimeTo=new Date(this.intervalTime[1]).getTime()):(delete a.createTimeFrom,delete a.createTimeTo);break;case"user":case"comment":this.skip[this.searchTypeValue]>=1&&(a.skip=Number((this.skip[this.searchTypeValue]-1)*this.limit[this.searchTypeValue])),this.limit[this.searchTypeValue]>=0&&this.limit[this.searchTypeValue]<=40&&(a.limit=Number(this.limit[this.searchTypeValue]));break}""==t||t.length<=3||this.modalSpinShow?this.modalSpinShow=!1:(this.modalSpinShow=!0,a.param=a.keyword,r["c"].get(r["b"]["search"],{params:a}).then(a=>{const s=a.data;let i=!1;for(let r=0;r<e.searchHistory.list.length;r++){let a=e.searchHistory.list[r];a.keyword==t&&a.type==this.searchTypeValue&&(i=!0)}if(i||e.searchHistory.list.push({keyword:t,type:this.searchTypeValue,count:s.data.length||0}),e.setSearchHistoryValue(this.searchHistory.list),1===s.success)return this.result[this.searchTypeValue]=s.data,this.total[this.searchTypeValue]=s.total,s.data.length<=0?void this.$Message.info(this.$i18n.t("search.notUserExist")):void 0;this.$Message.error(s.message||s.data.code)}).catch(e=>{this.$Message.error(e)}).finally(()=>{e.modalSpinShow=!1,e.searchPosting=!0}))}}}),d=u,g=(a("6ed9"),a("2877")),y=Object(g["a"])(d,s,i,!1,null,"7373625e",null);t["default"]=y.exports},"6acc":function(e){e.exports=JSON.parse('{"defaultIndex":0,"default":"bf1","child":[{"value":"bf1","full_name":"bf1","bk_file":"images/games/bf1","bk_src":"//media.contentapi.ea.com/content/dam/gin/images/2017/01/battlefield-1-keyart-5452x3859.jpg.adapt.crop1x1.767p.jpg","logo_src":"//media.contentapi.ea.com/content/dam/gin/common/logos/layer-1.png","app_assets_bk_file":"assets/images/games/bf1/bf.jpg","app_assets_logo_file":"assets/images/games/bf1/logo.png"},{"value":"bfv","full_name":"bfv","bk_file":"images/games/bfv","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2018/05/bfv-campaignart-standard-large.jpg.adapt.crop1x1.767p.jpg","bk_width":150,"logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/bfv-logo-white.png","app_assets_bk_file":"assets/images/games/bfv/bf.jpg","app_assets_logo_file":"assets/images/games/bfv/logo.png"},{"value":"bf6","full_name":"bf2042","bk_file":"images/games/bf6","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2021/06/battlefield-2042-key-art.jpg.adapt.crop1x1.767p.jpg","logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/battlefield-2042-mono-logo-svg.svg","app_assets_bk_file":"assets/images/games/bf6/bf.jpg","app_assets_logo_file":"assets/images/games/bf6/logo.png"}]}')},"6ed9":function(e,t,a){"use strict";a("0e6f")},a240:function(e,t,a){e.exports=a.p+"assets/img/hero-grid-overlay.890f5154.png"}}]);
//# sourceMappingURL=chunk-815d010e.2.9.12.js.map