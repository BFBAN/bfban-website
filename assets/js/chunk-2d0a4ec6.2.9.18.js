(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4ec6"],{"0907":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("br"),r("Row",[r("Col",{attrs:{flex:"1",xs:{push:1},lg:{push:0}}},[r("Breadcrumb",[r("BreadcrumbItem",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("header.index")))]),r("BreadcrumbItem",{attrs:{to:{name:"workflow"}}},[e._v(e._s(e.$t("workflow.title")))]),r("BreadcrumbItem",[e._v(e._s(e.$t("workflow.add.title")))])],1)],1)],1),r("br"),r("Card",{attrs:{"dis-hover":""}},["workflow_item_add"===e.$route.name?[r("h1",[e._v("添加")]),r("p",[e._v("将以下玩家添加到你的工作流中")]),r("br")]:e._e(),"persona"===e.$route.query.type&&"workflow_adds"===e.$route.name?[r("h1",[e._v("批量添加")]),r("p",[e._v("将以下玩家添加到你的工作流中")]),r("br")]:e._e(),r("Row",{attrs:{gutter:10}},[r("Col",["workflow_item_add"===e.$route.name?[r("SharePlayerCell",{attrs:{type:"card","persona-id":e.$route.query.id}})]:e._e(),"persona"===e.$route.query.type&&"workflow_adds"===e.$route.name?[r("Row",{attrs:{gutter:10}},e._l(e.getPlayers,(function(e,t){return r("Col",{key:t},[r("SharePlayerCell",{attrs:{type:"card","persona-id":e}})],1)})),1)]:e._e()],2)],1),r("Divider",{attrs:{dashed:""}}),r("Row",{attrs:{gutter:10,type:"flex",justify:"center"}},[r("Col",[r("Select",{attrs:{size:"large",disabled:!0},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[r("Option",{attrs:{value:0}},[e._v("待处理")])],1)],1),r("Col",[r("Button",{attrs:{type:"primary",size:"large",long:"",loading:e.load},on:{click:e.onAddDataWorkflow}},[e._v("确认")])],1)],1)],2)],1)},o=[],s=r("c3b4"),l=r("e4b4"),n={data(){return{load:!1,status:0}},components:{SharePlayerCell:s["default"]},methods:{async onAddDataWorkflow(){try{this.load=!0;let e=l["t"].getConfiguration("0",l["t"].DATA),t=this.getPlayers.map(async e=>"persona"===this.$route.query.type&&this.getPlayers.indexOf(e)>=0?{data:await l["l"].getPlayerInfo({personaId:e},!0)}:{error:!0,data:{originPersonaId:e}}),r=await Promise.all(t).then(e=>e.find(e=>!0!==e.error)),a=e.children.findIndex(e=>0===e.name.value);e.children[a].children=e.children[a].children.concat(r),l["t"].updateConfiguration("0",e,l["t"].DATA),await this.$router.push({name:"workflow"})}finally{this.load=!1}}},computed:{getPlayers(){const{ids:e,id:t}=this.$route.query;return e?this.$route.query.ids.split(","):t?[t]:[]}}},d=n,i=r("2877"),u=Object(i["a"])(d,a,o,!1,null,"fd06d302",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0a4ec6.2.9.18.js.map