(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61f210b2","chunk-2d0e5d80","chunk-2d0da581"],{"0df9":function(e,t,a){},2645:function(e,t,a){"use strict";a("0df9")},"296c":function(e,t,a){"use strict";a("95f9")},5330:function(e,t,a){"use strict";a("a262")},"617b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"html-widget-box"},[e.html?a("Html",{class:"html-widget-size-"+e.htmlSize,attrs:{html:e.html,mode:e.htmlShowMode}}):e._e(),a("div",{staticClass:"html-widget-box-divider ivu-divider ivu-divider-horizontal"}),a("Row",{staticClass:"html-widget-toolbar",attrs:{type:"flex",justify:"center",align:"middle",gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("a",{on:{click:e.openFullScreenView}},[a("Icon",{attrs:{type:"md-expand"}})],1),a("Modal",{attrs:{fullscreen:"","footer-hide":"",scrollable:!0},model:{value:e.fullScreenStatus,callback:function(t){e.fullScreenStatus=t},expression:"fullScreenStatus"}},[a("div",{staticClass:"container"},[a("Card",{staticClass:"content"},[a("Html",{class:"html-widget-size-"+e.htmlSize,attrs:{html:e.html,mode:e.htmlShowMode}})],1)],1)])],1),a("Col",[a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.changeSize}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v(" "+e._s(e.htmlSize)+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"large",selected:"large"==e.htmlSize}},[e._v("Large")]),a("DropdownItem",{attrs:{name:"default",selected:"default"==e.htmlSize}},[e._v("Default")]),a("DropdownItem",{attrs:{name:"small",selected:"small"==e.htmlSize}},[e._v("Small")])],1)],1),a("Divider",{attrs:{type:"vertical"}}),a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.changeMode}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v(" "+e._s(e.htmlShowMode)+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"code",selected:"code"==e.htmlShowMode}},[e._v("Code")]),a("DropdownItem",{attrs:{name:"text",selected:"text"==e.htmlShowMode}},[e._v("Text")]),a("DropdownItem",{attrs:{name:"renderer",selected:"renderer"==e.htmlShowMode}},[e._v("Renderer")])],1)],1)],1)],1)],1)},i=[],o=a("1b08"),r={name:"HtmlWidget",props:{html:{type:String,default:""}},data(){return{htmlContent:"",htmlSize:"default",htmlShowMode:"renderer",fullScreenStatus:!1}},components:{Html:o["a"]},methods:{openFullScreenView(){this.fullScreenStatus=!0},changeMode(e){this.htmlShowMode=e},changeSize(e){this.htmlSize=e}}},n=r,l=(a("296c"),a("2645"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"8a630e18",null);t["a"]=c.exports},"69fd":function(e,t,a){"use strict";a("a785")},"6acc":function(e){e.exports=JSON.parse('{"defaultIndex":0,"default":"bf1","child":[{"value":"bf1","full_name":"bf1","bk_file":"images/games/bf1","bk_src":"//media.contentapi.ea.com/content/dam/gin/images/2017/01/battlefield-1-keyart-5452x3859.jpg.adapt.crop1x1.767p.jpg","logo_src":"//media.contentapi.ea.com/content/dam/gin/common/logos/layer-1.png","app_assets_bk_file":"assets/images/games/bf1/bf.jpg","app_assets_logo_file":"assets/images/games/bf1/logo.png"},{"value":"bfv","full_name":"bfv","bk_file":"images/games/bfv","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2018/05/bfv-campaignart-standard-large.jpg.adapt.crop1x1.767p.jpg","bk_width":150,"logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/bfv-logo-white.png","app_assets_bk_file":"assets/images/games/bfv/bf.jpg","app_assets_logo_file":"assets/images/games/bfv/logo.png"},{"value":"bf6","full_name":"bf2042","bk_file":"images/games/bf6","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2021/06/battlefield-2042-key-art.jpg.adapt.crop1x1.767p.jpg","logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/battlefield-2042-mono-logo-svg.svg","app_assets_bk_file":"assets/images/games/bf6/bf.jpg","app_assets_logo_file":"assets/images/games/bf6/logo.png"}]}')},"72c3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("br"),a("Row",[a("Col",{attrs:{xs:{push:1},lg:{push:0}}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("header.index")))]),a("BreadcrumbItem",[e._v(e._s(e.$t("header.profile")))])],1)],1)],1),a("br"),a("Card",{attrs:{"dis-hover":"",padding:0}},[a("Row",[a("Col",{attrs:{xs:{span:24},sm:{span:6}}},[a("Menu",{staticClass:"profile-menu",attrs:{width:"100%",mode:e.isMobile?"horizontal":"vertical","active-name":e.menuValue},on:{"on-select":e.onMenuActive}},[e._l(e.menu,(function(t,s){return a("div",{key:s},e._l(t.child,(function(t,s){return a("MenuItem",{key:s,attrs:{name:t.name}},[a("Row",{attrs:{gutter:10}},[a("Col",{style:t.configurationKey?"opacity:"+(t.configurationValue?"1":".3"):"",attrs:{flex:"1"}},[t.icon?a("Icon",{attrs:{type:t.icon,size:"20"}}):e._e(),e._v(" "+e._s(e.$t("profile."+t.title+".title"))+" ")],1),a("Col",[t.configurationKey?a("Checkbox",{attrs:{disabled:t.disabled},on:{"on-change":function(a){return e.switchAttr(t.configurationKey,t.configurationValue)}},model:{value:t.configurationValue,callback:function(a){e.$set(t,"configurationValue",a)},expression:"j.configurationValue"}}):e._e()],1)],1)],1)})),1)})),a("MenuGroup",[a("MenuItem",{attrs:{name:"userCenter",to:{name:"account",params:{uId:""+e.currentUser.userinfo.userId}}}},[e._v(" "+e._s(e.$t("header.userCenter"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1),e.isAdmin?a("MenuItem",{attrs:{name:"admin",to:{name:"admin",params:{pagename:"home"}}}},[e._v(" "+e._s(e.$t("profile.admin.title"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1):e._e()],1)],2)],1),a("Col",{staticClass:"profile-right-content",attrs:{xs:{span:24},sm:{span:18}}},["information"==e.menuValue?a("information"):e._e(),"appearance"==e.menuValue?a("appearance"):e._e(),"chat"==e.menuValue?a("chat"):e._e(),"enhance"==e.menuValue?a("enhance"):e._e(),"media"==e.menuValue?a("media"):e._e(),"voice"==e.menuValue?a("voice"):e._e(),"history"==e.menuValue?a("history"):e._e(),"subscribes"==e.menuValue?a("subscribes"):e._e(),"exportAndImport"==e.menuValue?a("exportAndImport"):e._e()],1)],1)],1),a("br")],1)},i=[],o=a("d78a"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"theme ivu-radio-group-button"},[a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:10,type:"flex",align:"middle",justify:"end"}},[a("Col",[a("Button",{attrs:{type:"primary"},on:{click:e.changeTheme}},[e._v(" "+e._s(e.$t("basic.button.save"))+" ")])],1),a("Col",[a("div",{staticClass:"theme-color",style:"background-color: "+e.themes.child[e.themeIndex].themeColor})])],1)],1),a("Divider",{staticClass:"profile-divider"}),a("RadioGroup",{staticClass:"theme-card-content profile-body",attrs:{size:"large","button-style":"solid"},model:{value:e.themeIndex,callback:function(t){e.themeIndex=t},expression:"themeIndex"}},[e._l(e.themes.child,(function(t,s){return a("Card",{key:s,class:s==e.themeIndex?"ivu-radio-wrapper-checked":"",attrs:{"dis-hover":""}},[a("div",{on:{click:function(t){e.themeIndex=s}}},[a("div",{staticClass:"theme-color",style:"background-color: "+t.themeColor}),a("h1",[a("b",[e._v(e._s(t.name))]),a("Badge",{staticClass:"theme-badge",attrs:{text:t.version}})],1)]),a("div",[a("span",[e._v(e._s(t.authorInfo.authorName))]),a("Divider",{attrs:{type:"vertical"}}),a("span",[e._v(e._s(t.authorInfo.authorUpdate))])],1)])})),a("a",{attrs:{href:"//github.com/BFBAN/bfban-website/tree/master/front/public/theme",target:"_blank"}},[a("Card",{staticClass:"theme-card theme-card-not",attrs:{"dis-hover":""}},[a("Icon",{attrs:{type:"md-add",size:"30"}})],1)],1)],2)],1)},n=[],l=a("e4b4"),c=a("611b"),d={name:"appearance",data(){return{themes:c,themeIndex:0}},created(){this.getTheme()},methods:{async getTheme(){let e=await l["k"].get("theme");if(e.data&&e.data.value)return this.themes.child.forEach((t,a)=>{t.name==e.data.value.name&&(this.themeIndex=a)}),void await this.$store.dispatch("setTheme",e.data.value);c.child.filter((e,t)=>{e.name==c.default&&(this.themeIndex=t)}),await this.$store.dispatch("setTheme",this.$store.state.$theme)},changeTheme(e){l["k"].set("theme",this.themes.child[this.themeIndex||0]),window.location.reload()}}},m=d,u=(a("f910"),a("2877")),p=Object(u["a"])(m,r,n,!1,null,"10939b26",null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{attrs:{model:e.formItem,"label-position":"top"}},[a("Row",{staticClass:"profile-body",attrs:{gutter:15}},[a("Col",[a("a",{attrs:{href:"https://gravatar.com",target:"_blank"}},[a("UserAvatar",{attrs:{src:e.formItem.userAvatar,size:50}})],1)]),a("Col",{attrs:{flex:"1"}},[a("h3",[e._v(" "+e._s(e.formItem.username)+" ")]),a("p",[e._v(e._s(e.$t("profile.meet",{name:e.formItem.username}))+" ("+e._s(e.formItem.id)+")")])]),e.formItem.privilege?a("Col",[a("p",[a("b",[e._v(e._s(e.$t("profile.account.form.privilege")))])]),a("PrivilegesTag",{attrs:{data:e.formItem.privilege}})],1):e._e()],1),a("Divider",{staticClass:"profile-divider"}),a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{span:"12"}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-key"}}),e._v(" "+e._s(e.$t("signup.form.username"))+" ")],1),a("Input",{attrs:{placeholder:"",disabled:""},model:{value:e.formItem.username,callback:function(t){e.$set(e.formItem,"username",t)},expression:"formItem.username"}},[a("a",{attrs:{slot:"append"},on:{click:function(t){e.modal_setusername.show=!e.modal_setusername.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-lock"}}),e._v(" "+e._s(e.$t("signup.form.password"))+" ")],1),a("Input",{attrs:{disabled:"",type:"password"},model:{value:e.formItem.password,callback:function(t){e.$set(e.formItem,"password",t)},expression:"formItem.password"}},[a("a",{attrs:{slot:"append"},on:{click:function(t){e.modal_changePassword.show=!e.modal_changePassword.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{span:"12"}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:e.$t("account.joinedAt")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:e.formItem.joinTime||(new Date).getTime()}},[a("Time",{attrs:{time:e.formItem.joinTime||(new Date).getTime()}})],1)],1)],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:e.$t("account.lastOnlineTime")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:e.formItem.lastOnlineTime||(new Date).getTime()}},[a("Time",{attrs:{time:e.formItem.lastOnlineTime||(new Date).getTime()}})],1)],1)],1)],1)],1),e.isAdmin?a("Col",{attrs:{span:"12"}},[a("br"),a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("p",[a("b",[e._v(e._s(e.$t("profile.account.form.introduction")))])])]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Textarea",{ref:"informationTextarea",attrs:{toolbar:["bold"],height:"160px",maxlength:500,"show-maxlength-label":!0,placeholder:e.$t("profile.account.form.introduction")},model:{value:e.formItem.attr.introduction,callback:function(t){e.$set(e.formItem.attr,"introduction",t)},expression:"formItem.attr.introduction"}})],1)],1)],1):e._e()],1),a("Divider",{attrs:{dashed:""}}),e.isBindAccount?[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:e.$t("signup.form.originName")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:e.formItem.origin.originName,callback:function(t){e.$set(e.formItem.origin,"originName",t)},expression:"formItem.origin.originName"}})],1)],1),a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:e.$t("signup.form.originId")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:e.formItem.origin.originUserId,callback:function(t){e.$set(e.formItem.origin,"originUserId",t)},expression:"formItem.origin.originUserId"}})],1)],1)],1)]:[a("Alert",{attrs:{"show-icon":"",type:"error"}},[e._v(" "+e._s(e.$t("account.bindOrigin.title"))+" "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),a("template",{slot:"desc"},[a("p",[e._v(e._s(e.$t("account.bindOrigin.content")))]),a("br"),a("router-link",{attrs:{to:"/bindOrigin"}},[a("Button",[e._v(e._s(e.$t("account.bindOrigin.travel")))])],1)],1)],2)],a("Divider",{attrs:{dashed:""}}),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:e.$t("profile.account.form.language")}},[a("Row",[a("Col",[a("Checkbox",{on:{"on-change":e.switchLangLocalSync},model:{value:e.langLocalSync,callback:function(t){e.langLocalSync=t},expression:"langLocalSync"}})],1),a("Col",{attrs:{flex:"1"}},[a("Select",{staticClass:"switch-language",attrs:{prefix:"md-globe",placement:"top-end",disabled:!e.langLocalSync},on:{"on-change":e.switchLanguage},model:{value:e.formItem.attr.language,callback:function(t){e.$set(e.formItem.attr,"language",t)},expression:"formItem.attr.language"}},e._l(e.languages,(function(t){return a("Option",{key:t.name,attrs:{value:t.name,disabled:t.ignoreSave}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),e.langLocalSync?a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.account.form.languageSyncDescribe")))]):e._e()],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:e.$t("profile.account.form.showOrigin")}},[a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.account.form.showOriginDescribe")))]),a("i-switch",{model:{value:e.formItem.attr.showOrigin,callback:function(t){e.$set(e.formItem.attr,"showOrigin",t)},expression:"formItem.attr.showOrigin"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:e.$t("profile.account.form.allowDM")}},[a("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("profile.account.form.allowDMdescribe")))]),a("i-switch",{model:{value:e.formItem.attr.allowDM,callback:function(t){e.$set(e.formItem.attr,"allowDM",t)},expression:"formItem.attr.allowDM"}})],1)],1)],1),a("Affix",{attrs:{"offset-bottom":0}},[a("Card",{attrs:{"dis-hover":"",padding:8}},[a("Row",[a("Col",{attrs:{xs:{span:0},lg:{span:20}}}),a("Col",{attrs:{xs:{span:24},lg:{span:4}}},[a("Button",{attrs:{type:"primary",long:"",loading:e.formLoad,disabled:e.userInfoLoad},on:{click:e.onSave}},[e._v(" "+e._s(e.$t("basic.button.save"))+" ")])],1)],1)],1)],1),a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.userInfoLoad,expression:"userInfoLoad"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],2)],1),a("Modal",{attrs:{"footer-hide":e.modal_setusername.index>=2},on:{"on-cancel":function(t){e.modal_setusername.index=0}},model:{value:e.modal_setusername.show,callback:function(t){e.$set(e.modal_setusername,"show",t)},expression:"modal_setusername.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.$t("profile.account.modifyName.title")))])]),a("div",[a("Steps",{attrs:{current:e.modal_setusername.index,size:"small"}},[a("Step",{attrs:{title:e.$t("profile.account.modifyName.steps[0].title")}}),a("Step",{attrs:{title:e.$t("profile.account.modifyName.steps[1].title")}}),a("Step",{attrs:{title:e.$t("profile.account.modifyName.steps[2].title")}})],1),a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[0==e.modal_setusername.index?a("div",[a("br"),a("Alert",{attrs:{type:"warning"}},[a("template",{slot:"desc"},[a("p",{domProps:{innerHTML:e._s(e.$t("profile.account.modifyName.specification1"))}}),a("p",[e._v(" "+e._s(e.$t("profile.account.modifyName.residueDegree",{changeNameLeft:e.formItem.attr.changeNameLeft||0}))+" ")]),a("br"),a("b",[e._v(" "+e._s(e.$t("profile.account.modifyName.specification2")))])])],2)],1):e._e(),1==e.modal_setusername.index?a("div",[a("br"),a("FormItem",{attrs:{label:e.$t("signup.form.username")}},[a("Input",{attrs:{size:"large",disabled:""},model:{value:e.formItem.username,callback:function(t){e.$set(e.formItem,"username",t)},expression:"formItem.username"}})],1),a("FormItem",{attrs:{label:e.$t("signup.form.newUsername")}},[a("Input",{attrs:{size:"large",placeholder:e.$t("signup.form.newUsername")},model:{value:e.formItem.newname,callback:function(t){e.$set(e.formItem,"newname",t)},expression:"formItem.newname"}})],1),a("FormItem",{attrs:{label:e.$t("captcha.title"),prop:"captcha"}},[a("Input",{attrs:{type:"text",size:"large",maxlength:"4",placeholder:e.$t("captcha.title")},model:{value:e.usernameCaptcha,callback:function(t){e.usernameCaptcha=t},expression:"usernameCaptcha"}},[a("div",{staticClass:"captcha-input-append",attrs:{slot:"append",alt:e.$t("captcha.get")},slot:"append"},[a("Captcha",{ref:"usernameCaptcha",attrs:{id:"usernameCaptcha"}})],1)])],1)],1):e._e(),2==e.modal_setusername.index?a("div",{attrs:{align:"center"}},[a("br"),a("Icon",{attrs:{type:"ios-cloud-done",size:"200",color:"#19be6b"}}),a("br")],1):e._e()])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.modal_setusername.index>0&&e.modal_setusername.index<=1?a("Button",{attrs:{size:"large",disabled:""==e.formItem.newname,loading:e.modal_setusername.load},on:{click:function(t){e.modal_setusername.index=e.setUserName()}}},[e._v(" "+e._s(e.$t("basic.button.next"))+" ")]):e._e(),e.modal_setusername.index<=0?a("Button",{attrs:{type:"warning",size:"large",disabled:0==e.formItem.attr.changeNameLeft},on:{click:function(t){e.modal_setusername.index=1}}},[e._v(" "+e._s(e.$t("basic.button.submit"))+" ")]):e._e()],1)]),a("Modal",{model:{value:e.modal_changePassword.show,callback:function(t){e.$set(e.modal_changePassword,"show",t)},expression:"modal_changePassword.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("reset.title")))]),a("div",[a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[a("FormItem",{attrs:{label:e.$t("reset.form.oldPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:e.modal_changePassword.oldpassword,callback:function(t){e.$set(e.modal_changePassword,"oldpassword",t)},expression:"modal_changePassword.oldpassword"}})],1),a("FormItem",{attrs:{label:e.$t("reset.form.newPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:e.modal_changePassword.newpassword,callback:function(t){e.$set(e.modal_changePassword,"newpassword",t)},expression:"modal_changePassword.newpassword"}})],1),a("FormItem",{attrs:{label:e.$t("captcha.title"),prop:"captcha"}},[a("Input",{attrs:{type:"text",size:"large",maxlength:"4",placeholder:e.$t("captcha.title")},model:{value:e.passwordCaptcha,callback:function(t){e.passwordCaptcha=t},expression:"passwordCaptcha"}},[a("div",{staticClass:"captcha-input-append",attrs:{slot:"append",alt:e.$t("captcha.get")},slot:"append"},[a("Captcha",{ref:"passwordCaptcha",attrs:{id:"passwordCaptcha"}})],1)])],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large",disabled:!e.modal_changePassword.oldpassword&&!e.modal_changePassword.newpassword&&!e.passwordCaptcha,loading:e.modal_changePassword.load},on:{click:function(t){return e.handChangePassword()}}},[e._v(" "+e._s(e.$t("reset.title"))+" ")])],1)])],1)},f=[],v=a("e7f8"),b=a("808f"),w=a("5d71"),_=a("ad43"),y=new _["a"]({name:"account",data(){return{privileges:[],languages:[],userInfoLoad:!1,formLoad:!1,langLocalSync:!1,modal_changePassword:{load:!1,show:!1,newpassword:"",oldpassword:""},modal_setusername:{load:!1,show:!1,index:0},usernameCaptcha:"",passwordCaptcha:""}},components:{Textarea:w["a"],Captcha:v["a"],UserAvatar:b["a"],PrivilegesTag:o["a"]},created(){this.http=l["d"].call(this),this.ready()},methods:{async ready(){const e=await Promise.resolve().then(a.t.bind(null,"afdf",3)),t=await Promise.resolve().then(a.t.bind(null,"59c0",3));this.privileges=this.privileges.concat(t.child),this.languages=this.languages.concat(e.child),await this.getUserinfo()},handChangePassword(){const{newpassword:e="",oldpassword:t=""}=this.modal_changePassword;this.modal_changePassword.load=!0,this.http.post(l["b"]["user_changePassword"],{data:{data:{newpassword:e,oldpassword:t},encryptCaptcha:this.$refs.passwordCaptcha.hash,captcha:this.passwordCaptcha}}).then(e=>{const t=e.data;if(1===t.success)return this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""})),this.$store.dispatch("signout").then(()=>{this.signout()}),this.modal_changePassword.show=!1,void this.$router.push({name:"signin"});this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(()=>{this.modal_changePassword.load=!1})},signout(){l["c"].post(l["b"]["account_signout"],{headers:{"x-access-token":this.$store.state.user.token}}).then(e=>{const t=e.data;1==t.success&&this.$router.push("/signin")})},switchLanguage(e){this.formItem.attr.language=e},setUserName(){this.formItem.newname&&(this.modal_setusername.load=!0,this.http.post(l["b"]["user_changeName"],{data:{data:{newname:this.formItem.newname},encryptCaptcha:this.$refs.usernameCaptcha.hash,captcha:this.usernameCaptcha}}).then(e=>{const t=e.data;if(1===t.success)return this.modal_setusername.index=2,void this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}));this.modal_setusername.index=0,this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(async()=>{this.modal_setusername.load=!1,this.usernameCaptcha="",await this.getUserinfo()}))},onSave(){console.log(this.formItem.attr),this.formLoad=!0,this.formItem.language=this.$root.$i18n.locale,this.http.post(l["b"]["user_me"],{data:{data:{attr:this.formItem.attr}}}).then(e=>{const t=e.data;if(1===t.success)return t.data.attr.language&&this.$store.dispatch("setLang",t.data.attr.language),void this.$Message.success(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}));this.$Message.error(this.$t(`basic.tip['${t.code}']`,{message:t.message||""}))}).finally(()=>{this.formLoad=!1})},async getUserinfo(){return this.userInfoLoad=!0,new Promise(e=>{this.http.get(l["b"]["user_me"],{}).then(e=>{const t=e.data;1===t.success&&(this.$store.dispatch("setUserInfo",t.data),this.formItem=Object.assign(this.formItem,t.data),this.$refs.informationTextarea.updateContent(this.formItem.attr.introduction))}).finally(()=>{this.userInfoLoad=!1,this.checkLangLocalSync(),e()})})},switchLangLocalSync(e){l["a"].updateConfiguration("langLocalSync",this.langLocalSync)},checkLangLocalSync(){this.langLocalSync=l["a"].getConfiguration("langLocalSync")}},computed:{formItem:{set(e){this.data=e},get(){this.checkLangLocalSync();let e=Object.assign({password:"******",origin:null,userAvatar:"",newname:"",username:"",attr:{introduction:"",language:""}},this.data,this.$store.state.$userinfo);return console.log(this.data),e}},isBindAccount(){let e=this.formItem;return!!e.origin&&!(!e.origin.originName&&!e.origin.originUserId)}}}),x=y,C=Object(u["a"])(x,g,f,!1,null,"3b5d1600",null),k=C.exports,I=a("e17e"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.configuration.enhance?a("div",{staticClass:"profile-body"},e._l(e.enhance,(function(t,s){return a("div",{key:s},[a("Card",[a("Row",[a("Col",{attrs:{flex:"auto"}},[a("h1",[e._v(e._s(e.$t("profile.enhance.public."+t.enhanceName+".name")))]),a("p",[e._v(e._s(e.$t("profile.enhance.public."+t.enhanceName+".describe")))])]),a("Col",[a("i-switch",{on:{"on-change":function(a){return e.changeEnhanceAttr(t.enhanceName,t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"i.value"}})],1)],1)],1),a("br")],1)})),0):e.$store.state.configuration.enhance?a("div",{staticClass:"profile-body enhance-notApp-content",attrs:{align:"center"}},[a("h1",[e._v("No application was detected")]),a("p",[e._v("The BFBAN WEB APP is not installed")])]):a("div",{staticClass:"profile-body"},[a("p",[e._v("Disable Component")]),e._m(0)])},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],S=(a("4360"),{data(){var e,t,a;return{enhance:[{enhanceName:"footerBar",value:(null===(e=this.$store.state.configuration)||void 0===e?void 0:e.footerBar)||!1},{enhanceName:"autoUpdatePlayerList",value:(null===(t=this.$store.state.configuration)||void 0===t?void 0:t.autoUpdatePlayerList)||!1},{enhanceName:"desktopNotifiction",value:(null===(a=this.$store.state.configuration)||void 0===a?void 0:a.desktopNotifiction)||!1}]}},created(){},methods:{changeEnhanceAttr(e,t){e&&l["a"].updateConfiguration(e,t)}},computed:{webMode(){const e=window.matchMedia("(display-mode: standalone)").matches;return document.referrer.startsWith("android-app://")?"browsertab":navigator.standalone||e?"standalone":"browser"}}}),N=S,P=(a("e57e"),Object(u["a"])(N,$,T,!1,null,"ba99273a",null)),z=P.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[a("Alert",{staticStyle:{width:"100%"},attrs:{"show-icon":"",type:"warning"}},[e._v(" "+e._s(e.$t("profile.media.hint1"))+" ")]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Row",{attrs:{slot:"title",gutter:30},slot:"title"},[a("Col",{attrs:{flex:"1"}},[a("Button",{on:{click:function(t){return e.$refs["uploadWidget"].onPanelChange()}}},[a("Icon",{attrs:{type:"md-add"}})],1),a("UploadWidget",{ref:"uploadWidget",attrs:{uploadWidgetTypeArray:["upload"]},on:{finish:e.getMediaList}})],1),e.media.data.usedStorageQuota&&e.media.data.totalStorageQuota?a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{placement:"bottom-end",trigger:"hover",width:"400"}},[e._v(" "+e._s(e.$t("profile.media.capacity"))+" "),a("span",[e._v(" "+e._s(e.onUnitConversion(e.media.data.usedStorageQuota))+"/"+e._s(e.onUnitConversion(e.media.data.totalStorageQuota))+" ")]),a("Progress",{attrs:{percent:e.percentValue}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("Form",{attrs:{"label-position":"left","label-width":150}},[a("FormItem",{attrs:{label:e.$t("profile.media.maxFileNumber")}},[a("Input",{attrs:{value:e.media.data.maxFileNumber,size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.maxTrafficQuota")}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.maxTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.usedStorageQuota")}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.usedStorageQuota),size:"small",readonly:""}})],1),a("Col",[e._v("/")]),a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.totalStorageQuota),size:"small",readonly:""}})],1)],1)],1),a("FormItem",{attrs:{label:e.$t("profile.media.todayFileNumber")}},[a("Input",{attrs:{size:"small",readonly:""},model:{value:e.media.data.todayFileNumber,callback:function(t){e.$set(e.media.data,"todayFileNumber",t)},expression:"media.data.todayFileNumber"}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.todayTrafficQuota")}},[a("Input",{attrs:{value:e.onUnitConversion(e.media.data.todayTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:e.$t("profile.media.prevResetTime")}},[a("TimeView",{attrs:{time:e.media.data.prevResetTime}},[a("Time",{attrs:{time:e.media.data.prevResetTime}})],1)],1)],1)],1)],1)],1):e._e()],1),a("Table",{staticClass:"media-content",attrs:{border:!1,"load-data":e.handleLoadData,columns:e.media.columns,data:e.media.list}})],1),a("br"),a("Page",{staticClass:"page",attrs:{"show-sizer":"","show-total":"","show-elevator":"","page-size":e.media.limit,current:e.media.skip},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)},L=[],M=(a("0808"),a("6944")),O=a.n(M),D=a("2b0e"),V=a("b2d4"),F=a("9648");D["default"].use(O.a);var R={components:{TimeView:F["a"],UploadWidget:V["a"]},data(){return{file:{name:""},loadingStatus:!1,service_upload:l["b"]["service_upload"],media:{columns:[{title:"Name",key:"filename",minWidth:200,maxWidth:400},{title:"size",key:"size",sortable:!0},{title:"createTime",key:"createTime",render:(e,t)=>e(F["a"],{props:{time:t.row.createTime}},[e("Time",{props:{time:t.row.createTime,type:"datetime"}})])},{key:"btn",render:(e,t)=>{const a=this.getButtonType(t.row.filename);let s,i=this.$i18n.t("profile.chat.look");if("view"===a)i=this.$i18n.t("profile.chat.look"),s=()=>{t.row.load||this.queryMediaDetail(t.row.filename)};else if("download"===a){const e="https://bfban.gametools.network/api/service/file?filename="+t.row.filename;i=this.$i18n.t("profile.chat.download"),s=()=>{window.location.href=e}}return e("Button",{props:{loading:t.row.load},on:{click:s}},i)}}],images:{},selectFileId:"",data:{},list:[],limit:10,skip:1}}},created(){this.http=l["d"].call(this),this.getMedia(),this.getMediaList()},methods:{handleLoadData(e,t){setTimeout(()=>{const e=[{id:"10100",name:"John Brown",age:18,address:"New York No. 1 Lake Park"},{id:"10101",name:"Joe Blackn",age:30,address:"Sydney No. 1 Lake Park"}];t(e)},2e3)},handlePageChange(e){this.media.skip=e,this.getMedia()},handlePageSizeChange(e){this.media.limit=e,this.getMedia()},openViewImage(e,t){let a=[];this.media.images[e]=t;for(const s in this.media.images)a.push(this.media.images[s]);this.$viewerApi({options:{keyboard:!1,fullscreen:!0},images:a})},getMedia(){this.http.get(l["b"]["service_myStorageQuota"],{}).then(e=>{const t=e.data;1===t.success&&(this.media.data=t.data)}).finally(()=>{})},getMediaList(){this.http.get(l["b"]["service_myFiles"],{params:{limit:this.media.limit,skip:this.media.skip-1}}).then(e=>{const t=e.data;1===t.success&&(t.data.map(e=>Object.assign(e,{_loading:!1,load:!1,size:this.onUnitConversion(e.size),children:[]})),this.media.list=t.data)}).finally(()=>{})},queryMediaDetail(e){this.media.selectFileId=e;for(let t=0;t<this.media.list.length;t++)this.media.list[t].filename==e&&(this.media.list[t].load=!0);for(let t=0;t<this.media.list.length;t++)if(this.media.list[t].filename==e){const e="https://bfban.gametools.network/api/service/file?filename="+this.media.list[t].filename;this.openViewImage(this.media.list[t].filename,e)}for(let t=0;t<this.media.list.length;t++)this.media.list[t].filename==e&&(this.media.list[t].load=!1)},getButtonType(e){const t=e.split(".").pop().toLowerCase();return["png","jpg","jpeg","gif"].includes(t)?"view":"zip"===t?"download":"default"},onUnitConversion(e){let t="";t=e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB";var a=t+"",s=a.indexOf("."),i=a.substr(s+1,2);return"00"==i?a.substring(0,s)+a.substr(s+3,2):t}},computed:{percentValue(){return Number((this.media.data.usedStorageQuota/this.media.data.totalStorageQuota*100).toFixed(2))}}},E=R,j=(a("d831"),Object(u["a"])(E,A,L,!1,null,null,null)),U=j.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[e.$store.state.configuration.voice?a("div",{staticClass:"voice"},e._l(e.voiceType,(function(t,s){return a("div",{key:s,class:[e.globalState?"":"disabled"]},[a("Row",{directives:[{name:"voice-button",rawName:"v-voice-button"}],staticClass:"voice-item profile-body",attrs:{gutter:10,type:"flex",align:"middle"}},[a("Col",[a("Checkbox",{on:{"on-change":function(a){return e.switchVoiceAttr(t.loaclValue,t)}},model:{value:t.state,callback:function(a){e.$set(t,"state",a)},expression:"i.state"}})],1),a("Col",{attrs:{span:"8"}},[a("b",{staticClass:"title"},[e._v(e._s(e.$t(t.name)))]),t.describe?a("p",{staticClass:"describe"},[e._v(e._s(e.$t(t.describe)))]):e._e()]),a("Col",{attrs:{flex:"1"}},[a("Slider",{attrs:{min:t.min,max:t.max,"show-input":"",disabled:!t.state},on:{"on-change":function(a){return e.switchVoiceAttr(t.loaclValue,t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"i.value"}})],1),t.voiceFileName?[a("Divider",{attrs:{type:"vertical"}}),a("Col",[a("Select",{model:{value:t.voiceFileName,callback:function(a){e.$set(t,"voiceFileName",a)},expression:"i.voiceFileName"}},e._l(e.voiceFiles,(function(t,s){return a("Option",{key:s,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+".mp4 ")])})),1)],1)]:e._e()],2),a("div",{staticClass:"voice-divider ivu-divider ivu-divider-horizontal"})],1)})),0):a("div",[a("p",[e._v("Disable Component")]),e._m(0)])])},G=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],K={name:"voice",data(){return{globalState:!0,voiceFiles:[{name:"dinDon"}],voiceType:{voice_message:{name:"profile.voice.message",describe:"profile.voice.messageDescribe",loaclValue:"voice_message",voiceFileName:"dinDon",value:80,min:0,max:150,state:!0},voice_interaction:{name:"profile.voice.interaction",describe:"profile.voice.interactionDescribe",loaclValue:"voice_interaction",value:40,min:0,max:150,state:!1},voice_backgroundMusic:{name:"profile.voice.backgroundMusic",describe:"profile.voice.backgroundMusicDescribe",loaclValue:"voice_backgroundMusic",value:60,min:0,max:150,state:!1},video_mp4:{name:"profile.voice.video",describe:"profile.voice.videoDescribe",loaclValue:"video_mp4",value:80,min:0,max:150,state:!1}}}},created(){for(let e in this.voiceType){let t=l["a"].getConfiguration(this.voiceType[e].loaclValue);this.voiceType[e].state=t?t.state:this.voiceType[e].state,this.voiceType[e].value=t?100*t.value:this.voiceType[e].value}},methods:{switchAll(e){for(let t in this.voiceType)this.voiceType[t].state=e,this.switchVoiceAttr("voice",e),this.switchVoiceAttr(this.voiceType[t].loaclValue,this.voiceType[t])},switchVoiceAttr(e,t){e&&l["a"].updateConfiguration(e,{state:t.state,value:.01*t.value})}}},Q=K,W=(a("a68a"),Object(u["a"])(Q,B,G,!1,null,null,null)),H=W.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[e.$store.state.configuration.history?[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{on:{"on-change":e.onCheckboxAll},model:{value:e.checkboxAll,callback:function(t){e.checkboxAll=t},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:e.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[a("Button",{attrs:{size:"small"},on:{click:e.getHisory}},[a("Icon",{class:[e.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},[e.list.length>0?e._l(e.list,(function(t,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:t.checkbox,callback:function(a){e.$set(t,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.avatarLink?a("Avatar",{attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):e._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("h2",{staticClass:"text-distinguishing-letter"},[a("router-link",{style:""==t.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+t.originPersonaId}}}},[a("code",[e._v(e._s(t.originName))])])],1)])],1),a("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:t.createTime}},[t.createTime?a("Time",{attrs:{time:t.createTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:t.updateTime}},[t.updateTime?a("Time",{attrs:{time:t.updateTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),a("TimeView",{attrs:{time:t.historyCreationTime}},[t.historyCreationTime?a("Time",{attrs:{time:t.historyCreationTime}}):e._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})):a("Empty")],2),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit,current:e.skip,total:e.total},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)],1)]:a("div",[a("p",[e._v("Disable Component")]),e._m(0)])],2)},q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],Z=a("95e3"),Y=a("6acc"),X=a("02bc"),ee={components:{TimeView:F["a"],Empty:X["a"]},data(){return{disable:!1,gameName:"all",games:Y.child,statusName:"-1",cheaterStatus:Z.child,checkboxAll:!1,load:!1,list:[],total:0,skip:1,limit:10}},created(){this.http=l["d"].call(this),this.getHisory()},methods:{async getHisory(){const{skip:e,limit:t}=this;let a=l["k"].get("viewed");if(this.list=[],0!=a.code&&!a.data.value)return;if(!this.$store.state.configuration.history)return;let s=Object.entries(a.data.value).sort((e,t)=>e[1]>t[1]?1:-1).slice((e-1)*t,e*t).map(e=>e[0]);this.load=!0,this.http.get(l["b"]["player_batch"],{params:{dbIds:s}}).then(e=>{const t=e.data;1==t.success&&(this.list=t.data.map(e=>a.data.value[e.id]?{...e,historyCreationTime:a.data.value[e.id]}:e).sort((e,t)=>t.historyCreationTime-e.historyCreationTime))}).finally(()=>{this.load=!1}),this.total=Object.entries(a.data.value).length},onScreening(e,t){let a=!1;return"all"!=this.gameName&&"-1"!=this.statusMethods||(a=!0),this.list[e].data[t].games&&this.list[e].data[t].games.includes(this.gameName)&&(a=!0),this.list[e].data[t].status==this.statusName&&(a=!0),a},onCheckboxAll(){let e=this.list;for(let t=0;t<e.length;t++)e[t]["checkbox"]=this.checkboxAll},onDelete(){let e=this.list,t=l["k"].get("viewed");0!=t.code&&t.data&&Object.keys(t.data.value)<=0&&(t={data:{value:{}}});for(let a=0;a<e.length;a++)e[a]["checkbox"]&&delete t.data.value[e[a]["id"]];Object.keys(t.data.value).length>=0&&(l["k"].set("viewed",t.data.value),this.getHisory())},handlePageSizeChange(e){this.limit=e,this.getHisory()},handlePageChange(e){this.skip=e,console.log("page",e),this.getHisory()}},computed:{}},te=ee,ae=(a("69fd"),Object(u["a"])(te,J,q,!1,null,"9309de5a",null)),se=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.configuration.subscribes?a("div",{staticClass:"profile-body"},[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{attrs:{disabled:e.list.length<=0},on:{"on-change":e.onCheckboxAll},model:{value:e.checkboxAll,callback:function(t){e.checkboxAll=t},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{disabled:e.list.length<=0,size:"small"},on:{click:e.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[e._v(" "+e._s(e.list.length)+" / 5000 "),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:e.getSubscribes}},[a("Icon",{class:[e.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},e._l(e.list,(function(t,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:t.checkbox,callback:function(a){e.$set(t,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[t.avatarLink?a("Avatar",{attrs:{src:t.avatarLink,alt:"avatar",size:"55"}}):e._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:e.$t("list.colums.playerId")}},[a("h2",{staticClass:"text-distinguishing-letter"},[a("router-link",{style:""==t.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+t.originPersonaId}}}},[a("code",[e._v(e._s(t.originName))])])],1)])],1),a("div",[e._v(" "+e._s(e.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:t.createTime}},[t.createTime?a("Time",{attrs:{time:t.createTime}}):e._e()],1),a("Divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:t.updateTime}},[t.updateTime?a("Time",{attrs:{time:t.updateTime}}):e._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[e._v(e._s(t.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})),0),e.list.length<=0?a("div",[e._v(e._s(e.$t("basic.tip.notContent")))]):e._e(),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":e.limit,current:e.skip,total:e.total},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)],1)],1):a("div",{staticClass:"profile-body"},[a("p",[e._v("Disable Component")]),e._m(0)])},oe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],re={components:{TimeView:F["a"]},data(){return{gameName:"all",games:Y.child,statusName:"-1",cheaterStatus:Z.child,load:!1,list:[],checkboxAll:!1,total:0,skip:1,limit:10}},created(){this.http=l["d"].call(this),this.getSubscribes()},methods:{getSubscribes(){const{skip:e,limit:t}=this;this.$store.state.configuration.subscribes&&(this.load=!0,this.http.post(l["b"]["user_subscribes"],{data:{skip:(e||1)-1,limit:t}}).then(e=>{const t=e.data;1==t.success&&(this.list=t.data,this.total=t.total)}).finally(()=>{this.load=!1}))},onCheckboxAll(){let e=this.list;for(let t=0;t<e.length;t++)this.list[t]["checkbox"]=this.checkboxAll},onDelete(){let e=this.list,t=e.filter(e=>e["checkbox"]).map(e=>e.id);t.length>0&&this.http.post(l["b"]["user_subscribes_delete"],{data:{playerIds:t}}).then(e=>{const a=e.data;1==a.success&&(this.list=this.list.filter(e=>!t.includes(e.id)))})},handlePageSizeChange(e){this.limit=e,this.getSubscribes()},handlePageChange(e){this.skip=e,this.getSubscribes()}},computed:{}},ne=re,le=(a("5330"),Object(u["a"])(ne,ie,oe,!1,null,"48a6990d",null)),ce=le.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-body"},[a("p",[e._v(e._s(e.$t("profile.exportAndImport.description")))]),a("br"),a("p",{staticClass:"hint"},[e._v(e._s(e.$t("profile.exportAndImport.hint1")))]),a("p",{staticClass:"hint"},[e._v(e._s(e.$t("profile.exportAndImport.hint2")))]),a("br"),a("Tabs",{attrs:{value:"export"}},[a("TabPane",{attrs:{label:"Export",name:"export"}},[a("Row",{attrs:{gutter:10}},[a("Col",[e._v(" Preset scheme: ")]),a("Col",[a("Select",{on:{"on-change":e.onChangePatternType},model:{value:e.patternTypeValue,callback:function(t){e.patternTypeValue=t},expression:"patternTypeValue"}},e._l(e.patternType,(function(t,s){return a("Option",{key:s,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1),a("br"),e.storageKeys.length>0?[a("div",[a("CheckboxGroup",{staticClass:"export-box",attrs:{disabled:e.selectGroup<=0},model:{value:e.selectGroup,callback:function(t){e.selectGroup=t},expression:"selectGroup"}},e._l(e.storageKeys,(function(t,s){return a("Card",{key:s,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Row",[a("Col",{staticClass:"export-card-name",attrs:{flex:"1"}},[a("Checkbox",{attrs:{label:t.name}},[e._v(e._s(t.name))])],1)],1)],1)})),1)],1),a("Divider",{attrs:{dashed:""}}),a("Button",{attrs:{long:"",loading:e.generatedZipLoad,disabled:e.selectGroup.length<=0},on:{click:e.onExport}},[e._v(" Export ("+e._s(e.selectGroup.length||0)+") ")])]:a("Card",{attrs:{"dis-hover":""}},[a("Empty")],1)],2),a("TabPane",{attrs:{label:"Import",name:"import"}},[a("Card",{staticClass:"ivu-upload-select",attrs:{"dis-hover":"",padding:2}},[a("input",{staticClass:"ivu-upload-input",attrs:{type:"file",id:"file",name:"file",multiple:""},on:{change:e.onImportPreparation}}),a("br")]),a("p",[a("br")]),e.importPreparation.length>0?[a("CheckboxGroup",{staticClass:"export-box",model:{value:e.selectImportPreparationGroup,callback:function(t){e.selectImportPreparationGroup=t},expression:"selectImportPreparationGroup"}},e._l(e.importPreparation,(function(t,s){return a("Card",{key:s,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Checkbox",{attrs:{label:t.name}},[e._v(e._s(t.name))]),a("p",[a("br")]),a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("Select",{attrs:{size:"small"},model:{value:t.operationTypeValue,callback:function(a){e.$set(t,"operationTypeValue",a)},expression:"i.operationTypeValue"}},e._l(e.operationType,(function(t,s){return a("Option",{key:s,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("Col",[t.isExists?a("span",{staticStyle:{color:"red"}},[a("Icon",{attrs:{type:"md-alert"}}),e._v("Exists ")],1):e._e()])],1)],1)})),1)]:a("Card",{attrs:{"dis-hover":""}},[a("Empty")],1),a("Divider",{attrs:{dashed:""}}),a("Button",{attrs:{long:"",disabled:e.selectImportPreparationGroup.length<=0},on:{click:e.onImport}},[e._v("Import")])],2)],1)],1)},me=[],ue=(a("5b81"),a("617b")),pe=a("c4e3"),he=a.n(pe),ge=a("be4b"),fe=a.n(ge),ve=a("9224"),be=new _["a"]({name:"exportAndImport",data(){return{generatedZipLoad:!1,selectGroup:[],storageKeys:[],primitiveStorageKeys:[],operationType:["cover","inherit"],patternType:["user","system"],patternTypeValue:"",selectImportPreparationGroup:[],importPreparation:[]}},components:{HtmlWidget:ue["a"],Empty:X["a"]},created(){this.getLocaleAppKeys(),he.a.support.blob||this.$Message.error("This demo works only with a recent browser !")},methods:{onChangePatternType(e){const t=ve.name.toLowerCase();switch(e){case"user":this.selectGroup=[t+".development:user.player",t+".development:user.configuration",t+".development:user.subscribes",t+".development:search.history",t+".development:customReply",t+".development:viewed"];break;case"system":this.selectGroup=[t+".development:language",t+".development:theme"];break;default:this.selectGroup=[];break}},getLocaleAppKeys(){const e=l["k"].keys(),t=[];this.primitiveStorageKeys=e;for(const a in e){let s=e[a];const i=a.split(":"),o=i[0],r=i[1];o&&r&&(a.indexOf(l["k"].STORAGENAME)>=0&&(s=Object.assign(JSON.parse(s),{name:a}),t.push(s)))}this.storageKeys=t},onExport(){try{if(!this.isLogin||this.selectGroup.length<=0)return;const t=this,a=new he.a;let s={};for(const i of this.storageKeys){var e;this.selectGroup.indexOf(i.name)>=0&&(s[i.name]={size:null!==(e=i.value.length)&&void 0!==e?e:0,name:i.name,path:"data/"+i.name+".json"})}a.file("dictionary.json",JSON.stringify(s)),a.folder("data");for(const e of this.storageKeys)this.selectGroup.indexOf(e.name)>=0&&a.file("data/"+e.name+".json",JSON.stringify(e.value));t.generatedZipLoad=!0,a.generateAsync({type:"blob"}).then((function(e){t.generatedZipLoad=!1,fe()(e,`${t.currentUser.userinfo.userId}@${new URL(location).hostname}.zip`)})),this.selectGroup=[]}catch(t){this.$Message.error(t)}},onImportPreparation(e){const t=e.target.files,a=this;this.importPreparation=[],this.selectImportPreparationGroup=[];for(var s=0;s<t.length;s++)he.a.loadAsync(t[s]).then((function(e){let t=e;t.files["dictionary.json"]||a.$Message.error("This is not the intended package, please check if it is exported from the website\n"),t.folder("data").forEach((function(t,s){e.file(s.name).async("text").then(e=>{const s=t.split(":")[1].replaceAll(".json",""),i=0===l["k"].get(s).code;a.importPreparation.push({name:t.replaceAll(".json",""),value:e,isExists:i,operationTypeValue:a.operationType[0]})})}))}),(function(e){a.importPreparation=[],a.selectImportPreparationGroup=[],a.$Message.error(e)}))},onImport(){try{if(!this.isLogin)return;this.importPreparation.forEach(async e=>{var t;let a,s,i;if(this.selectImportPreparationGroup.indexOf(e.name)>=0)switch(e.operationTypeValue){case"cover":a=JSON.parse(e.value);break;case"inherit":if(i=await(null===(t=l["k"].get(e.name.split(":")[1]))||void 0===t?void 0:t.data.value),s=JSON.parse(e.value),s.constructor===Array)a=i.concat(s);else{if(s.constructor!==Object)return void this.$Message.error("Supported type. Change the mode\n");a=Object.assign(i,s)}break;default:break}l["k"].set(e.name.split(":")[1],a)}),this.$Message.success("ok")}catch(e){this.$Message.error(e)}}}}),we=be,_e=(a("8b56"),Object(u["a"])(we,de,me,!1,null,"2ad7b76c",null)),ye=_e.exports,xe=new _["a"]({name:"profile",data(){return{privileges:[],menuValue:"account",menu:[{title:"基础",name:"0",child:[{title:"account",name:"information",icon:"md-person"},{title:"appearance",name:"appearance",icon:"ios-color-palette"},{title:"chat",name:"chat",icon:"md-mail"},{title:"media",name:"media",icon:"md-folder"},{title:"voice",name:"voice",icon:"md-musical-note",configurationKey:"voice",configurationValue:this.$store.state.configuration.voice||!1},{title:"history",name:"history",icon:"md-filing",configurationKey:"history",configurationValue:this.$store.state.configuration.history||!1},{title:"subscribes",name:"subscribes",icon:"md-notifications",configurationKey:"subscribes",configurationValue:this.$store.state.configuration.subscribes||!1},{title:"enhance",name:"enhance",icon:"md-code-download",configurationKey:"enhance",configurationValue:this.$store.state.configuration.enhance||!1},{title:"exportAndImport",name:"exportAndImport",icon:"md-folder"}]}]}},components:{appearance:h,information:k,chat:I["a"],enhance:z,media:U,voice:H,history:se,subscribes:ce,exportAndImport:ye,PrivilegesTag:o["a"],UserAvatar:b["a"]},created(){const{pagename:e}=this.$route.params;void 0!=e?this.onMenuActive(e):this.onMenuActive("account")},methods:{onMenuActive(e){this.menuValue=e,this.$router.push({name:"profile",params:{pagename:e}})},switchAttr(e,t){l["a"].updateConfiguration(e,t)}}}),Ce=xe,ke=(a("a4ca"),Object(u["a"])(Ce,s,i,!1,null,null,null));t["default"]=ke.exports},"83c2":function(e,t,a){},"8b56":function(e,t,a){"use strict";a("fe2f")},"95e3":function(e){e.exports=JSON.parse('{"title":"cheaterStatus","child":[{"value":0,"class":"green","values":["0"]},{"value":5,"class":"#535353","values":["5"]},{"value":6,"class":"#FF6E40","values":["6"]},{"value":1,"class":"red","values":["1"]},{"value":2,"class":"green","values":["2"]},{"value":3,"class":"warning","values":["3"]},{"value":4,"class":"grey","values":["4"]},{"value":8,"class":"green","values":["8"]},{"value":9,"class":"green","values":["9"]}]}')},"95f9":function(e,t,a){},"98d0":function(e,t,a){},a262:function(e,t,a){},a4ca:function(e,t,a){"use strict";a("cd36")},a68a:function(e,t,a){"use strict";a("83c2")},a785:function(e,t,a){},b8e9:function(e,t,a){},be4b:function(e,t,a){
/*! FileSaver.js
 *  A saveAs() FileSaver implementation.
 *  2014-01-24
 *
 *  By Eli Grey, http://eligrey.com
 *  License: X11/MIT
 *    See LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/main/FileSaver.js */
var s=s||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,a=function(){return e.URL||e.webkitURL||e},s=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!e.externalHost&&"download"in i,r=e.webkitRequestFileSystem,n=e.requestFileSystem||r||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},c="application/octet-stream",d=0,m=[],u=function(){var e=m.length;while(e--){var t=m[e];"string"===typeof t?s.revokeObjectURL(t):t.remove()}m.length=0},p=function(e,t,a){t=[].concat(t);var s=t.length;while(s--){var i=e["on"+t[s]];if("function"===typeof i)try{i.call(e,a||e)}catch(o){l(o)}}},h=function(s,l){var u,h,g,f=this,v=s.type,b=!1,w=function(){var e=a().createObjectURL(s);return m.push(e),e},_=function(){p(f,"writestart progress write writeend".split(" "))},y=function(){!b&&u||(u=w(s)),h?h.location.href=u:window.open(u,"_blank"),f.readyState=f.DONE,_()},x=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},C={create:!0,exclusive:!1};if(f.readyState=f.INIT,l||(l="download"),o){u=w(s),t=e.document,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i.href=u,i.download=l;var k=t.createEvent("MouseEvents");return k.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(k),f.readyState=f.DONE,void _()}e.chrome&&v&&v!==c&&(g=s.slice||s.webkitSlice,s=g.call(s,0,s.size,c),b=!0),r&&"download"!==l&&(l+=".download"),(v===c||r)&&(h=e),n?(d+=s.size,n(e.TEMPORARY,d,x((function(e){e.root.getDirectory("saved",C,x((function(e){var t=function(){e.getFile(l,C,x((function(e){e.createWriter(x((function(t){t.onwriteend=function(t){h.location.href=e.toURL(),m.push(e),f.readyState=f.DONE,p(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach((function(e){t["on"+e]=f["on"+e]})),t.write(s),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING})),y)})),y)};e.getFile(l,{create:!1},x((function(e){e.remove(),t()})),x((function(e){e.code===e.NOT_FOUND_ERR?t():y()})))})),y)})),y)):y()},g=h.prototype,f=function(e,t){return new h(e,t)};return g.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,e.addEventListener("unload",u,!1),f.unload=function(){u(),e.removeEventListener("unload",u,!1)},f}}("undefined"!==typeof window&&window||this.content);e.exports=s},cd36:function(e,t,a){},d831:function(e,t,a){"use strict";a("b8e9")},dd3f:function(e,t,a){},e57e:function(e,t,a){"use strict";a("dd3f")},e9d6:function(e,t,a){e.exports=a.p+"assets/img/open-component.cf603f01.png"},f910:function(e,t,a){"use strict";a("98d0")},fe2f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-61f210b2.2.9.13.js.map