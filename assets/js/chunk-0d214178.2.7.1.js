(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d214178"],{"02bc":function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",[t._v(" "+t._s(t.$t("basic.tip.notcontent"))+" ")])},i=[],r={name:"Empty"},o=r,n=a("2877"),l=Object(n["a"])(o,e,i,!1,null,"82087c98",null);s["a"]=l.exports},1684:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("br"),s("Row",[s("Col",{attrs:{xs:{push:1},lg:{push:0}}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:{name:"home"}}},[t._v(t._s(t.$t("header.index")))]),s("BreadcrumbItem",[t._v(t._s(t.$t("sitestats.title")))])],1)],1)],1),s("br"),s("Col",[s("Card",{attrs:{padding:0,"dis-hover":""}},[s("Button",{staticClass:"sitestats-loading",on:{click:t.loadData}},[s("Icon",{attrs:{type:"ios-loading"}})],1),s("v-chart",{staticClass:"chart",attrs:{option:t.chart.stats}})],1),t.load?s("Spin",{attrs:{size:"large",fix:""}}):t._e()],1),s("br"),s("Card",{attrs:{"dis-hover":""}},[s("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[t._v(" "+t._s(t.statistics.reports||0)+" ")]),s("span",[t._v(t._s(t.$t("sitestats.reports")))])]),s("Divider",{staticClass:"mobile-hide",attrs:{type:"vertical"}}),s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[s("Badge",{attrs:{color:t.chart.stats.color[0]}}),t._v(t._s(t.statistics.players||0))],1),t._v(" "+t._s(t.$t("sitestats.players"))+" ")]),s("Divider",{staticClass:"mobile-hide",attrs:{type:"vertical"}}),s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[t._v(t._s(t.statistics.banAppeals||0))]),t._v(" "+t._s(t.$t("sitestats.banAppeals"))+" ")]),s("Divider",{staticClass:"mobile-hide",attrs:{type:"vertical"}}),s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[s("Badge",{attrs:{color:t.chart.stats.color[2]}}),t._v(t._s(t.statistics.registers||0))],1),s("span",[t._v(t._s(t.$t("sitestats.registers")))])]),s("Divider",{staticClass:"mobile-hide",attrs:{type:"vertical"}}),s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[s("Badge",{attrs:{color:t.chart.stats.color[1]}}),t._v(t._s(t.statistics.confirmed||0))],1),s("span",[t._v(t._s(t.$t("sitestats.confirmed")))])]),s("Divider",{staticClass:"mobile-hide",attrs:{type:"vertical"}}),t.admins?s("Col",{attrs:{xs:{span:12},lg:{span:3}}},[s("h2",[t._v(t._s(t.admins||0))]),t._v(" "+t._s(t.$t("sitestats.admins"))+" ")]):t._e()],1)],1),s("br"),s("div",[s("Row",{attrs:{gutter:20}},[s("Col",[s("RadioGroup",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small",type:"button"},on:{"on-change":t.getActiveStatistical},model:{value:t.timeRange,callback:function(s){t.timeRange=s},expression:"timeRange"}},t._l(t.timeArray,(function(a,e){return s("Radio",{key:e,attrs:{label:a.name,value:a.value}},[t._v(t._s(t.$t("sitestats.timeRange."+a.name)))])})),1)],1)],1)],1),s("br"),s("Row",{attrs:{gutter:20}},[s("Col",{attrs:{x:{span:24},lg:{span:8}}},[s("Card",{attrs:{"dis-hover":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("sitestats.communityParticipation")))]),t.active.community.length>0?s("ol",{staticClass:"sitestats-ul"},t._l(t.active.community,(function(a,e){return s("li",{key:e},[s("Row",[s("Col",{attrs:{flex:"1"}},[s("businessCard",{attrs:{id:a.id}},[s("router-link",{attrs:{to:{name:"account",params:{uId:a.id}}}},[t._v(t._s(a.username))])],1)],1),s("Col",[t._v(t._s(a.total.toFixed(2)||0))])],1)],1)})),0):s("Empty"),s("Spin",{directives:[{name:"show",rawName:"v-show",value:t.active.load,expression:"active.load"}],attrs:{size:"large",fix:""}},[s("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],1)],1),s("Col",{attrs:{x:{span:24},lg:{span:8}}},[s("Card",{attrs:{"dis-hover":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("sitestats.reportRanking")))]),t.active.report.length>0?s("ol",{staticClass:"sitestats-ul"},t._l(t.active.report,(function(a,e){return s("li",{key:e},[s("Row",[s("Col",{attrs:{flex:"1"}},[s("businessCard",{attrs:{id:a.id}},[s("router-link",{attrs:{to:{name:"account",params:{uId:a.id}}}},[t._v(t._s(a.username))])],1)],1),s("Col",[t._v(t._s(a.total.toFixed(0)||0))])],1)],1)})),0):s("Empty"),s("Spin",{directives:[{name:"show",rawName:"v-show",value:t.active.load,expression:"active.load"}],attrs:{size:"large",fix:""}},[s("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],1)],1)],1)],1)])},i=[],r=(a("14d9"),a("890e")),o=a("02bc"),n=a("6ea1"),l=a("e4b4"),c=new r["a"]({data(){return{load:!0,statistics:{},admins:0,chart:{stats:{color:["#fff13c","#401486","#ed4014"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#f2f2f2",color:"#535353"}}},xAxis:{type:"time",boundaryGap:!0,splitLine:{show:!1}},yAxis:{type:"value",boundaryGap:[0,"30%"],splitLine:{show:!1}},series:[],grid:{x:-1,y:-1,x2:0,y2:30}}},chartConf:{array:[{name:"players",valName:"playerStats",lineColor:"#fff13c"},{name:"confirmed",valName:"confirmStats",lineColor:"#401486"},{name:"registers",valName:"userStats",lineColor:"#ed4014"}]},timeArray:[{name:"daily",value:"daily"},{name:"weekly",value:"weekly"},{name:"monthly",value:"monthly"}],timeRange:"weekly",isIncludingRobots:!0,active:{load:!0}}},components:{businessCard:n["a"],Empty:o["a"]},created(){this.loadData()},methods:{async loadData(){this.init(),this.load=!0,await this.getSiteStats(),await this.getStatisticsInfo(),await this.getActiveStatistical(),setTimeout(()=>{this.load=!1},1e3)},init(){this.chart["stats"].series=[],this.chartConf.array.map(t=>{this.chart["stats"].series.push({name:this.$i18n.t("sitestats."+t.name),valName:t.valName,type:"line",smooth:!0,symbol:"none",stack:"Total",showSymbol:!0,lineStyle:{color:t.lineColor,width:2},markLine:{symbol:["none","none"],label:{show:!1},data:[{xAxis:1},{xAxis:3},{xAxis:5},{xAxis:7}]},areaStyle:{opacity:1,color:t.lineColor},data:[]})})},getActiveStatistical(){this.active.load=!0,l["c"].get("/activeStatistical",{params:{isBot:this.isIncludingRobots,time:this.timeRange,report:!0,community:!0}}).then(t=>{const s=t.data;1==s.success&&(this.active=Object.assign(this.active,s.data))}).finally(()=>{this.active.load=!1})},async getSiteStats(){l["c"].get(l["b"]["siteStats"],{}).then(t=>{const s=t.data;if(1==s.success)for(const a in s.data)this.chart["stats"].series.filter(t=>{t.valName==a&&s.data[a].forEach(s=>{t.data.push([s.time,s.num])})})}).catch(t=>{this.$Message.error(t.message)})},getStatisticsInfo(){l["c"].get(l["b"]["statistics"],{params:{reports:!0,players:!0,confirmed:!0,registers:!0,banAppeals:!0,admins:!0,from:15147648e5}}).then(t=>{const s=t.data;1==s.success&&(this.statistics=s.data)}).finally(()=>{this.getAdmins()})},getAdmins(){l["c"].get(l["b"]["admins"],{}).then(t=>{const s=t.data;1==s.success&&(this.admins=s.data.length)})}}}),d=c,m=(a("544d"),a("2877")),p=Object(m["a"])(d,e,i,!1,null,"273b6d26",null);s["default"]=p.exports},"544d":function(t,s,a){"use strict";a("54f6")},"54f6":function(t,s,a){}}]);
//# sourceMappingURL=chunk-0d214178.2.7.1.js.map