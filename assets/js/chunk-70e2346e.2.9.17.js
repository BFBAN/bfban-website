(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70e2346e","chunk-2d0e5d80","chunk-2d0da581"],{"0031":function(t,e,a){},"0626":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Poptip",{attrs:{width:300,trigger:t.trigger,transfer:"",disabled:t.disabled,padding:"0"}},[a("span",{staticClass:"achievement-view-slot"},[t._t("default")],2),a("div",{staticClass:"achievement-view",attrs:{slot:"content"},slot:"content"},[a("Banner",{attrs:{height:160}},[a("div",{attrs:{align:"center"}},[t.achievementInfo.iconPath?a("Avatar",{attrs:{size:50,shape:"square",src:t.achievementUtil.getIcon(t.achievementInfo.iconPath),width:"35px",height:"35px"}}):t._e()],1),a("h3",{staticClass:"achievement-view-body achievement-view-title"},[a("Row",{attrs:{gutter:10,type:"flex",align:"middle"}},[a("Col",[a("b",{attrs:{title:t.achievementInfo.value}},[t._v(t._s(t.$t("profile.achievement.list."+t.achievementInfo.value+".name")))])]),a("Col",[t.achievementInfo.rarity?a("Tag",{attrs:{type:"border",color:t.achievements.raritys[t.achievementInfo.rarity].class}},[t._v(" "+t._s(t.$t("profile.achievement.rarity."+t.achievementInfo.rarity))+" ")]):t._e(),t.time?a("Tag",{attrs:{type:"border"}},[t._v(" "+t._s(t.$t("profile.achievement.acquisitionTime"))+" "),a("TimeView",{attrs:{time:t.time}},[a("Time",{attrs:{time:t.time}})],1)],1):t._e()],1)],1)],1)]),a("div",{staticClass:"achievement-view-body"},[a("p",{staticClass:"achievement-view-description"},[t._v(t._s(t.$t("profile.achievement.list."+t.achievementInfo.value+".description")))]),a("p",[a("b",[t._v(t._s(t.$t("profile.achievement.conditions")))])]),a("p",{staticClass:"achievement-view-conditions",domProps:{innerHTML:t._s(t.$t("profile.achievement.list."+t.achievementInfo.value+".conditions"))}}),t.achievementInfo.acquisition&&t.achievementInfo.acquisition.indexOf("active")>=0&&t.activeButton&&!t.onlyShow?[a("Button",{attrs:{long:"",ghost:"",type:"primary",loading:t.load},on:{click:function(e){return t.onActiveAchievement(t.achievementInfo.value)}}},[t._v(" "+t._s(t.$t("profile.achievement.getButton"))+" ")])]:t._e()],2)],1)])},i=[],o=a("e4b4"),n=a("2ec1"),r=a("84af"),l=a("9648"),c={props:{disabled:{type:Boolean,default:!1},trigger:{type:String,default:"click"},onlyShow:{type:Boolean,default:!1},time:{type:[String,Number],default:""},id:{type:String,default:""}},data(){return{achievementUtil:o["b"],achievements:n,load:!1,activeButton:!0,achievementInfo:{acquisition:[]}}},components:{Banner:r["a"],TimeView:l["a"]},created(){this.getCurrentAchievementInfo(this.id)},methods:{async onActiveAchievement(t){t&&!this.load&&(this.load=!0,await o["b"].onActiveAchievement(t).then(t=>{const e=t.data;if(1===e.success)return this.activeButton=!1,void this.$Message.success(this.$t(`basic.tip['${e.code}']`));this.$Message.error(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}))}).finally(()=>{this.load=!1}))},getCurrentAchievementInfo(t){t&&(this.achievementInfo=o["b"].getItem(t))}}},d=c,m=(a("fd2d"),a("2877")),u=Object(m["a"])(d,s,i,!1,null,"76508ac4",null);e["a"]=u.exports},"115d":function(t,e,a){"use strict";a("4faa")},"11fd":function(t,e,a){},1352:function(t,e,a){},"1e1c":function(t,e,a){},"22ca":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"confettiContainer",on:{dblclick:t.stopAnimation}},[t._t("default")],2)},i=[],o={name:"Confetti",props:{switch:{type:Boolean,default:!0},x:{type:[Number],default:0},y:{type:[Number],default:0},emojis:[Array],emojiCount:{type:Number,default:100}},data(){return{animation:[]}},watch:{switch:{handler(t){t&&this.animation.length<=0&&this.generateConfetti()}}},mounted(){this.switch&&this.generateConfetti()},methods:{stopAnimation(){if(this.animation)for(let t=0;t<this.animation.length;t++)clearTimeout(this.animation[t])},generateConfetti(){let t=["🎉","🎊","🎈","🎁","🎀"].concat(this.emojis||[]);if(this.$refs.confettiContainer)for(let e=0;e<this.emojiCount;e++)this.animation.push(setTimeout(()=>{var e,a,s;let i=t[Math.floor(Math.random()*t.length)],o=Math.floor(Math.random()*(null===(e=this.$refs.confettiContainer)||void 0===e?void 0:e.offsetWidth)||0)-this.x,n=Math.floor(Math.random()*(null===(a=this.$refs.confettiContainer)||void 0===a?void 0:a.offsetHeight)||0)-this.y,r=document.createElement("span");r.style.position="absolute",r.style.left=o+"px",r.style.top=n+"px",r.style.fontSize="30px",r.style.opacity="0",r.style.transition="all 0.5s",r.innerText=i,null===(s=this.$refs.confettiContainer)||void 0===s||s.appendChild(r),setTimeout(()=>{r.style.opacity=1},50),setTimeout(()=>{r.style.opacity=0,setTimeout(()=>{r.remove()},100)},1e3)},100*e))}}},n=o,r=a("2877"),l=Object(r["a"])(n,s,i,!1,null,null,null);e["a"]=l.exports},"23fb":function(t,e,a){"use strict";a("11fd")},2526:function(t,e,a){"use strict";a("5e0b")},"296c":function(t,e,a){"use strict";a("95f9")},"32b1":function(t,e,a){},3329:function(t,e,a){},"3e1f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("Row",[a("Col",{attrs:{xs:{push:1},lg:{push:0}}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{name:"home"}}},[t._v(t._s(t.$t("header.index")))]),a("BreadcrumbItem",[t._v(t._s(t.$t("header.profile")))])],1)],1)],1),a("br"),a("Card",{attrs:{"dis-hover":"",padding:0}},[a("Row",[a("Col",{attrs:{xs:{span:24},sm:{span:6}}},[a("Menu",{staticClass:"profile-menu",attrs:{width:"100%",mode:t.isMobile?"horizontal":"vertical","active-name":t.menuValue},on:{"on-select":t.onMenuActive}},[t._l(t.menu,(function(e,s){return a("div",{key:s},t._l(e.child,(function(e,s){return a("MenuItem",{key:s,attrs:{name:e.name}},[a("Row",{attrs:{gutter:10}},[a("Col",{style:e.configurationKey?"opacity:"+(e.configurationValue?"1":".3"):"",attrs:{flex:"1"}},[e.icon?a("Icon",{attrs:{type:e.icon,size:"20"}}):t._e(),t._v(" "+t._s(t.$t("profile."+e.title+".title"))+" ")],1),a("Col",[e.configurationKey?a("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":function(a){return t.switchAttr(e.configurationKey,e.configurationValue)}},model:{value:e.configurationValue,callback:function(a){t.$set(e,"configurationValue",a)},expression:"j.configurationValue"}}):t._e()],1)],1)],1)})),1)})),a("MenuGroup",[a("MenuItem",{attrs:{name:"userCenter",to:{name:"space",params:{uId:""+t.currentUser.userinfo.userId}}}},[t._v(" "+t._s(t.$t("header.userCenter"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1),t.isAdmin?a("MenuItem",{attrs:{name:"admin",to:{name:"admin",params:{pagename:"home"}}}},[t._v(" "+t._s(t.$t("profile.admin.title"))+" "),a("Icon",{attrs:{type:"ios-link"}})],1):t._e()],1)],2)],1),a("Col",{staticClass:"profile-right-content",attrs:{xs:{span:24},sm:{span:18}}},["information"==t.menuValue?a("information"):t._e(),"achievement"==t.menuValue?a("achievement"):t._e(),"reports"==t.menuValue?a("reports"):t._e(),"appearance"==t.menuValue?a("appearance"):t._e(),"chat"==t.menuValue?a("chat"):t._e(),"enhance"==t.menuValue?a("enhance"):t._e(),"media"==t.menuValue?a("media"):t._e(),"voice"==t.menuValue?a("voice"):t._e(),"history"==t.menuValue?a("history"):t._e(),"subscribes"==t.menuValue?a("subscribes"):t._e(),"exportAndImport"==t.menuValue?a("exportAndImport"):t._e()],1)],1)],1),a("br")],1)},i=[],o=a("e4b4"),n=a("d78a"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tabs",{staticClass:"achievement",attrs:{value:"1"}},[a("TabPane",{attrs:{label:t.$t("profile.achievement.title"),name:"1"}},[a("Banner",{staticClass:"achievement-banner",attrs:{height:200}},[a("Form",{staticClass:"profile-body",attrs:{"label-position":"top"}},[a("Row",{attrs:{gutter:10}},[a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24},lg:{span:14}}},[a("UserAvatar",{attrs:{src:t.userAchievementsInfo.userAvatar,size:45}}),a("h1",[t._v(t._s(t.userAchievementsInfo.username||"username"))])],1),a("Col",{attrs:{xs:{span:12},lg:{span:5}}},[a("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[a("Icon",{attrs:{type:"md-color-wand",size:"25"}}),a("span",{staticClass:"achievement-banner-title"},[t._v(t._s(t.$t("profile.achievement.exp")))])]},proxy:!0}])},[a("span",{staticClass:"achievement-banner-value"},[t._v(t._s(t.userAchievementsInfo.userAchievementExp||0))])])],1),a("Col",{attrs:{xs:{span:12},lg:{span:5}}},[a("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[a("Icon",{attrs:{type:"md-trophy",color:"#FFC107",size:"25"}}),t.userAchievementsInfo.isPublicAchievement?t._e():a("Icon",{attrs:{type:"md-eye-off",size:"25"}}),a("span",{staticClass:"achievement-banner-title"},[t._v(t._s(t.$t("profile.achievement.owned")))])]},proxy:!0}])},[a("div",{staticClass:"achievement-banner-value"},[t.userAchievementsInfo.achievements?a("AchievementsTag",{attrs:{data:t.userAchievementsInfo.achievements,"max-overflow":3,size:"25px"}}):t._e()],1)])],1)],1)],1)],1),a("div",{staticClass:"profile-body"},[t._l(t.achievements.child.filter((function(t){return!t.isHidden})),(function(e,s){return a("Row",{key:s,staticClass:"achievement-item",attrs:{gutter:20}},[a("Col",{staticStyle:{width:"30%"},attrs:{flex:"1"}},[a("AchievementView",{attrs:{id:e.value,disabled:e.child&&e.child.length>0}},[a("h3",[a("b",[e.child?[t._v(t._s(t.$t("profile.achievement.list."+e.value+".name")))]:[a("u",[t._v(t._s(t.$t("profile.achievement.list."+e.value+".name")))])]],2)]),e.child?a("p",{staticClass:"description",domProps:{innerHTML:t._s(t.$t("profile.achievement.list."+e.value+".description"))}}):t._e(),a("p",{staticClass:"conditions"},[e.child?t._e():a("span",{domProps:{innerHTML:t._s(t.$t("profile.achievement.list."+e.value+".conditions"))}})]),e.child?t._e():[a("Tag",{attrs:{type:"border",color:t.achievements.raritys[e.rarity].class}},[t._v(" "+t._s(t.$t("profile.achievement.rarity."+e.rarity))+" ")])],e.unlock?a("Tag",{attrs:{type:"border"}},[t._v(" "+t._s(t.$t("profile.achievement.acquisitionTime"))+" "),a("TimeView",{attrs:{time:e.unlock.acquisitionTime}},[a("Time",{attrs:{time:e.unlock.acquisitionTime}})],1)],1):t._e()],2)],1),a("Col",{staticStyle:{width:"70%"}},[a("Card",{attrs:{"dis-hover":""}},[e.child?[a("Steps",{attrs:{size:"small"}},[t._l(e.child.slice(0,3),(function(e,s){return a("Step",{key:s,scopedSlots:t._u([e.iconPath?{key:"icon",fn:function(){return[a("img",{attrs:{src:t.achievementUtil.getIcon(e.iconPath),width:"25px",height:"25px"}})]},proxy:!0}:null,{key:"title",fn:function(){return[a("AchievementView",{attrs:{id:e.value}},[a("b",[a("u",[t._v(t._s(t.$t("profile.achievement.list."+e.value+".name")))])])])]},proxy:!0}],null,!0)},[a("p",{staticStyle:{"max-width":"100px"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("profile.achievement.list."+e.value+".description")))])])})),e.child.length>3?a("div",{staticClass:"more"},[a("Poptip",{attrs:{slot:"content",transfer:"",width:"300"},slot:"content"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"md-more",size:"20"}})],1),a("Steps",{attrs:{slot:"content",direction:"vertical"},slot:"content"},t._l(e.child.slice(3,e.child.length),(function(e,s){return a("Step",{key:s},[e.iconPath?a("img",{attrs:{slot:"icon",src:t.achievementUtil.getIcon(e.iconPath),width:"25px",height:"25px"},slot:"icon"}):t._e(),a("b",{attrs:{slot:"title"},slot:"title"},[a("AchievementView",{attrs:{id:e.value}},[t._v(" "+t._s(t.$t("profile.achievement.list."+e.value+".name"))+" ")])],1),a("p",{staticStyle:{"max-width":"100px"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("profile.achievement.list."+e.value+".description")))])])})),1)],1)],1):t._e()],2)]:[a("Steps",{attrs:{size:"small"}},[a("Step",[a("Icon",{attrs:{slot:"icon",type:"md-radio-button-off"},slot:"icon"}),a("span",{attrs:{slot:"title"},slot:"title"}),a("span",{attrs:{slot:"content"},slot:"content"})],1),a("Step",[e.iconPath?a("div",{attrs:{slot:"icon"},slot:"icon"},[a("AchievementView",{attrs:{id:e.value}},[a("img",{attrs:{src:t.achievementUtil.getIcon(e.iconPath),width:"25px",height:"25px"}})])],1):t._e(),e.child?t._e():a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("profile.achievement.list."+e.value+".name")))]),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v(t._s(t.$t("profile.achievement.list."+e.value+".description")))])])])],1)]],2)],1)],1)})),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],2)],1)],1)},l=[],c=a("2ec1"),d=a("0626"),m=a("fb1c"),u=a("84af"),p=a("808f"),h=a("9648"),f={data(){return{achievementUtil:o["b"],achievements:c,load:!1,userAchievementsInfo:{}}},components:{AchievementView:d["a"],AchievementsTag:m["a"],UserAvatar:p["a"],TimeView:h["a"],Banner:u["a"]},created(){this.http=o["f"].call(this),this.getUserAchievement()},methods:{getUserAchievement(){this.load=!0,this.http.get(o["c"]["account_achievements"]).then(t=>{const e=t.data;if(1===e.success){this.userAchievementsInfo=e.data;for(let t in Object.entries(this.userAchievementsInfo.achievements)){let e=Object.entries(this.userAchievementsInfo.achievements)[t];const a=e[1],s=e[0];for(let t=0;t<this.achievements.child.length;t++){let e=this.achievements.child[t];e.child||e.value!==s?e.child&&e.child.filter(t=>{t.value===s&&(e.unlock={key:s,acquisitionTime:a})}):e.unlock={key:s,acquisitionTime:a}}}}}).finally(()=>{this.load=!1})}}},g=f,v=(a("2526"),a("2877")),b=Object(v["a"])(g,r,l,!1,null,null,null),y=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tabs",[a("TabPane",{attrs:{label:t.$t("profile.reports.title")}},[a("div",{staticClass:"profile-body"},[a("Row",[a("Col",{staticStyle:{width:"100%"},attrs:{xm:{span:24},lg:{span:24}}},[a("Card",{attrs:{"dis-hover":"",padding:0}},[a("Reports",{attrs:{data:t.report.data}}),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],1),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{"show-total":"","page-size":t.limit,current:t.page,total:t.total,size:"small"},on:{"on-change":t.getMyReports}})],1)],1)],1)],1)],1)])],1)},_=[],x=a("ad43"),C=a("eb8a"),I=a("02bc"),k=a("22ca"),$=a("7e56"),T=new x["a"]({data(){return{load:!1,report:{data:[]},limit:40,page:1,total:0}},watch:{$route:"loadData"},components:{Empty:I["a"],UserAvatar:p["a"],cheaterStatusView:C["a"],TimeView:h["a"],Confetti:k["a"],Reports:$["a"]},created(){this.http=o["f"].call(this),this.getMyReports()},methods:{getMyReports(t){this.load=!0,o["e"].get(o["c"]["user_reports"],{params:{id:this.currentUser.userinfo.userId,skip:(t||1)-1,limit:this.limit}}).then(t=>{const e=t.data;let a=[];1===e.success&&(e.data.forEach(t=>a.push(t)),this.report.data=a,this.total=e.total)}).finally(()=>{this.$Loading.finish(),this.load=!1})}},computed:{isAttachedContent(){return!this.account.attr.introduction&&!this.account.origin},isChat(){return!this.account.attr.allowDM||this.account.id==this.currentUser.userinfo.userId}}}),S=T,A=Object(v["a"])(S,w,_,!1,null,"1ef7e4f9",null),z=A.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"theme ivu-radio-group-button"},[a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:10,type:"flex",align:"middle",justify:"end"}},[a("Col",[a("Button",{attrs:{type:"primary"},on:{click:t.changeTheme}},[t._v(" "+t._s(t.$t("basic.button.save")))])],1),a("Col",[a("div",{staticClass:"theme-color",style:"background-color: "+t.themes.child[t.themeIndex].themeColor})])],1)],1),a("Divider",{staticClass:"profile-divider"}),a("RadioGroup",{staticClass:"theme-card-content profile-body",attrs:{size:"large","button-style":"solid"},model:{value:t.themeIndex,callback:function(e){t.themeIndex=e},expression:"themeIndex"}},[t._l(t.themes.child,(function(e,s){return a("Card",{key:s,class:s==t.themeIndex?"ivu-radio-wrapper-checked":"",attrs:{"dis-hover":""}},[a("div",{on:{click:function(e){t.themeIndex=s}}},[a("div",{staticClass:"theme-color",style:"background-color: "+e.themeColor}),a("h1",[a("b",[t._v(t._s(e.name))]),a("Badge",{staticClass:"theme-badge",attrs:{text:e.version}})],1)]),a("div",[a("span",[t._v(t._s(e.authorInfo.authorName))]),a("Divider",{attrs:{type:"vertical"}}),a("span",[t._v(t._s(e.authorInfo.authorUpdate))])],1)])})),a("a",{attrs:{href:"//github.com/BFBAN/bfban-website/tree/master/front/public/theme",target:"_blank"}},[a("Card",{staticClass:"theme-card theme-card-not",attrs:{"dis-hover":""}},[a("Icon",{attrs:{type:"md-add",size:"30"}})],1)],1)],2)],1)},N=[],L=a("611b"),M={name:"appearance",data(){return{themes:L,themeIndex:0}},created(){this.getTheme()},methods:{async getTheme(){let t=o["n"].local.get("theme");if(t.data&&t.data.value)return this.themes.child.forEach((e,a)=>{e.name===t.data.value.name&&(this.themeIndex=a)}),void await this.$store.dispatch("setTheme",t.data.value);L.child.filter((t,e)=>{t.name===L.default&&(this.themeIndex=e)}),await this.$store.dispatch("setTheme",this.$store.state.$theme)},changeTheme(t){o["n"].local.set("theme",this.themes.child[this.themeIndex||0]),window.location.reload()}}},O=M,R=(a("babc"),Object(v["a"])(O,P,N,!1,null,"4bdaf1a6",null)),D=R.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tabs",[a("TabPane",{attrs:{label:t.$t("profile.space.title")}},[a("div",{staticClass:"account"},[a("Form",{attrs:{model:t.formItem,"label-position":"top"}},[a("Banner",{staticClass:"account-banner",attrs:{height:200}},[a("Row",{staticClass:"profile-body",attrs:{gutter:15}},[a("Col",[a("UserAvatar",{attrs:{src:t.formItem.userAvatar,size:50}})],1),a("Col",{attrs:{flex:"1"}},[a("h3",[t._v(" "+t._s(t.formItem.username)+" ")]),a("p",[t._v(t._s(t.$t("profile.meet",{name:t.formItem.username}))+" ("+t._s(t.formItem.id)+")")])]),t.formItem.privilege?a("Col",[a("p",[a("b",[t._v(t._s(t.$t("profile.space.form.privilege")))])]),a("PrivilegesTag",{attrs:{data:t.formItem.privilege}})],1):t._e()],1)],1),a("div",{staticClass:"profile-body"},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-key"}}),t._v(" "+t._s(t.$t("signup.form.username"))+" ")],1),a("Input",{attrs:{placeholder:t.$t("signup.form.username"),disabled:""},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}},[a("a",{attrs:{slot:"append",href:"javascript:void(0)"},on:{click:function(e){t.modal_setusername.show=!t.modal_setusername.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("Icon",{attrs:{type:"md-lock"}}),t._v(" "+t._s(t.$t("signup.form.password"))+" ")],1),a("Input",{attrs:{placeholder:t.$t("signup.form.password"),disabled:"",type:"password"},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}},[a("a",{attrs:{slot:"append",href:"javascript:void(0)"},on:{click:function(e){t.modal_changePassword.show=!t.modal_changePassword.show}},slot:"append"},[a("Icon",{attrs:{type:"md-create",size:"15"}})],1)])],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:t.$t("account.joinedAt")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:t.formItem.joinTime||(new Date).getTime()}},[a("Time",{attrs:{time:t.formItem.joinTime||(new Date).getTime()}})],1)],1)],1)],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("Card",{attrs:{"dis-hover":""}},[a("FormItem",{attrs:{label:t.$t("account.lastOnlineTime")}},[a("Tag",{attrs:{type:"border"}},[a("TimeView",{attrs:{time:t.formItem.lastOnlineTime||(new Date).getTime()}},[a("Time",{attrs:{time:t.formItem.lastOnlineTime||(new Date).getTime()}})],1)],1)],1)],1)],1),t.isAdmin?a("Col",{attrs:{xs:{span:24},lg:{span:24}}},[a("br"),a("FormItem",[a("div",{attrs:{slot:"label"},slot:"label"},[a("p",[a("b",[t._v(t._s(t.$t("profile.space.form.introduction")))])])]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Textarea",{ref:"informationTextarea",attrs:{toolbar:["bold"],height:"160px",maxlength:500,"show-maxlength-label":!0,placeholder:t.$t("profile.space.form.introduction")},model:{value:t.formItem.attr.introduction,callback:function(e){t.$set(t.formItem.attr,"introduction",e)},expression:"formItem.attr.introduction"}})],1)],1)],1):t._e(),a("Col",{attrs:{xs:{span:24},lg:{span:18}}},[a("FormItem",[a("Card",{attrs:{"dis-hover":""}},[a("Row",{attrs:{type:"flex",align:"bottom"}},[a("Col",{attrs:{flex:"1"}},[a("a",{attrs:{href:"https://gravatar.com",target:"_blank"}},[a("svg",{staticClass:"ivu-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 27 27",role:"presentation","aria-hidden":"true"}},[a("path",{attrs:{d:"M10.8 2.699v9.45a2.699 2.699 0 005.398 0V5.862a8.101 8.101 0 11-8.423 1.913 2.702 2.702 0 00-3.821-3.821A13.5 13.5 0 1013.499 0 2.699 2.699 0 0010.8 2.699z"}})])])]),a("Col",[a("a",{attrs:{href:t.formItem.userAvatar?"https://gravatar.com/connect/":"https://gravatar.com/connect/?gravatar_from=signup",target:"_blank"}},[a("Button",[a("Icon",{attrs:{type:"md-link",size:"20"}})],1)],1)])],1),a("Row",{attrs:{gutter:5,type:"flex",align:"top"}},t._l([150,80,50,45,30,22],(function(e,s){return a("Col",{key:s},[a("p",[t._v(t._s(e))]),a("UserAvatar",{attrs:{src:t.formItem.userAvatar,size:e}})],1)})),1)],1)],1)],1)],1),a("Divider",{attrs:{dashed:""}}),t.isBindAccount?[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:t.$t("signup.form.originName")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:t.formItem.origin.originName,callback:function(e){t.$set(t.formItem.origin,"originName",e)},expression:"formItem.origin.originName"}})],1)],1),a("Col",{attrs:{flex:"1"}},[a("FormItem",{attrs:{label:t.$t("signup.form.originId")}},[a("Input",{attrs:{type:"text",disabled:"",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:t.formItem.origin.originUserId,callback:function(e){t.$set(t.formItem.origin,"originUserId",e)},expression:"formItem.origin.originUserId"}})],1)],1)],1)]:[a("Alert",{attrs:{"show-icon":"",type:"error"}},[t._v(" "+t._s(t.$t("account.bindOrigin.title"))+" "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),a("template",{slot:"desc"},[a("p",[t._v(t._s(t.$t("account.bindOrigin.content")))]),a("br"),a("router-link",{attrs:{to:"/bindOrigin"}},[a("Button",[t._v(t._s(t.$t("account.bindOrigin.travel")))])],1)],1)],2)],a("Divider",{attrs:{dashed:""}}),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:t.$t("profile.space.form.language")}},[a("Row",[a("Col",[a("Checkbox",{on:{"on-change":function(e){return t.switchAttr("langLocalSync",t.langLocalSync)}},model:{value:t.langLocalSync,callback:function(e){t.langLocalSync=e},expression:"langLocalSync"}})],1),a("Col",{attrs:{flex:"1"}},[a("Select",{staticClass:"switch-language",attrs:{prefix:"md-globe",placement:"top-end",disabled:!t.langLocalSync},on:{"on-change":t.switchLanguage},model:{value:t.formItem.attr.language,callback:function(e){t.$set(t.formItem.attr,"language",e)},expression:"formItem.attr.language"}},t._l(t.languages,(function(e){return a("Option",{key:e.name,attrs:{value:e.name,disabled:e.ignoreSave}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1),t.langLocalSync?a("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("profile.space.form.languageSyncDescribe")))]):t._e()],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:t.$t("profile.space.form.showOrigin")}},[a("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("profile.space.form.showOriginDescribe")))]),a("i-switch",{model:{value:t.formItem.attr.showOrigin,callback:function(e){t.$set(t.formItem.attr,"showOrigin",e)},expression:"formItem.attr.showOrigin"}})],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:t.$t("profile.space.form.allowDM")}},[a("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("profile.space.form.allowDMdescribe")))]),a("i-switch",{model:{value:t.formItem.attr.allowDM,callback:function(e){t.$set(t.formItem.attr,"allowDM",e)},expression:"formItem.attr.allowDM"}})],1)],1),a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:t.$t("profile.space.form.showAchievement")}},[a("i-switch",{model:{value:t.formItem.attr.showAchievement,callback:function(e){t.$set(t.formItem.attr,"showAchievement",e)},expression:"formItem.attr.showAchievement"}})],1)],1)],1)],2),a("Affix",{attrs:{"offset-bottom":0}},[a("Divider",{staticStyle:{margin:"0px"},attrs:{size:"small",plain:""}}),a("Card",{attrs:{"dis-hover":"",padding:8,bordered:!1}},[a("Row",[a("Col",{attrs:{xs:{span:0},lg:{span:20}}}),a("Col",{attrs:{xs:{span:24},lg:{span:4}}},[a("Button",{attrs:{type:"primary",long:"",loading:t.formLoad,disabled:t.userInfoLoad},on:{click:t.onSave}},[t._v(" "+t._s(t.$t("basic.button.save"))+" ")])],1)],1)],1)],1)],1),a("Modal",{attrs:{"footer-hide":t.modal_setusername.index>=2},on:{"on-cancel":function(e){t.modal_setusername.index=0}},model:{value:t.modal_setusername.show,callback:function(e){t.$set(t.modal_setusername,"show",e)},expression:"modal_setusername.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("profile.space.modifyName.title")))])]),a("div",[a("Steps",{attrs:{current:t.modal_setusername.index,size:"small"}},[a("Step",{attrs:{title:t.$t("profile.space.modifyName.steps[0].title")}}),a("Step",{attrs:{title:t.$t("profile.space.modifyName.steps[1].title")}}),a("Step",{attrs:{title:t.$t("profile.space.modifyName.steps[2].title")}})],1),a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[0==t.modal_setusername.index?a("div",[a("br"),a("Alert",{attrs:{type:"warning"}},[a("template",{slot:"desc"},[a("p",{domProps:{innerHTML:t._s(t.$t("profile.space.modifyName.specification1"))}}),a("p",[t._v(" "+t._s(t.$t("profile.space.modifyName.residueDegree",{changeNameLeft:t.formItem.attr.changeNameLeft||0}))+" ")]),a("br"),a("b",[t._v(" "+t._s(t.$t("profile.space.modifyName.specification2")))])])],2)],1):t._e(),1==t.modal_setusername.index?a("div",[a("br"),a("FormItem",{attrs:{label:t.$t("signup.form.username")}},[a("Input",{attrs:{size:"large",disabled:""},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),a("FormItem",{attrs:{label:t.$t("signup.form.newUsername")}},[a("Input",{attrs:{size:"large",placeholder:t.$t("signup.form.newUsername")},model:{value:t.formItem.newname,callback:function(e){t.$set(t.formItem,"newname",e)},expression:"formItem.newname"}})],1),a("FormItem",{attrs:{label:t.$t("captcha.title"),prop:"captcha"}},[a("Captcha",{ref:"captcha",on:{getCaptchaData:t.getUserNameCaptchaData}})],1)],1):t._e(),2==t.modal_setusername.index?a("div",{attrs:{align:"center"}},[a("br"),a("Icon",{attrs:{type:"ios-cloud-done",size:"200",color:"#19be6b"}}),a("br")],1):t._e()])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[t.modal_setusername.index>0&&t.modal_setusername.index<=1?a("Button",{attrs:{size:"large",disabled:""==t.formItem.newname,loading:t.modal_setusername.load},on:{click:function(e){t.modal_setusername.index=t.setUserName()}}},[t._v(" "+t._s(t.$t("basic.button.next"))+" ")]):t._e(),t.modal_setusername.index<=0?a("Button",{attrs:{type:"warning",size:"large",disabled:0==t.formItem.attr.changeNameLeft},on:{click:function(e){t.modal_setusername.index=1}}},[t._v(" "+t._s(t.$t("basic.button.submit"))+" ")]):t._e()],1)]),a("Modal",{model:{value:t.modal_changePassword.show,callback:function(e){t.$set(t.modal_changePassword,"show",e)},expression:"modal_changePassword.show"}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("reset.title")))]),a("div",[a("Form",{ref:"formValidate",attrs:{"label-position":"top"}},[a("FormItem",{attrs:{label:t.$t("reset.form.oldPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:t.modal_changePassword.oldpassword,callback:function(e){t.$set(t.modal_changePassword,"oldpassword",e)},expression:"modal_changePassword.oldpassword"}})],1),a("FormItem",{attrs:{label:t.$t("reset.form.newPassword")}},[a("Input",{attrs:{placeholder:"******",minlength:"6"},model:{value:t.modal_changePassword.newpassword,callback:function(e){t.$set(t.modal_changePassword,"newpassword",e)},expression:"modal_changePassword.newpassword"}})],1),a("FormItem",{attrs:{label:t.$t("captcha.title"),prop:"captcha"}},[a("Captcha",{ref:"captcha",on:{getCaptchaData:t.getPasswordCaptchaData}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large",disabled:!t.modal_changePassword.oldpassword&&!t.modal_changePassword.newpassword&&!t.passwordCaptcha,loading:t.modal_changePassword.load},on:{click:function(e){return t.handChangePassword()}}},[t._v(" "+t._s(t.$t("reset.title"))+" ")])],1)]),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.userInfoLoad,expression:"userInfoLoad"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}})],1)],1)]),a("TabPane",{attrs:{label:"Ad"}},[a("Form",{staticClass:"profile-body",attrs:{"label-position":"top"}},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:{span:24},lg:{span:12}}},[a("FormItem",{attrs:{label:t.$t("profile.space.form.AD")}},[a("Alert",{attrs:{"show-icon":""}},[t._v(t._s(t.$t("profile.space.form.ADDescribe")))]),a("i-switch",{on:{"on-change":function(e){return t.switchAttr("ads.google.switch",t.adsSwitch)}},model:{value:t.adsSwitch,callback:function(e){t.adsSwitch=e},expression:"adsSwitch"}})],1)],1)],1)],1)],1)],1)},V=[],j=a("7f22"),E=a("5d71"),B=a("45ce"),F=new x["a"]({name:"account",data(){return{privileges:[],languages:[],adsSwitch:o["a"].getConfiguration("ads.google.switch"),userInfoLoad:!1,formLoad:!1,langLocalSync:!1,modal_changePassword:{load:!1,show:!1,newpassword:"",oldpassword:""},modal_setusername:{load:!1,show:!1,index:0},usernameCaptcha:"",passwordCaptcha:""}},components:{Textarea:E["a"],TimeView:h["a"],Captcha:B["a"],UserAvatar:p["a"],PrivilegesTag:n["a"],Banner:u["a"],AdsGoogle:j["a"]},created(){this.http=o["f"].call(this),this.ready()},methods:{async ready(){const t=await Promise.resolve().then(a.t.bind(null,"afdf",3)),e=await Promise.resolve().then(a.t.bind(null,"59c0",3));this.privileges=this.privileges.concat(e.child),this.languages=this.languages.concat(t.child),await this.getUserinfo()},getUserNameCaptchaData(t){this.usernameCaptcha=t},getPasswordCaptchaData(t){this.passwordCaptcha=t},handChangePassword(){const{newpassword:t="",oldpassword:e=""}=this.modal_changePassword;this.modal_changePassword.load=!0,this.http.post(o["c"]["user_changePassword"],{data:{data:{newpassword:t,oldpassword:e},captcha:this.passwordCaptcha}}).then(t=>{const e=t.data;if(1===e.success)return this.$Message.success(this.$t(`basic.tip['${e.code}']`,{message:e.message||""})),this.$store.dispatch("signout").then(()=>{this.signout()}),this.modal_changePassword.show=!1,void this.$router.push({name:"signin"});this.$Message.error(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}))}).finally(()=>{this.modal_changePassword.load=!1})},signout(){o["e"].post(o["c"]["account_signout"],{headers:{"x-access-token":this.$store.state.user.token}}).then(t=>{const e=t.data;1==e.success&&this.$router.push("/signin")})},switchLanguage(t){this.formItem.attr.language=t},setUserName(){this.formItem.newname&&(this.modal_setusername.load=!0,this.http.post(o["c"]["user_changeName"],{data:{data:{newname:this.formItem.newname},captcha:this.usernameCaptcha}}).then(t=>{const e=t.data;if(1===e.success)return this.modal_setusername.index=2,void this.$Message.success(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}));this.modal_setusername.index=0,this.$Message.error(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}))}).finally(async()=>{this.modal_setusername.load=!1,this.usernameCaptcha="",await this.getUserinfo()}))},onSave(){this.formLoad=!0,this.formItem.language=this.$root.$i18n.locale,this.http.post(o["c"]["user_me"],{data:{data:{attr:this.formItem.attr}}}).then(t=>{const e=t.data;if(1===e.success)return e.data.attr.language&&this.$store.dispatch("setLang",e.data.attr.language),void this.$Message.success(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}));this.$Message.error(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}))}).finally(()=>{this.formLoad=!1})},async getUserinfo(){return this.userInfoLoad=!0,new Promise(t=>{this.http.get(o["c"]["user_me"],{}).then(t=>{const e=t.data;1===e.success&&(this.$store.dispatch("setUserInfo",e.data),this.formItem=Object.assign(this.formItem,e.data),this.$refs.informationTextarea&&this.$refs.informationTextarea.updateContent(this.formItem.attr.introduction))}).finally(()=>{this.userInfoLoad=!1,this.checkLangLocalSync(),t()})})},checkLangLocalSync(){this.langLocalSync=o["a"].getConfiguration("langLocalSync")},switchAttr(t,e){o["a"].updateConfiguration(t,e)}},computed:{formItem:{set(t){this.data=t},get(){this.checkLangLocalSync();let t=Object.assign({password:"******",origin:null,userAvatar:"",newname:"",username:"",attr:{introduction:"",language:""}},this.data,this.$store.state.$userinfo);return t}},isBindAccount(){let t=this.formItem;return!!t.origin&&!(!t.origin.originName&&!t.origin.originUserId)}}}),W=F,G=(a("115d"),Object(v["a"])(W,U,V,!1,null,"856b1e58",null)),q=G.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tabs",{attrs:{value:t.tagsName}},[a("TabPane",{attrs:{label:t.$t("profile.chat.tabsList.itemName"),name:"message0"}},[a("div",{staticClass:"chat"},[a("Row",{staticClass:"profile-body",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{flex:"1"}}),a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small",disabled:!t.selectWindow},on:{click:t.setMessageEdit}},[t._v(" "+t._s(t.$t("profile.chat.control"))+" ")]),a("Divider",{attrs:{type:"vertical"}}),a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{type:"primary",size:"small",loading:t.messageLoad},on:{click:t.getMessage}},[t._v(" "+t._s(t.$t("profile.chat.load"))+" ")])],1),t.messageList[t.selectWindow]?a("Row",[a("Col",{staticClass:"chat-user"},t._l(t.messageUser,(function(e,s){return a("div",{key:s,on:{click:function(a){return t.openMessageDetail(e)}}},[a("Row",{staticClass:"chat-user-item",attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[t.messageList[e.value]&&t.messageList[e.value]["unreadNum"]>1?a("Badge",{attrs:{count:t.messageList[e.value]["unreadNum"]||0}},[a("Avatar",{attrs:{icon:"md-notifications"}})],1):a("Avatar",{attrs:{icon:"md-notifications"}},[t._v(" "+t._s(e.text[0]))])],1),a("Col",{attrs:{flex:"1"}},["reply"==e.type?a("businessCard",{attrs:{id:e.id}},[a("b",[t._v(t._s(e.text.toString()))])]):a("span",[a("b",[t._v(t._s(e.text.toString()))])]),t._v(" ("+t._s(t.messageList[e.value]["num"]||0)+") ")],1),a("Col",[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small"}},[t._v(" "+t._s(t.$t("profile.chat.look"))+" "),t.selectWindow!=e.value?a("Icon",{attrs:{type:"ios-arrow-dropright"}}):a("Icon",{attrs:{type:"md-arrow-dropright-circle"}})],1)],1)],1)],1)})),0),a("Col",{staticClass:"chat-content",attrs:{flex:"1"}},[t.control.open?a("Row",{staticClass:"chat-content-control"},[a("Col",[a("Checkbox",{on:{"on-change":t.onBatchAll},model:{value:t.control.all,callback:function(e){t.$set(t.control,"all",e)},expression:"control.all"}}),a("Divider",{attrs:{type:"vertical"}})],1),a("Col",{attrs:{flex:"1"}},[a("Select",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:t.control.model,callback:function(e){t.$set(t.control,"model",e)},expression:"control.model"}},t._l(t.control.list,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(t.$t("profile.chat.tabsList.form."+e.label))+" ")])})),1)],1),a("Col",[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{size:"small",disabled:t.control.model<0,loading:t.control.load},on:{click:t.onBatchOperation}},[t._v(" "+t._s(t.$t("basic.button.submit"))+" ")])],1)],1):t._e(),a("div",{staticClass:"chat-content-box"},t._l(t.messageList[t.selectWindow].child,(function(e,s){return a("div",{key:s,staticClass:"chat-content-item"},[a("Row",{attrs:{gutter:18}},[t.control.open?a("Col",{attrs:{span:"2"}},[a("Checkbox",{model:{value:e.choose,callback:function(a){t.$set(e,"choose",a)},expression:"child.choose"}})],1):t._e(),a("Col",{attrs:{span:t.control.open?22:24}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{flex:"1"}},[a("TimeView",{attrs:{time:e.time}},[a("Time",{attrs:{time:e.time,type:"datetime"}})],1)],1),a("Col",[a("Tag",{attrs:{type:"border",color:{fatal:"red",warn:"red"}[e.type]||"info"}},[t._v(t._s(e.type)+" ")])],1),a("Col",[0==e.haveRead&&["info","warn","fatal"].indexOf(e.type)<0?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.onMessageMark(e.id,0)}}},[a("Icon",{attrs:{type:"md-eye",size:"20"}})],1):t._e()])],1),a("Card",{staticStyle:{margin:"10px 0"},attrs:{"dis-hover":"",padding:0}},[a("Html",{attrs:{html:e.content}})],1),a("Row",[a("Col",{attrs:{flex:"1"}},[["info","warn","fatal"].indexOf(e.type)<0?a("span",[t._v("by "),a("u",[t._v(t._s(e.username))]),t._v("("+t._s(e.byUserId)+")")]):t._e()]),a("Col",[t._v("# "+t._s(e.id))])],1)],1)],1),a("divider",{attrs:{size:"small"}})],1)})),0),"direct"==t.messageList[t.selectWindow].type?a("div",{staticClass:"-content-footer"},[a("router-link",{attrs:{to:{name:"space",params:{uId:t.selectWindow},query:{repeat:!0}}}},[a("Button",{directives:[{name:"voice-button",rawName:"v-voice-button"}],attrs:{long:"",type:"primary"}},[a("Icon",{attrs:{type:"ios-send",size:"20"}})],1)],1)],1):t._e()],1)],1):[a("div",{staticClass:"chat-content-not"},[t._v(t._s(t.$t("basic.tip.notContent")))])]],2)])],1)},K=[],Q=a("1b08"),J=a("aa6e"),Z=a("c7c5"),Y=new x["a"]({name:"message",data(){return{that:this,tagsName:"message0",messageLoad:!1,selectWindow:"",message:{list:Z.sendTypes,typeDictionary:Z.typeDictionary,ruleValidate:{type:[{required:!0,trigger:"blur"}],id:[{required:!0,trigger:"blur"}],content:[{required:!0,trigger:"blur"}]},messages:[],playerList:[],show:!1,load:!1,type:"",id:"",content:""},messageUser:[],messageList:{},control:{load:!1,open:!1,all:!1,model:-1,list:[{value:0,label:"read"},{value:1,label:"unread"}]}}},components:{BusinessCard:J["a"],PrivilegesTag:n["a"],TimeView:h["a"],Html:Q["a"]},watch:{$route:"loadData"},created(){this.http=o["f"].call(this),this.loadData()},methods:{async loadData(){await this.getMessage(),this.message.type=this.message.list[0].title},resetMessageFrom(){this.message.id="",this.message.content="",this.message.type=this.message.list[0].title},async openMessageDetail(t){this.selectWindow=t.value;for(let e=0;e<this.messageList[this.selectWindow].child.length;e++)0==this.messageList[this.selectWindow].child[e].haveRead&&(this.messageList[this.selectWindow].child[e].choose=!0);this.control.model=0,await this.onBatchOperation(),this.control.model=null},onBatchAll(){this.messageList[this.selectWindow].child.forEach(t=>{t.choose=this.control.all})},async onBatchOperation(){let t=[];return this.messageList[this.selectWindow].child.forEach(e=>{if(e.choose&&["direct","warn","reply"][e.type])switch(this.control.model){case 0:0==e.haveRead&&t.push(this.onMessageMark(e.id,this.control.model));break;case 1:t.push(this.onMessageMark(e.id,this.control.model));break}}),this.control.load=!0,Promise.all(t).finally(()=>{this.control.load=!1}),!0},async onMessageMark(t,e=0){await this.http.post(o["c"]["user_message_mark"],{params:{id:t,type:["read","unread","del"][e]}}),this.getMessage()},getPlayerList(t){this.message.load=!0,this.message.playerList=[],t.length<=2||"number"==typeof t||o["e"].get(o["c"]["users"],{params:{param:t.trim()}}).then(t=>{const e=t.data;1===e.success&&(this.message.playerList=e.data),this.message.load=!1})},setMessageEdit(){this.control.open=!this.control.open},async getMessage(){return this.messageLoad=!0,await this.http.get(o["c"]["user_message"]).then(t=>{const e=t.data;if(1===e.success){this.message.messages=e.data.messages;let t=[],a={};return e.data.messages.forEach(e=>{switch(e.type){case"info":case"fatal":case"warn":case"toAll":case"toAdmins":case"toNormals":t.find(t=>t.type==e.type)||t.push({text:"@"+this.$i18n.t("profile.chat.types."+e.type+".text"),id:e.byUserId,value:e.type,type:e.type,index:0});break;case"reply":case"direct":default:t.find(t=>t.id==e.byUserId)||t.push({text:e.username||e.byUserId,id:e.byUserId,value:e.byUserId,type:e.type,index:1});break}switch(e.type){case"info":case"fatal":case"warn":case"toAll":case"toAdmins":case"toNormals":return a[e.type]||(a[e.type]={child:[],num:0}),a[e.type].child.push(Object.assign(e,{time:e.createTime,content:`<p>${e.content}</p>`,choose:!1})),a[e.type].type=e.type,void(a[e.type].num=a[e.type].child.length||0);case"reply":case"direct":default:a[e.byUserId]||(a[e.byUserId]={child:[],num:0}),a[e.byUserId].child.push(Object.assign(e,{time:e.createTime,content:`<p>${e.content}</p>`,choose:!1})),a[e.byUserId].type=e.type,a[e.byUserId].num=a[e.byUserId].child.length||0,a[e.byUserId].unreadNum=a[e.byUserId].child.filter(t=>0===t.haveRead).length;break}}),this.messageList=a,this.messageUser=t.sort((t,e)=>t.index-e.index),void(this.messageUser.length>0&&(this.selectWindow=this.messageUser[0].value))}this.$Message.error(this.$t(`basic.tip['${e.code}']`,{message:e.message||""}))}).finally(()=>{this.messageLoad=!1}),!0}}}),X=Y,tt=(a("6e95"),Object(v["a"])(X,H,K,!1,null,"6fe4d6c6",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.configuration.enhance?a("div",{staticClass:"profile-body"},t._l(t.enhance,(function(e,s){return a("div",{key:s},[a("Card",[a("Row",[a("Col",{attrs:{flex:"auto"}},[a("h1",[t._v(t._s(t.$t("profile.enhance.public."+e.enhanceName+".name")))]),a("p",[t._v(t._s(t.$t("profile.enhance.public."+e.enhanceName+".describe")))])]),a("Col",[a("i-switch",{on:{"on-change":function(a){return t.changeEnhanceAttr(e.enhanceName,e.value)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"i.value"}})],1)],1)],1),a("br")],1)})),0):t.$store.state.configuration.enhance?a("div",{staticClass:"profile-body enhance-notApp-content",attrs:{align:"center"}},[a("h1",[t._v("No application was detected")]),a("p",[t._v("The BFBAN WEB APP is not installed")])]):a("div",{staticClass:"profile-body"},[a("p",[t._v("Disable Component")]),t._m(0)])},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],it=(a("4360"),{data(){var t,e,a;return{enhance:[{enhanceName:"footerBar",value:(null===(t=this.$store.state.configuration)||void 0===t?void 0:t.footerBar)||!1},{enhanceName:"autoUpdatePlayerList",value:(null===(e=this.$store.state.configuration)||void 0===e?void 0:e.autoUpdatePlayerList)||!1},{enhanceName:"desktopNotifiction",value:(null===(a=this.$store.state.configuration)||void 0===a?void 0:a.desktopNotifiction)||!1}]}},created(){},methods:{changeEnhanceAttr(t,e){t&&o["a"].updateConfiguration(t,e)}},computed:{webMode(){const t=window.matchMedia("(display-mode: standalone)").matches;return document.referrer.startsWith("android-app://")?"browsertab":navigator.standalone||t?"standalone":"browser"}}}),ot=it,nt=(a("e57e"),Object(v["a"])(ot,at,st,!1,null,"ba99273a",null)),rt=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-body"},[a("Alert",{staticStyle:{width:"100%"},attrs:{"show-icon":"",type:"warning"}},[t._v(" "+t._s(t.$t("profile.media.hint1"))+" ")]),a("Card",{attrs:{padding:0,"dis-hover":""}},[a("Row",{attrs:{slot:"title",gutter:30},slot:"title"},[a("Col",{attrs:{flex:"1"}},[a("Button",{on:{click:function(e){return t.$refs["uploadWidget"].onPanelChange()}}},[a("Icon",{attrs:{type:"md-add"}})],1),a("UploadWidget",{ref:"uploadWidget",attrs:{uploadWidgetTypeArray:["upload"]},on:{finish:t.getMediaList}})],1),t.media.data.usedStorageQuota&&t.media.data.totalStorageQuota?a("Col",{attrs:{span:"8"}},[a("Poptip",{attrs:{placement:"bottom-end",trigger:"hover",width:"400"}},[t._v(" "+t._s(t.$t("profile.media.capacity"))+" "),a("span",[t._v(" "+t._s(t.onUnitConversion(t.media.data.usedStorageQuota))+"/"+t._s(t.onUnitConversion(t.media.data.totalStorageQuota))+" ")]),a("Progress",{attrs:{percent:t.percentValue}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("Form",{attrs:{"label-position":"left","label-width":150}},[a("FormItem",{attrs:{label:t.$t("profile.media.maxFileNumber")}},[a("Input",{attrs:{value:t.media.data.maxFileNumber,size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:t.$t("profile.media.maxTrafficQuota")}},[a("Input",{attrs:{value:t.onUnitConversion(t.media.data.maxTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:t.$t("profile.media.usedStorageQuota")}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:t.onUnitConversion(t.media.data.usedStorageQuota),size:"small",readonly:""}})],1),a("Col",[t._v("/")]),a("Col",{attrs:{flex:"1"}},[a("Input",{attrs:{value:t.onUnitConversion(t.media.data.totalStorageQuota),size:"small",readonly:""}})],1)],1)],1),a("FormItem",{attrs:{label:t.$t("profile.media.todayFileNumber")}},[a("Input",{attrs:{size:"small",readonly:""},model:{value:t.media.data.todayFileNumber,callback:function(e){t.$set(t.media.data,"todayFileNumber",e)},expression:"media.data.todayFileNumber"}})],1),a("FormItem",{attrs:{label:t.$t("profile.media.todayTrafficQuota")}},[a("Input",{attrs:{value:t.onUnitConversion(t.media.data.todayTrafficQuota),size:"small",readonly:""}})],1),a("FormItem",{attrs:{label:t.$t("profile.media.prevResetTime")}},[a("TimeView",{attrs:{time:t.media.data.prevResetTime}},[a("Time",{attrs:{time:t.media.data.prevResetTime}})],1)],1)],1)],1)],1)],1):t._e()],1),a("Table",{staticClass:"media-content",attrs:{border:!1,"load-data":t.handleLoadData,columns:t.media.columns,data:t.media.list}})],1),a("br"),a("Page",{staticClass:"page",attrs:{"show-sizer":"","show-total":"","show-elevator":"","page-size":t.media.limit,current:t.media.skip},on:{"on-change":t.handlePageChange,"on-page-size-change":t.handlePageSizeChange}})],1)},ct=[],dt=(a("0808"),a("6944")),mt=a.n(dt),ut=a("2b0e"),pt=a("b2d4");ut["default"].use(mt.a);var ht={components:{TimeView:h["a"],UploadWidget:pt["a"]},data(){return{file:{name:""},loadingStatus:!1,service_upload:o["c"]["service_upload"],media:{columns:[{title:"Name",key:"filename",minWidth:200,maxWidth:400},{title:"size",key:"size",sortable:!0},{title:"createTime",key:"createTime",render:(t,e)=>t(h["a"],{props:{time:e.row.createTime}},[t("Time",{props:{time:e.row.createTime,type:"datetime"}})])},{key:"btn",render:(t,e)=>{const a=this.getButtonType(e.row.filename);let s,i=this.$i18n.t("profile.chat.look");if("view"===a)i=this.$i18n.t("profile.chat.look"),s=()=>{e.row.load||this.queryMediaDetail(e.row.filename)};else if("download"===a){const t="https://bfban.gametools.network/api/service/file?filename="+e.row.filename;i=this.$i18n.t("profile.chat.download"),s=()=>{window.location.href=t}}return t("Button",{props:{loading:e.row.load},on:{click:s}},i)}}],images:{},selectFileId:"",data:{},list:[],limit:10,skip:1}}},created(){this.http=o["f"].call(this),this.getMedia(),this.getMediaList()},methods:{handleLoadData(t,e){setTimeout(()=>{const t=[{id:"10100",name:"John Brown",age:18,address:"New York No. 1 Lake Park"},{id:"10101",name:"Joe Blackn",age:30,address:"Sydney No. 1 Lake Park"}];e(t)},2e3)},handlePageChange(t){this.media.skip=t,this.getMedia()},handlePageSizeChange(t){this.media.limit=t,this.getMedia()},openViewImage(t,e){let a=[];this.media.images[t]=e;for(const s in this.media.images)a.push(this.media.images[s]);this.$viewerApi({options:{keyboard:!1,fullscreen:!0},images:a})},getMedia(){this.http.get(o["c"]["service_myStorageQuota"],{}).then(t=>{const e=t.data;1===e.success&&(this.media.data=e.data)}).finally(()=>{})},getMediaList(){this.http.get(o["c"]["service_myFiles"],{params:{limit:this.media.limit,skip:this.media.skip-1}}).then(t=>{const e=t.data;1===e.success&&(e.data.map(t=>Object.assign(t,{_loading:!1,load:!1,size:this.onUnitConversion(t.size),children:[]})),this.media.list=e.data)}).finally(()=>{})},queryMediaDetail(t){this.media.selectFileId=t;for(let e=0;e<this.media.list.length;e++)this.media.list[e].filename==t&&(this.media.list[e].load=!0);for(let e=0;e<this.media.list.length;e++)if(this.media.list[e].filename==t){const t="https://bfban.gametools.network/api/service/file?filename="+this.media.list[e].filename;this.openViewImage(this.media.list[e].filename,t)}for(let e=0;e<this.media.list.length;e++)this.media.list[e].filename==t&&(this.media.list[e].load=!1)},getButtonType(t){const e=t.split(".").pop().toLowerCase();return["png","jpg","jpeg","gif"].includes(e)?"view":"zip"===e?"download":"default"},onUnitConversion(t){let e="";e=t<102.4?t.toFixed(2)+"B":t<104857.6?(t/1024).toFixed(2)+"KB":t<107374182.4?(t/1048576).toFixed(2)+"MB":(t/1073741824).toFixed(2)+"GB";var a=e+"",s=a.indexOf("."),i=a.substr(s+1,2);return"00"==i?a.substring(0,s)+a.substr(s+3,2):e}},computed:{percentValue(){return Number((this.media.data.usedStorageQuota/this.media.data.totalStorageQuota*100).toFixed(2))}}},ft=ht,gt=(a("d831"),Object(v["a"])(ft,lt,ct,!1,null,null,null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-body"},[t.$store.state.configuration.voice?a("div",{staticClass:"voice"},t._l(t.voiceType,(function(e,s){return a("div",{key:s,class:[t.globalState?"":"disabled"]},[a("Row",{directives:[{name:"voice-button",rawName:"v-voice-button"}],staticClass:"voice-item profile-body",attrs:{gutter:10,type:"flex",align:"middle"}},[a("Col",[a("Checkbox",{on:{"on-change":function(a){return t.switchVoiceAttr(e.loaclValue,e)}},model:{value:e.state,callback:function(a){t.$set(e,"state",a)},expression:"i.state"}})],1),a("Col",{attrs:{span:"8"}},[a("b",{staticClass:"title"},[t._v(t._s(t.$t(e.name)))]),e.describe?a("p",{staticClass:"describe"},[t._v(t._s(t.$t(e.describe)))]):t._e()]),a("Col",{attrs:{flex:"1"}},[a("Slider",{attrs:{min:e.min,max:e.max,"show-input":"",disabled:!e.state},on:{"on-change":function(a){return t.switchVoiceAttr(e.loaclValue,e)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"i.value"}})],1),e.voiceFileName?[a("Divider",{attrs:{type:"vertical"}}),a("Col",[a("Select",{model:{value:e.voiceFileName,callback:function(a){t.$set(e,"voiceFileName",a)},expression:"i.voiceFileName"}},t._l(t.voiceFiles,(function(e,s){return a("Option",{key:s,attrs:{value:e.name}},[t._v(" "+t._s(e.name)+".mp4 ")])})),1)],1)]:t._e()],2),a("div",{staticClass:"voice-divider ivu-divider ivu-divider-horizontal"})],1)})),0):a("div",[a("p",[t._v("Disable Component")]),t._m(0)])])},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],wt={name:"voice",data(){return{globalState:!0,voiceFiles:[{name:"dinDon"}],voiceType:{voice_message:{name:"profile.voice.message",describe:"profile.voice.messageDescribe",loaclValue:"voice_message",voiceFileName:"dinDon",value:80,min:0,max:150,state:!0},voice_interaction:{name:"profile.voice.interaction",describe:"profile.voice.interactionDescribe",loaclValue:"voice_interaction",value:40,min:0,max:150,state:!1},voice_backgroundMusic:{name:"profile.voice.backgroundMusic",describe:"profile.voice.backgroundMusicDescribe",loaclValue:"voice_backgroundMusic",value:60,min:0,max:150,state:!1},video_mp4:{name:"profile.voice.video",describe:"profile.voice.videoDescribe",loaclValue:"video_mp4",value:80,min:0,max:150,state:!1}}}},created(){for(let t in this.voiceType){let e=o["a"].getConfiguration(this.voiceType[t].loaclValue);this.voiceType[t].state=e?e.state:this.voiceType[t].state,this.voiceType[t].value=e?100*e.value:this.voiceType[t].value}},methods:{switchAll(t){for(let e in this.voiceType)this.voiceType[e].state=t,this.switchVoiceAttr("voice",t),this.switchVoiceAttr(this.voiceType[e].loaclValue,this.voiceType[e])},switchVoiceAttr(t,e){t&&o["a"].updateConfiguration(t,{state:e.state,value:.01*e.value})}}},_t=wt,xt=(a("a68a"),Object(v["a"])(_t,bt,yt,!1,null,null,null)),Ct=xt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-body"},[t.$store.state.configuration.history?[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{on:{"on-change":t.onCheckboxAll},model:{value:t.checkboxAll,callback:function(e){t.checkboxAll=e},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:t.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[a("Button",{attrs:{size:"small"},on:{click:t.getHisory}},[a("Icon",{class:[t.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},[t.list.length>0?t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:e.checkbox,callback:function(a){t.$set(e,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[e.avatarLink?a("Avatar",{attrs:{src:e.avatarLink,alt:"avatar",size:"55"}}):t._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:t.$t("list.colums.playerId")}},[a("h2",{staticClass:"text-distinguishing-letter"},[a("router-link",{style:""==e.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+e.originPersonaId}}}},[a("code",[t._v(t._s(e.originName))])])],1)])],1),a("div",[t._v(" "+t._s(t.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:e.createTime}},[e.createTime?a("Time",{attrs:{time:e.createTime}}):t._e()],1),a("Divider",{attrs:{type:"vertical"}}),t._v(" "+t._s(t.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:e.updateTime}},[e.updateTime?a("Time",{attrs:{time:e.updateTime}}):t._e()],1),a("Divider",{attrs:{type:"vertical"}}),a("TimeView",{attrs:{time:e.historyCreationTime}},[e.historyCreationTime?a("Time",{attrs:{time:e.historyCreationTime}}):t._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[t._v(t._s(e.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[t._v(t._s(e.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})):a("Empty")],2),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":t.limit,current:t.skip,total:t.total},on:{"on-change":t.handlePageChange,"on-page-size-change":t.handlePageSizeChange}})],1)],1)]:a("div",[a("p",[t._v("Disable Component")]),t._m(0)])],2)},kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],$t=a("95e3"),Tt=a("6acc"),St={components:{TimeView:h["a"],Empty:I["a"]},data(){return{disable:!1,gameName:"all",games:Tt.child,statusName:"-1",cheaterStatus:$t.child,checkboxAll:!1,load:!1,list:[],total:0,skip:1,limit:10}},created(){this.http=o["f"].call(this),this.getHisory()},methods:{async getHisory(){const{skip:t,limit:e}=this;let a=o["n"].local.get("viewed");if(this.list=[],0!=a.code&&!a.data.value)return;if(!this.$store.state.configuration.history)return;let s=Object.entries(a.data.value).sort((t,e)=>t[1]>e[1]?1:-1).slice((t-1)*e,t*e).map(t=>t[0]);this.load=!0,this.http.post(o["c"]["player_batch"],{data:{dbIds:s}}).then(t=>{const e=t.data;1==e.success&&(this.list=e.data.map(t=>a.data.value[t.id]?{...t,historyCreationTime:a.data.value[t.id]}:t).sort((t,e)=>e.historyCreationTime-t.historyCreationTime))}).finally(()=>{this.load=!1}),this.total=Object.entries(a.data.value).length},onScreening(t,e){let a=!1;return"all"!=this.gameName&&"-1"!=this.statusMethods||(a=!0),this.list[t].data[e].games&&this.list[t].data[e].games.includes(this.gameName)&&(a=!0),this.list[t].data[e].status==this.statusName&&(a=!0),a},onCheckboxAll(){let t=this.list;for(let e=0;e<t.length;e++)t[e]["checkbox"]=this.checkboxAll},onDelete(){let t=this.list,e=o["n"].local.get("viewed");0!=e.code&&e.data&&Object.keys(e.data.value)<=0&&(e={data:{value:{}}});for(let a=0;a<t.length;a++)t[a]["checkbox"]&&delete e.data.value[t[a]["id"]];Object.keys(e.data.value).length>=0&&(o["n"].local.set("viewed",e.data.value),this.getHisory())},handlePageSizeChange(t){this.limit=t,this.getHisory()},handlePageChange(t){this.skip=t,console.log("page",t),this.getHisory()}},computed:{}},At=St,zt=(a("7cae"),Object(v["a"])(At,It,kt,!1,null,"6fb0db3c",null)),Pt=zt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.state.configuration.subscribes?a("div",{staticClass:"profile-body"},[a("Row",{staticClass:"history-buttons",attrs:{gutter:10,type:"flex",justify:"center"}},[a("Col",{attrs:{flex:"1"}},[a("Checkbox",{attrs:{disabled:t.list.length<=0},on:{"on-change":t.onCheckboxAll},model:{value:t.checkboxAll,callback:function(e){t.checkboxAll=e},expression:"checkboxAll"}}),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{disabled:t.list.length<=0,size:"small"},on:{click:t.onDelete}},[a("Icon",{attrs:{type:"md-trash"}})],1)],1),a("Col",[t._v(" "+t._s(t.list.length)+" / 5000 "),a("Divider",{attrs:{type:"vertical"}}),a("Button",{attrs:{size:"small"},on:{click:t.getSubscribes}},[a("Icon",{class:[t.load?"spin-icon-load":""],attrs:{type:"md-refresh"}})],1)],1)],1),a("br"),a("div",{staticClass:"list"},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"item-card"},[a("Row",{attrs:{gutter:10,type:"flex",justify:"center",align:"middle"}},[a("Col",[a("Checkbox",{model:{value:e.checkbox,callback:function(a){t.$set(e,"checkbox",a)},expression:"d.checkbox"}})],1),a("Col",{attrs:{flex:"1"}},[a("Card",{attrs:{"dis-hover":"",padding:10}},[a("Row",{attrs:{gutter:10,type:"flex"}},[a("Col",{attrs:{xs:{span:8,push:0,pull:0},lg:{span:3,push:0,pull:0}}},[e.avatarLink?a("Avatar",{attrs:{src:e.avatarLink,alt:"avatar",size:"55"}}):t._e()],1),a("Col",{attrs:{xs:{span:17,push:0,pull:0},lg:{span:17,push:0,pull:0}}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("Tooltip",{attrs:{content:t.$t("list.colums.playerId")}},[a("h2",{staticClass:"text-distinguishing-letter"},[a("router-link",{style:""==e.avatarLink?"color: rgba(255,0,0,1);text-decoration: line-through;":"",attrs:{to:{name:"player",params:{ouid:""+e.originPersonaId,query:{byPath:t.$route.name}}}}},[a("code",[t._v(t._s(e.originName))])])],1)])],1),a("div",[t._v(" "+t._s(t.$t("list.colums.reportTime"))+" "),a("TimeView",{attrs:{time:e.createTime}},[e.createTime?a("Time",{attrs:{time:e.createTime}}):t._e()],1),a("Divider",{attrs:{type:"vertical"}}),t._v(" "+t._s(t.$t("list.colums.updateTime"))+" "),a("TimeView",{attrs:{time:e.updateTime}},[e.updateTime?a("Time",{attrs:{time:e.updateTime}}):t._e()],1)],1)]),a("Col",{staticClass:"mobile-hide",attrs:{xs:{span:24,push:0,pull:0},lg:{span:4,push:0,pull:0}}},[a("Row",{staticStyle:{height:"100%"},attrs:{type:"flex",justify:"end",align:"middle"}},[a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[t._v(t._s(e.viewNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-eye",size:"17"}})],1),a("Col",{staticClass:"item-text",attrs:{flex:"auto",align:"right"}},[a("span",[t._v(t._s(e.commentsNum||0))]),a("Icon",{staticClass:"item-icon",attrs:{type:"md-chatboxes",size:"17"}})],1)],1)],1)],1)],1)],1)],1)],1)})),0),t.list.length<=0?a("div",[t._v(t._s(t.$t("basic.tip.notContent")))]):t._e(),a("br"),a("Row",[a("Col",{attrs:{xs:{span:23,push:1},lg:{span:24,push:0}}},[a("Page",{staticClass:"page",attrs:{size:"small","show-sizer":"","show-total":"","show-elevator":"","page-size":t.limit,current:t.skip,total:t.total},on:{"on-change":t.handlePageChange,"on-page-size-change":t.handlePageSizeChange}})],1)],1)],1):a("div",{staticClass:"profile-body"},[a("p",[t._v("Disable Component")]),t._m(0)])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("e9d6"),width:"80%"}})])}],Mt={components:{TimeView:h["a"]},data(){return{gameName:"all",games:Tt.child,statusName:"-1",cheaterStatus:$t.child,load:!1,list:[],checkboxAll:!1,total:0,skip:1,limit:10}},created(){this.http=o["f"].call(this),this.getSubscribes()},methods:{getSubscribes(){const{skip:t,limit:e}=this;this.$store.state.configuration.subscribes&&(this.load=!0,this.http.post(o["c"]["user_subscribes"],{data:{skip:(t||1)-1,limit:e}}).then(t=>{const e=t.data;1==e.success&&(this.list=e.data,this.total=e.total)}).finally(()=>{this.load=!1}))},onCheckboxAll(){let t=this.list;for(let e=0;e<t.length;e++)this.list[e]["checkbox"]=this.checkboxAll},onDelete(){let t=this.list,e=t.filter(t=>t["checkbox"]).map(t=>t.id);e.length>0&&this.http.post(o["c"]["user_subscribes_delete"],{data:{playerIds:e}}).then(t=>{const a=t.data;1==a.success&&(this.list=this.list.filter(t=>!e.includes(t.id)))})},handlePageSizeChange(t){this.limit=t,this.getSubscribes()},handlePageChange(t){this.skip=t,this.getSubscribes()}},computed:{}},Ot=Mt,Rt=(a("871a"),Object(v["a"])(Ot,Nt,Lt,!1,null,"70e231c1",null)),Dt=Rt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-body"},[a("p",[t._v(t._s(t.$t("profile.exportAndImport.description")))]),a("br"),a("p",{staticClass:"hint"},[t._v(t._s(t.$t("profile.exportAndImport.hint1")))]),a("p",{staticClass:"hint"},[t._v(t._s(t.$t("profile.exportAndImport.hint2")))]),a("br"),a("Tabs",{attrs:{value:"export"}},[a("TabPane",{attrs:{label:"Export",name:"export"}},[a("Row",{attrs:{gutter:10}},[a("Col",[t._v(" Preset scheme: ")]),a("Col",[a("Select",{on:{"on-change":t.onChangePatternType},model:{value:t.patternTypeValue,callback:function(e){t.patternTypeValue=e},expression:"patternTypeValue"}},t._l(t.patternType,(function(e,s){return a("Option",{key:s,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)],1),a("br"),t.storageKeys.length>0?[a("div",[a("CheckboxGroup",{staticClass:"export-box",attrs:{disabled:t.selectGroup<=0},model:{value:t.selectGroup,callback:function(e){t.selectGroup=e},expression:"selectGroup"}},t._l(t.storageKeys,(function(e,s){return a("Card",{key:s,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Row",[a("Col",{staticClass:"export-card-name",attrs:{flex:"1"}},[a("Checkbox",{attrs:{label:e.name}},[t._v(t._s(e.name))])],1)],1)],1)})),1)],1),a("Divider",{attrs:{dashed:""}}),a("Button",{attrs:{long:"",loading:t.generatedZipLoad,disabled:t.selectGroup.length<=0},on:{click:t.onExport}},[t._v(" Export ("+t._s(t.selectGroup.length||0)+") ")])]:a("Card",{attrs:{"dis-hover":""}},[a("Empty")],1)],2),a("TabPane",{attrs:{label:"Import",name:"import"}},[a("Card",{staticClass:"ivu-upload-select",attrs:{"dis-hover":"",padding:2}},[a("input",{staticClass:"ivu-upload-input",attrs:{type:"file",id:"file",name:"file",multiple:""},on:{change:t.onImportPreparation}}),a("br")]),a("p",[a("br")]),t.importPreparation.length>0?[a("CheckboxGroup",{staticClass:"export-box",model:{value:t.selectImportPreparationGroup,callback:function(e){t.selectImportPreparationGroup=e},expression:"selectImportPreparationGroup"}},t._l(t.importPreparation,(function(e,s){return a("Card",{key:s,staticClass:"export-card",attrs:{"dis-hover":""}},[a("Checkbox",{attrs:{label:e.name}},[t._v(t._s(e.name))]),a("p",[a("br")]),a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("Select",{attrs:{size:"small"},model:{value:e.operationTypeValue,callback:function(a){t.$set(e,"operationTypeValue",a)},expression:"i.operationTypeValue"}},t._l(t.operationType,(function(e,s){return a("Option",{key:s,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),a("Col",[e.isExists?a("span",{staticStyle:{color:"red"}},[a("Icon",{attrs:{type:"md-alert"}}),t._v("Exists ")],1):t._e()])],1)],1)})),1)]:a("Card",{attrs:{"dis-hover":""}},[a("Empty")],1),a("Divider",{attrs:{dashed:""}}),a("Button",{attrs:{long:"",disabled:t.selectImportPreparationGroup.length<=0},on:{click:t.onImport}},[t._v("Import")])],2)],1)],1)},Vt=[],jt=(a("5b81"),a("617b")),Et=a("c4e3"),Bt=a.n(Et),Ft=a("be4b"),Wt=a.n(Ft),Gt=a("9224"),qt=new x["a"]({name:"exportAndImport",data(){return{generatedZipLoad:!1,selectGroup:[],storageKeys:[],primitiveStorageKeys:[],operationType:["cover","inherit"],patternType:["user","system"],patternTypeValue:"",selectImportPreparationGroup:[],importPreparation:[]}},components:{HtmlWidget:jt["a"],Empty:I["a"]},created(){this.getLocaleAppKeys(),Bt.a.support.blob||this.$Message.error("This demo works only with a recent browser !")},methods:{onChangePatternType(t){const e=Gt.name.toLowerCase();switch(t){case"user":this.selectGroup=[e+".development:user.player",e+".development:user.configuration",e+".development:user.subscribes",e+".development:search.history",e+".development:customReply",e+".development:viewed"];break;case"system":this.selectGroup=[e+".development:language",e+".development:theme"];break;default:this.selectGroup=[];break}},getLocaleAppKeys(){const t=o["n"].local.keys(),e=[];this.primitiveStorageKeys=t;for(const a in t){let s=t[a];const i=a.split(":"),n=i[0],r=i[1];n&&r&&(a.indexOf(o["n"].STORAGENAME)>=0&&(s=Object.assign(JSON.parse(s),{name:a}),e.push(s)))}this.storageKeys=e},onExport(){try{if(!this.isLogin||this.selectGroup.length<=0)return;const e=this,a=new Bt.a;let s={};for(const i of this.storageKeys){var t;this.selectGroup.indexOf(i.name)>=0&&(s[i.name]={size:null!==(t=i.value.length)&&void 0!==t?t:0,name:i.name,path:"data/"+i.name+".json"})}a.file("dictionary.json",JSON.stringify(s)),a.folder("data");for(const t of this.storageKeys)this.selectGroup.indexOf(t.name)>=0&&a.file("data/"+t.name+".json",JSON.stringify(t.value));e.generatedZipLoad=!0,a.generateAsync({type:"blob"}).then((function(t){e.generatedZipLoad=!1,Wt()(t,`${e.currentUser.userinfo.userId}@${new URL(location).hostname}.zip`)})),this.selectGroup=[]}catch(e){this.$Message.error(e)}},onImportPreparation(t){const e=t.target.files,a=this;this.importPreparation=[],this.selectImportPreparationGroup=[];for(var s=0;s<e.length;s++)Bt.a.loadAsync(e[s]).then((function(t){let e=t;e.files["dictionary.json"]||a.$Message.error("This is not the intended package, please check if it is exported from the website\n"),e.folder("data").forEach((function(e,s){t.file(s.name).async("text").then(t=>{const s=e.split(":")[1].replaceAll(".json",""),i=0===o["n"].local.get(s).code;a.importPreparation.push({name:e.replaceAll(".json",""),value:t,isExists:i,operationTypeValue:a.operationType[0]})})}))}),(function(t){a.importPreparation=[],a.selectImportPreparationGroup=[],a.$Message.error(t)}))},onImport(){try{if(!this.isLogin)return;this.importPreparation.forEach(async t=>{var e;let a,s,i;if(this.selectImportPreparationGroup.indexOf(t.name)>=0)switch(t.operationTypeValue){case"cover":a=JSON.parse(t.value);break;case"inherit":if(i=await(null===(e=o["n"].local.get(t.name.split(":")[1]))||void 0===e?void 0:e.data.value),s=JSON.parse(t.value),s.constructor===Array)a=i.concat(s);else{if(s.constructor!==Object)return void this.$Message.error("Supported type. Change the mode\n");a=Object.assign(i,s)}break;default:break}o["n"].local.set(t.name.split(":")[1],a)}),this.$Message.success("ok")}catch(t){this.$Message.error(t)}}}}),Ht=qt,Kt=(a("9a0a"),Object(v["a"])(Ht,Ut,Vt,!1,null,"40c17820",null)),Qt=Kt.exports,Jt=new x["a"]({name:"profile",data(){return{privileges:[],menuValue:"space",menu:[{title:"基础",name:"0",child:[{title:"space",name:"information",icon:"md-person"},{title:"reports",name:"reports",icon:"ios-hand"},{title:"achievement",name:"achievement",icon:"md-ribbon"},{title:"appearance",name:"appearance",icon:"ios-color-palette"},{title:"chat",name:"chat",icon:"md-mail"},{title:"media",name:"media",icon:"md-folder"},{title:"voice",name:"voice",icon:"md-musical-note",configurationKey:"voice",configurationValue:this.$store.state.configuration.voice||!1},{title:"history",name:"history",icon:"md-filing",configurationKey:"history",configurationValue:this.$store.state.configuration.history||!1},{title:"subscribes",name:"subscribes",icon:"md-notifications",configurationKey:"subscribes",configurationValue:this.$store.state.configuration.subscribes||!1},{title:"enhance",name:"enhance",icon:"md-code-download",configurationKey:"enhance",configurationValue:this.$store.state.configuration.enhance||!1},{title:"exportAndImport",name:"exportAndImport",icon:"md-folder"}]}]}},components:{achievement:y,reports:z,appearance:D,information:q,chat:et,enhance:rt,media:vt,voice:Ct,history:Pt,subscribes:Dt,exportAndImport:Qt,PrivilegesTag:n["a"],UserAvatar:p["a"]},watch:{$route:{handler(t,e){const{pagename:a="space"}=t.params;e&&this.onMenuActive(a)}}},created(){const{pagename:t="space"}=this.$route.params;this.onMenuActive(t)},methods:{onMenuActive(t){this.menuValue=t,this.$router.push({name:"profile",params:{pagename:t}})},switchAttr(t,e){o["a"].updateConfiguration(t,e)}}}),Zt=Jt,Yt=(a("23fb"),Object(v["a"])(Zt,s,i,!1,null,null,null));e["default"]=Yt.exports},"4faa":function(t,e,a){},"560f":function(t,e,a){"use strict";a("861d4")},"5e0b":function(t,e,a){},"617b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"html-widget-box"},[t.html?a("Html",{class:"html-widget-size-animation html-widget-size-"+t.htmlSize,attrs:{html:t.html,mode:t.htmlShowMode}}):t._e(),a("div",{staticClass:"html-widget-box-divider ivu-divider ivu-divider-horizontal"}),a("Row",{staticClass:"html-widget-toolbar",attrs:{type:"flex",justify:"center",align:"middle",gutter:5}},[a("Col",{attrs:{flex:"1"}},[a("a",{on:{click:t.openFullScreenView}},[a("Icon",{attrs:{type:"md-expand"}})],1),a("Modal",{attrs:{fullscreen:"","footer-hide":"",scrollable:!0},model:{value:t.fullScreenStatus,callback:function(e){t.fullScreenStatus=e},expression:"fullScreenStatus"}},[a("div",{staticClass:"container"},[a("Card",{staticClass:"content",attrs:{"dis-hover":""}},[a("Html",{class:"html-widget-size-"+t.htmlSize,attrs:{html:t.html,mode:"large"}})],1)],1)])],1),a("Col",[a("Dropdown",{attrs:{placement:"top",trigger:"click"},on:{"on-click":t.changeSize}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v(" "+t._s(t.$t("basic.html.size."+t.htmlSize))+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.htmlSizeType,(function(e,s){return a("DropdownItem",{key:s,attrs:{name:e,selected:t.htmlSize===e}},[t._v(" "+t._s(t.$t("basic.html.size."+e))+" ")])})),1)],1),a("Divider",{attrs:{type:"vertical"}}),a("Dropdown",{attrs:{placement:"top",trigger:"click"},on:{"on-click":t.changeMode}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v(" "+t._s(t.$t("basic.html.type."+t.htmlShowMode))+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.rendererType,(function(e,s){return a("DropdownItem",{key:s,attrs:{label:e,name:e,selected:t.htmlShowMode===e}},[t._v(" "+t._s(t.$t("basic.html.type."+e))+" ")])})),1)],1)],1)],1)],1)},i=[],o=a("1b08"),n={name:"HtmlWidget",props:{html:{type:String,default:""}},data(){return{htmlContent:"",htmlSize:"default",htmlShowMode:"renderer",fullScreenStatus:!1,htmlSizeType:["x-large","large","default","small"],rendererType:["code","text","renderer"]}},components:{Html:o["a"]},methods:{openFullScreenView(){this.fullScreenStatus=!0},changeMode(t){this.htmlShowMode=t},changeSize(t){this.htmlSize=t}}},r=n,l=(a("296c"),a("83ce"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"99ffcc84",null);e["a"]=c.exports},"6acc":function(t){t.exports=JSON.parse('{"defaultIndex":0,"default":"bf1","child":[{"value":"bf1","full_name":"bf1","bk_file":"images/games/bf1","bk_src":"//media.contentapi.ea.com/content/dam/gin/images/2017/01/battlefield-1-keyart-5452x3859.jpg.adapt.crop1x1.767p.jpg","logo_src":"//media.contentapi.ea.com/content/dam/gin/common/logos/layer-1.png","app_assets_bk_file":"assets/images/games/bf1/bf.jpg","app_assets_logo_file":"assets/images/games/bf1/logo.png"},{"value":"bfv","full_name":"bfv","bk_file":"images/games/bfv","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2018/05/bfv-campaignart-standard-large.jpg.adapt.crop1x1.767p.jpg","bk_width":150,"logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/bfv-logo-white.png","app_assets_bk_file":"assets/images/games/bfv/bf.jpg","app_assets_logo_file":"assets/images/games/bfv/logo.png"},{"value":"bf6","full_name":"bf2042","bk_file":"images/games/bf6","bk_src":"https://media.contentapi.ea.com/content/dam/gin/images/2021/06/battlefield-2042-key-art.jpg.adapt.crop1x1.767p.jpg","logo_src":"https://media.contentapi.ea.com/content/dam/gin/common/logos/battlefield-2042-mono-logo-svg.svg","app_assets_bk_file":"assets/images/games/bf6/bf.jpg","app_assets_logo_file":"assets/images/games/bf6/logo.png"}]}')},"6e95":function(t,e,a){"use strict";a("a00f")},"7cae":function(t,e,a){"use strict";a("d5db")},"7e56":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Table",{attrs:{"show-header":"",border:!1,"no-data-text":t.$t("basic.tip.noReports"),columns:t.report.columns,data:t.report.data}})},i=[],o=a("120c"),n=a("eb8a"),r=a("9648"),l={props:{data:[]},data(){return{load:!1,report:{columns:[{title:this.$i18n.t("account.reported"),key:"originName",fixed:"left",minWidth:200,maxWidth:300,ellipsis:!0,tooltip:!0,render:(t,e)=>{const a=this,s=window.location.origin+a.$router.resolve({name:"player",params:{ouid:e.row.originPersonaId}}).href;return t("row",{props:{type:"flex",align:"middle"},class:"reports-table"},[t("Col",[t("Avatar",{props:{src:e.row.avatarLink},style:{margin:"0 10px 0 0"}})]),t(o["a"],{props:{text:e.row.originName,isPoptip:!1,href:s},style:{overflow:"hidden",display:"inline",width:"calc(100% - 50px)","text-overflow":"ellipsis","white-space":"nowrap","word-break":"break-all"},on:{click:()=>{a.$router.push({name:"player",params:{ouid:e.row.originPersonaId}})}}},e.row.originName),t("div",{class:"reports-table-mark"})])}},{title:this.$i18n.t("signup.form.originId"),key:"originPersonaId",ellipsis:!0,width:200,align:"center",render:(t,e)=>t("div",[t("p",e.row.originPersonaId)])},{title:this.$i18n.t("account.status"),key:"status",width:200,align:"center",render:(t,e)=>t("div",[t(n["a"],{props:{status:e.row.status}},e.row.status)])},{title:this.$i18n.t("list.colums.reportTime"),key:"createTime",sortable:!0,minWidth:150,render:(t,e)=>t("Tag",{props:{color:"primary"}},[t(r["a"],{props:{time:e.row.createTime}},[t("Time",{props:{time:e.row.createTime,type:"datetime"}})])])},{title:this.$i18n.t("list.colums.updateTime"),key:"updateTime",align:"center",width:200,sortable:!0,render:(t,e)=>t("tag",{props:{color:"primary"}},[t(r["a"],{props:{time:e.row.createTime}},[t("Time",{props:{time:e.row.updateTime}})])])}],data:[]}}},watch:{$route:"loadData",data:"loadData"},components:{},methods:{loadData(){this.data.length>0&&(this.report.data=this.data)}}},c=l,d=(a("fdc6"),a("2877")),m=Object(d["a"])(c,s,i,!1,null,null,null);e["a"]=m.exports},"7f22":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.adId&&t.adsSwitch?a("Card",{staticClass:"ad-container",class:t.adId&&t.ads[t.adId].class||[],style:t.ads[t.adId].style,attrs:{"dis-hover":"",padding:0}},[a("div",{staticClass:"ad-off",on:{click:t.offAds}},[a("Icon",{attrs:{size:"10",type:"md-close"}})],1)]):t._e()},i=[],o=a("e4b4"),n={name:"AdsGoogle",props:{id:{type:[Number,String],default:()=>"7930151828"}},watch:{id:{handler(t){this.adId=t}}},data(){return{account_storage:o["a"],adId:"",adClient:"ca-pub-6625226616103631",ads:{7930151828:{style:"width: 100%;min-height: 80px;",class:[],adFormat:"true",fullWidthResponsive:"true"},1760339032:{name:"right",style:"width: 100%;min-height: 300px;margin-bottom: 10px;",class:[],adFormat:"true",fullWidthResponsive:"true"},6674125493:{name:"bfban-x",style:"width: 100%;min-height: 200px;",class:[],adFormat:"autorelaxed",fullWidthResponsive:"true"}}}},created(){this.adId=this.id},methods:{offAds(){o["a"].updateConfiguration("ads.google.switch",!1),this.$router.push({name:this.$router.name,query:{...this.$route.query,skipAds:!0}})}},computed:{adsSwitch(){const t=this.$route.query["skipAds"]||!1,e=o["a"].getConfiguration("ads.google.switch")||!1;return!t&&e}}},r=n,l=(a("560f"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,null,null);e["a"]=c.exports},"83c2":function(t,e,a){},"83ce":function(t,e,a){"use strict";a("0031")},"840b":function(t,e,a){},"861d4":function(t,e,a){},"871a":function(t,e,a){"use strict";a("1352")},"95e3":function(t){t.exports=JSON.parse('{"title":"cheaterStatus","child":[{"value":0,"class":"green","values":["0"]},{"value":5,"class":"#535353","values":["5"]},{"value":6,"class":"#FF6E40","values":["6"]},{"value":1,"class":"error","values":["1"]},{"value":2,"class":"green","values":["2"]},{"value":3,"class":"warning","values":["3"]},{"value":4,"class":"grey","values":["4"]},{"value":8,"class":"green","values":["8"]},{"value":9,"class":"green","values":["9"]}]}')},"95f9":function(t,e,a){},"9a0a":function(t,e,a){"use strict";a("1e1c")},a00f:function(t,e,a){},a68a:function(t,e,a){"use strict";a("83c2")},aa6e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Poptip",{staticStyle:{display:"inline-flex","align-items":"center"},attrs:{padding:t.padding,width:t.width,transfer:!0,trigger:"hover",placement:"bottom"},on:{"on-popper-show":t.getUserInfo}},[t._t("default"),a("div",{staticClass:"business",attrs:{slot:"content"},slot:"content"},[a("Confetti",{attrs:{y:0,emojiCount:200,switch:new Date(t.userInfo.joinTime).getTime()<new Date("2020 01-01").getTime()||t.userInfo.id<=1e3&&t.showStatus}},[a("Banner",{attrs:{height:150}},[t.loadErr?t._e():a("div",{staticClass:"business-padding business-padding-perpendicularity"},[a("Row",[a("Col",{attrs:{flex:"1"}},[a("h2",[a("Row",{attrs:{gutter:10}},[t.userInfo.userAvatar?a("Col",[a("Avatar",{attrs:{shape:"square",size:"20",icon:"ios-person",src:""+t.userInfo.userAvatar}})],1):t._e(),a("Col",{attrs:{flex:"1"}},[a("a",{attrs:{href:"/space/"+t.userInfo.id,target:"_blank"}},[t._v(t._s(t.userInfo.username))])])],1)],1),t.userInfo.privilege?a("PrivilegesTag",{attrs:{data:t.userInfo.privilege}}):t._e()],1),a("Col",[t._v(" # "+t._s(t.userInfo.id)+" ")])],1)],1),t.loadErr?[a("Row",[a("Col",{attrs:{align:"center"}},[a("Icon",{attrs:{type:"md-alert",size:"40",color:"red"}})],1)],1)]:t._e()],2)],1),t.loadErr?t._e():a("div",[a("Card",{staticStyle:{margin:"15px 15px"},attrs:{"dis-hover":""}},[a("Html",{staticClass:"introduction",attrs:{html:t.userInfo.attr&&t.userInfo.attr.introduction?t.userInfo.attr.introduction:"(✿◡‿◡)"}})],1),t.isLogin&&t.isAdmin&&t.showAdminUserInfo?[a("Card",{staticClass:"business-padding",staticStyle:{margin:"10px 15px"},attrs:{"dis-hover":""}},[a("Row",[a("Col",{attrs:{flex:"1"}},[a("Icon",{attrs:{type:"md-eye",size:"17"}})],1),a("Col",[a("PrivilegesTag",{attrs:{data:["super","root","dev"]}})],1)],1),a("br"),a("p",[a("b",[t._v("User Orgin:")])]),t.userInfo.origin?a("code",{staticStyle:{width:"100%","white-space":"pre-line"},attrs:{type:"json"}},[t._v(t._s(t.userInfo.origin))]):t._e(),a("p",[a("b",[t._v("User Attr:")])]),t.userInfo.attr?a("code",{staticStyle:{width:"100%","white-space":"pre-line"},attrs:{type:"json"}},[t._v(t._s(t.userInfo.attr))]):t._e()],1)]:t._e(),a("Row",{staticClass:"business-padding business-padding-perpendicularity"},[a("Col",{attrs:{flex:"auto"}},[t.userInfo.attr&&t.userInfo.attr.achievements?a("AchievementsTag",{attrs:{trigger:"hover",maxOverflow:8,data:t.userInfo.attr.achievements||[]}}):t._e()],1),a("Col",[a("router-link",{attrs:{to:{path:"/space/"+t.userInfo.id,query:{repeat:!0}}}},[a("Button",[a("Icon",{attrs:{type:"ios-send",size:"20"}})],1)],1)],1)],1)],2),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"50"}}),a("p",[t._v("ヾ(◍°∇°◍)ﾉﾞ load...")])],1)],1)],2)},i=[],o=a("e4b4"),n=a("d78a"),r=a("fb1c"),l=a("ad43"),c=a("84af"),d=a("22ca"),m=a("1b08"),u=new l["a"]({props:{showAdminUserInfo:{type:Boolean,default:!1},width:{type:Number,default:400},id:[Number,String],padding:{type:String,default:"0"}},data(){return{localBusinessMap:{},userInfo:{},showStatus:!1,spinShow:!1,loadErr:!1,type:"user"}},components:{PrivilegesTag:n["a"],AchievementsTag:r["a"],Banner:c["a"],Confetti:d["a"],Html:m["a"]},created(){this.http=o["f"].call(this),this.type=this.isAdminL2?"admin":"user"},methods:{getUserInfo(){const t="business";let e=o["n"].session.get(t);if(this.showStatus=!this.showStatus,0==e.code&&(this.localBusinessMap=e.data.value,this.localBusinessMap[this.id]&&(this.userInfo=this.localBusinessMap[this.id])),!(Object.keys(this.userInfo).length>0))switch(this.spinShow=!0,this.type){case"user":o["e"].get(o["c"]["user_info"],{params:{id:this.id}}).then(e=>{const a=e.data;1===a.success?(this.userInfo=a.data,this.localBusinessMap[this.userInfo.id]=this.userInfo,o["n"].session.set(t,this.localBusinessMap)):this.catch()}).catch(()=>{this.loadErr=!0}).finally(()=>{this.spinShow=!1});break;case"admin":this.http.get(o["c"]["user_info4admin"],{params:{id:this.id}}).then(e=>{const a=e.data;1===a.success?(this.userInfo=a.data,this.localBusinessMap[this.userInfo.id]=this.userInfo,o["n"].session.set(t,this.localBusinessMap)):this.catch()}).catch(()=>{this.loadErr=!0}).finally(()=>{this.spinShow=!1});break}}}}),p=u,h=(a("d930"),a("2877")),f=Object(h["a"])(p,s,i,!1,null,null,null);e["a"]=f.exports},b3a8:function(t,e,a){"use strict";a("840b")},b8e9:function(t,e,a){},ba57:function(t,e,a){},babc:function(t,e,a){"use strict";a("3329")},be4b:function(t,e,a){
/*! FileSaver.js
 *  A saveAs() FileSaver implementation.
 *  2014-01-24
 *
 *  By Eli Grey, http://eligrey.com
 *  License: X11/MIT
 *    See LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/main/FileSaver.js */
var s=s||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,a=function(){return t.URL||t.webkitURL||t},s=t.URL||t.webkitURL||t,i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!t.externalHost&&"download"in i,n=t.webkitRequestFileSystem,r=t.requestFileSystem||n||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},c="application/octet-stream",d=0,m=[],u=function(){var t=m.length;while(t--){var e=m[t];"string"===typeof e?s.revokeObjectURL(e):e.remove()}m.length=0},p=function(t,e,a){e=[].concat(e);var s=e.length;while(s--){var i=t["on"+e[s]];if("function"===typeof i)try{i.call(t,a||t)}catch(o){l(o)}}},h=function(s,l){var u,h,f,g=this,v=s.type,b=!1,y=function(){var t=a().createObjectURL(s);return m.push(t),t},w=function(){p(g,"writestart progress write writeend".split(" "))},_=function(){!b&&u||(u=y(s)),h?h.location.href=u:window.open(u,"_blank"),g.readyState=g.DONE,w()},x=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},C={create:!0,exclusive:!1};if(g.readyState=g.INIT,l||(l="download"),o){u=y(s),e=t.document,i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i.href=u,i.download=l;var I=e.createEvent("MouseEvents");return I.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(I),g.readyState=g.DONE,void w()}t.chrome&&v&&v!==c&&(f=s.slice||s.webkitSlice,s=f.call(s,0,s.size,c),b=!0),n&&"download"!==l&&(l+=".download"),(v===c||n)&&(h=t),r?(d+=s.size,r(t.TEMPORARY,d,x((function(t){t.root.getDirectory("saved",C,x((function(t){var e=function(){t.getFile(l,C,x((function(t){t.createWriter(x((function(e){e.onwriteend=function(e){h.location.href=t.toURL(),m.push(t),g.readyState=g.DONE,p(g,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&_()},"writestart progress write abort".split(" ").forEach((function(t){e["on"+t]=g["on"+t]})),e.write(s),g.abort=function(){e.abort(),g.readyState=g.DONE},g.readyState=g.WRITING})),_)})),_)};t.getFile(l,{create:!1},x((function(t){t.remove(),e()})),x((function(t){t.code===t.NOT_FOUND_ERR?e():_()})))})),_)})),_)):_()},f=h.prototype,g=function(t,e){return new h(t,e)};return f.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,t.addEventListener("unload",u,!1),g.unload=function(){u(),t.removeEventListener("unload",u,!1)},g}}("undefined"!==typeof window&&window||this.content);t.exports=s},c7c5:function(t){t.exports=JSON.parse('{"name":"messgae","sendTypes":[{"title":"direct","privilege":["normal","admin","root","super","dev"]},{"title":"warn","privilege":["root","super","dev"]},{"title":"fatal","privilege":["root","super","dev"]},{"title":"toAll","privilege":["root","super","dev"]},{"title":"toAdmins","privilege":["super","admin","dev"]},{"title":"toNormals","privilege":["super","admin"]},{"title":"command","privilege":["root","dev"]}],"typeDictionary":["direct","warn","fatal"]}')},cf12:function(t,e,a){},d5db:function(t,e,a){},d831:function(t,e,a){"use strict";a("b8e9")},d930:function(t,e,a){"use strict";a("32b1")},dd3f:function(t,e,a){},e57e:function(t,e,a){"use strict";a("dd3f")},e9d6:function(t,e,a){t.exports=a.p+"assets/img/open-component.cf603f01.png"},eb8a:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.status>=0?a("Tag",{attrs:{color:t.cheaterStatusClass(t.status||0)}},[t._v(" "+t._s(t.$t("basic.status."+(t.status||0)+".text"))+" "),a("span",{staticClass:"judge-action-before-icon"},[a("Poptip",{attrs:{trigger:"hover",transfer:!0,"word-wrap":"",width:"200",content:t.$t("basic.status."+(t.status||0)+".describe")}},[a("Icon",{attrs:{type:"md-help"}})],1)],1)]):t._e()},i=[],o=a("e4b4"),n={props:{status:{type:Number,default:0}},data(){return{util:o["q"],cheaterStatus:[]}},watch:{$route:"loadData"},created(){this.loadData()},methods:{async loadData(){await o["q"].initUtil().then(t=>{this.cheaterStatus=t.cheaterStatus})},cheaterStatusClass(t){const e="#535353";if(null==t)return e;let a=this.cheaterStatus.filter(e=>e.value==t);return a.length<=0?e:a[0]["class"]||e}}},r=n,l=(a("b3a8"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"f0c53fe2",null);e["a"]=c.exports},fb1c:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",{attrs:{gutter:5}},[t.processingSortList.length>=0?[t._l(t.processingSortList.slice(0,t.maxOverflow),(function(e,s){return a("Col",{key:s},[a("AchievementView",{attrs:{id:e.name,time:e.acquisitionTime,onlyShow:!0}},[a("img",{attrs:{src:t.achievementUtil.getIcon(t.achievementUtil.getItem(e.name)["iconPath"]),alt:"AchievementView",width:t.size,height:t.size}}),a("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("profile.achievement.list."+e.name+".name")))])])],1)})),t.processingSortList.length>t.maxOverflow?a("Col",[a("Poptip",{attrs:{trigger:"hover",transfer:""},scopedSlots:t._u([{key:"content",fn:function(){return t._l(t.processingSortList.slice(t.maxOverflow,t.processingSortList.length),(function(e,s){return a("span",{key:s},[t.achievementUtil.getItem(e.name)["isShowCard"]?a("AchievementView",{attrs:{id:e.name.toString(),time:e.acquisitionTime,onlyShow:!0}},[a("img",{attrs:{src:t.achievementUtil.getIcon(t.achievementUtil.getItem(e.name)["iconPath"]),alt:"img",width:t.size,height:t.size}}),a("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("profile.achievement.list."+e.name+".name")))])]):t._e()],1)}))},proxy:!0}],null,!1,2718573703)},[a("Badge",{attrs:{count:t.processingSortList.slice(t.maxOverflow,t.processingSortList.length).length,offset:[-5,-2]}},[a("Icon",{attrs:{type:"md-more",size:t.size.replace("px","")}})],1)],1)],1):t._e()]:[a("Empty",{attrs:{notHint:!0}})]],2)},i=[],o=a("e4b4"),n=a("02bc"),r=a("0626"),l={data(){return{achievementUtil:o["b"],processingSortList:[]}},props:{data:{type:Array,default:()=>[]},size:{type:String,default:"20px"},showAll:{type:Boolean,default:!1},maxOverflow:{type:Number,default:3}},watch:{$route:"onSort",data:"onSort"},components:{Empty:n["a"],AchievementView:r["a"]},created(){this.onSort()},methods:{onSort(){this.processingSortList=this.data.filter(t=>o["b"].getItem(t.name)["isShowCard"]).sort((t,e)=>t.acquisitionTime-e.acquisitionTime)}}},c=l,d=a("2877"),m=Object(d["a"])(c,s,i,!1,null,"7a580a96",null);e["a"]=m.exports},fd2d:function(t,e,a){"use strict";a("cf12")},fdc6:function(t,e,a){"use strict";a("ba57")}}]);
//# sourceMappingURL=chunk-70e2346e.2.9.17.js.map